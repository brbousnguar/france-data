/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/z-schema";
exports.ids = ["vendor-chunks/z-schema"];
exports.modules = {

/***/ "(rsc)/./node_modules/z-schema/src/Errors.js":
/*!*********************************************!*\
  !*** ./node_modules/z-schema/src/Errors.js ***!
  \*********************************************/
/***/ ((module) => {

"use strict";
eval("\nmodule.exports = {\n    INVALID_TYPE: \"Expected type {0} but found type {1}\",\n    INVALID_FORMAT: \"Object didn't pass validation for format {0}: {1}\",\n    ENUM_MISMATCH: \"No enum match for: {0}\",\n    ENUM_CASE_MISMATCH: \"Enum does not match case for: {0}\",\n    ANY_OF_MISSING: \"Data does not match any schemas from 'anyOf'\",\n    ONE_OF_MISSING: \"Data does not match any schemas from 'oneOf'\",\n    ONE_OF_MULTIPLE: \"Data is valid against more than one schema from 'oneOf'\",\n    NOT_PASSED: \"Data matches schema from 'not'\",\n    // Array errors\n    ARRAY_LENGTH_SHORT: \"Array is too short ({0}), minimum {1}\",\n    ARRAY_LENGTH_LONG: \"Array is too long ({0}), maximum {1}\",\n    ARRAY_UNIQUE: \"Array items are not unique (indexes {0} and {1})\",\n    ARRAY_ADDITIONAL_ITEMS: \"Additional items not allowed\",\n    // Numeric errors\n    MULTIPLE_OF: \"Value {0} is not a multiple of {1}\",\n    MINIMUM: \"Value {0} is less than minimum {1}\",\n    MINIMUM_EXCLUSIVE: \"Value {0} is equal or less than exclusive minimum {1}\",\n    MAXIMUM: \"Value {0} is greater than maximum {1}\",\n    MAXIMUM_EXCLUSIVE: \"Value {0} is equal or greater than exclusive maximum {1}\",\n    // Object errors\n    OBJECT_PROPERTIES_MINIMUM: \"Too few properties defined ({0}), minimum {1}\",\n    OBJECT_PROPERTIES_MAXIMUM: \"Too many properties defined ({0}), maximum {1}\",\n    OBJECT_MISSING_REQUIRED_PROPERTY: \"Missing required property: {0}\",\n    OBJECT_ADDITIONAL_PROPERTIES: \"Additional properties not allowed: {0}\",\n    OBJECT_DEPENDENCY_KEY: \"Dependency failed - key must exist: {0} (due to key: {1})\",\n    // String errors\n    MIN_LENGTH: \"String is too short ({0} chars), minimum {1}\",\n    MAX_LENGTH: \"String is too long ({0} chars), maximum {1}\",\n    PATTERN: \"String does not match pattern {0}: {1}\",\n    // Schema validation errors\n    KEYWORD_TYPE_EXPECTED: \"Keyword '{0}' is expected to be of type '{1}'\",\n    KEYWORD_UNDEFINED_STRICT: \"Keyword '{0}' must be defined in strict mode\",\n    KEYWORD_UNEXPECTED: \"Keyword '{0}' is not expected to appear in the schema\",\n    KEYWORD_MUST_BE: \"Keyword '{0}' must be {1}\",\n    KEYWORD_DEPENDENCY: \"Keyword '{0}' requires keyword '{1}'\",\n    KEYWORD_PATTERN: \"Keyword '{0}' is not a valid RegExp pattern: {1}\",\n    KEYWORD_VALUE_TYPE: \"Each element of keyword '{0}' array must be a '{1}'\",\n    UNKNOWN_FORMAT: \"There is no validation function for format '{0}'\",\n    CUSTOM_MODE_FORCE_PROPERTIES: \"{0} must define at least one property if present\",\n    // Remote errors\n    REF_UNRESOLVED: \"Reference has not been resolved during compilation: {0}\",\n    UNRESOLVABLE_REFERENCE: \"Reference could not be resolved: {0}\",\n    SCHEMA_NOT_REACHABLE: \"Validator was not able to read schema with uri: {0}\",\n    SCHEMA_TYPE_EXPECTED: \"Schema is expected to be of type 'object'\",\n    SCHEMA_NOT_AN_OBJECT: \"Schema is not an object: {0}\",\n    ASYNC_TIMEOUT: \"{0} asynchronous task(s) have timed out after {1} ms\",\n    PARENT_SCHEMA_VALIDATION_FAILED: \"Schema failed to validate against its parent schema, see inner errors for details.\",\n    REMOTE_NOT_VALID: \"Remote reference didn't compile successfully: {0}\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvei1zY2hlbWEvc3JjL0Vycm9ycy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUViQSxPQUFPQyxPQUFPLEdBQUc7SUFFYkMsY0FBd0M7SUFDeENDLGdCQUF3QztJQUN4Q0MsZUFBd0M7SUFDeENDLG9CQUF3QztJQUN4Q0MsZ0JBQXdDO0lBQ3hDQyxnQkFBd0M7SUFDeENDLGlCQUF3QztJQUN4Q0MsWUFBd0M7SUFFeEMsZUFBZTtJQUNmQyxvQkFBd0M7SUFDeENDLG1CQUF3QztJQUN4Q0MsY0FBd0M7SUFDeENDLHdCQUF3QztJQUV4QyxpQkFBaUI7SUFDakJDLGFBQXdDO0lBQ3hDQyxTQUF3QztJQUN4Q0MsbUJBQXdDO0lBQ3hDQyxTQUF3QztJQUN4Q0MsbUJBQXdDO0lBRXhDLGdCQUFnQjtJQUNoQkMsMkJBQXdDO0lBQ3hDQywyQkFBd0M7SUFDeENDLGtDQUF3QztJQUN4Q0MsOEJBQXdDO0lBQ3hDQyx1QkFBd0M7SUFFeEMsZ0JBQWdCO0lBQ2hCQyxZQUF3QztJQUN4Q0MsWUFBd0M7SUFDeENDLFNBQXdDO0lBRXhDLDJCQUEyQjtJQUMzQkMsdUJBQXdDO0lBQ3hDQywwQkFBd0M7SUFDeENDLG9CQUF3QztJQUN4Q0MsaUJBQXdDO0lBQ3hDQyxvQkFBd0M7SUFDeENDLGlCQUF3QztJQUN4Q0Msb0JBQXdDO0lBQ3hDQyxnQkFBd0M7SUFDeENDLDhCQUF3QztJQUV4QyxnQkFBZ0I7SUFDaEJDLGdCQUF3QztJQUN4Q0Msd0JBQXdDO0lBQ3hDQyxzQkFBd0M7SUFDeENDLHNCQUF3QztJQUN4Q0Msc0JBQXdDO0lBQ3hDQyxlQUF3QztJQUN4Q0MsaUNBQXdDO0lBQ3hDQyxrQkFBd0M7QUFFNUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uYW50ZXMtcHVibGljLWRhdGEtZGFzaGJvYXJkLy4vbm9kZV9tb2R1bGVzL3otc2NoZW1hL3NyYy9FcnJvcnMuanM/MjExZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG5cbiAgICBJTlZBTElEX1RZUEU6ICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJFeHBlY3RlZCB0eXBlIHswfSBidXQgZm91bmQgdHlwZSB7MX1cIixcbiAgICBJTlZBTElEX0ZPUk1BVDogICAgICAgICAgICAgICAgICAgICAgICAgXCJPYmplY3QgZGlkbid0IHBhc3MgdmFsaWRhdGlvbiBmb3IgZm9ybWF0IHswfTogezF9XCIsXG4gICAgRU5VTV9NSVNNQVRDSDogICAgICAgICAgICAgICAgICAgICAgICAgIFwiTm8gZW51bSBtYXRjaCBmb3I6IHswfVwiLFxuICAgIEVOVU1fQ0FTRV9NSVNNQVRDSDogICAgICAgICAgICAgICAgICAgICBcIkVudW0gZG9lcyBub3QgbWF0Y2ggY2FzZSBmb3I6IHswfVwiLFxuICAgIEFOWV9PRl9NSVNTSU5HOiAgICAgICAgICAgICAgICAgICAgICAgICBcIkRhdGEgZG9lcyBub3QgbWF0Y2ggYW55IHNjaGVtYXMgZnJvbSAnYW55T2YnXCIsXG4gICAgT05FX09GX01JU1NJTkc6ICAgICAgICAgICAgICAgICAgICAgICAgIFwiRGF0YSBkb2VzIG5vdCBtYXRjaCBhbnkgc2NoZW1hcyBmcm9tICdvbmVPZidcIixcbiAgICBPTkVfT0ZfTVVMVElQTEU6ICAgICAgICAgICAgICAgICAgICAgICAgXCJEYXRhIGlzIHZhbGlkIGFnYWluc3QgbW9yZSB0aGFuIG9uZSBzY2hlbWEgZnJvbSAnb25lT2YnXCIsXG4gICAgTk9UX1BBU1NFRDogICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiRGF0YSBtYXRjaGVzIHNjaGVtYSBmcm9tICdub3QnXCIsXG5cbiAgICAvLyBBcnJheSBlcnJvcnNcbiAgICBBUlJBWV9MRU5HVEhfU0hPUlQ6ICAgICAgICAgICAgICAgICAgICAgXCJBcnJheSBpcyB0b28gc2hvcnQgKHswfSksIG1pbmltdW0gezF9XCIsXG4gICAgQVJSQVlfTEVOR1RIX0xPTkc6ICAgICAgICAgICAgICAgICAgICAgIFwiQXJyYXkgaXMgdG9vIGxvbmcgKHswfSksIG1heGltdW0gezF9XCIsXG4gICAgQVJSQVlfVU5JUVVFOiAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQXJyYXkgaXRlbXMgYXJlIG5vdCB1bmlxdWUgKGluZGV4ZXMgezB9IGFuZCB7MX0pXCIsXG4gICAgQVJSQVlfQURESVRJT05BTF9JVEVNUzogICAgICAgICAgICAgICAgIFwiQWRkaXRpb25hbCBpdGVtcyBub3QgYWxsb3dlZFwiLFxuXG4gICAgLy8gTnVtZXJpYyBlcnJvcnNcbiAgICBNVUxUSVBMRV9PRjogICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJWYWx1ZSB7MH0gaXMgbm90IGEgbXVsdGlwbGUgb2YgezF9XCIsXG4gICAgTUlOSU1VTTogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiVmFsdWUgezB9IGlzIGxlc3MgdGhhbiBtaW5pbXVtIHsxfVwiLFxuICAgIE1JTklNVU1fRVhDTFVTSVZFOiAgICAgICAgICAgICAgICAgICAgICBcIlZhbHVlIHswfSBpcyBlcXVhbCBvciBsZXNzIHRoYW4gZXhjbHVzaXZlIG1pbmltdW0gezF9XCIsXG4gICAgTUFYSU1VTTogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiVmFsdWUgezB9IGlzIGdyZWF0ZXIgdGhhbiBtYXhpbXVtIHsxfVwiLFxuICAgIE1BWElNVU1fRVhDTFVTSVZFOiAgICAgICAgICAgICAgICAgICAgICBcIlZhbHVlIHswfSBpcyBlcXVhbCBvciBncmVhdGVyIHRoYW4gZXhjbHVzaXZlIG1heGltdW0gezF9XCIsXG5cbiAgICAvLyBPYmplY3QgZXJyb3JzXG4gICAgT0JKRUNUX1BST1BFUlRJRVNfTUlOSU1VTTogICAgICAgICAgICAgIFwiVG9vIGZldyBwcm9wZXJ0aWVzIGRlZmluZWQgKHswfSksIG1pbmltdW0gezF9XCIsXG4gICAgT0JKRUNUX1BST1BFUlRJRVNfTUFYSU1VTTogICAgICAgICAgICAgIFwiVG9vIG1hbnkgcHJvcGVydGllcyBkZWZpbmVkICh7MH0pLCBtYXhpbXVtIHsxfVwiLFxuICAgIE9CSkVDVF9NSVNTSU5HX1JFUVVJUkVEX1BST1BFUlRZOiAgICAgICBcIk1pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHk6IHswfVwiLFxuICAgIE9CSkVDVF9BRERJVElPTkFMX1BST1BFUlRJRVM6ICAgICAgICAgICBcIkFkZGl0aW9uYWwgcHJvcGVydGllcyBub3QgYWxsb3dlZDogezB9XCIsXG4gICAgT0JKRUNUX0RFUEVOREVOQ1lfS0VZOiAgICAgICAgICAgICAgICAgIFwiRGVwZW5kZW5jeSBmYWlsZWQgLSBrZXkgbXVzdCBleGlzdDogezB9IChkdWUgdG8ga2V5OiB7MX0pXCIsXG5cbiAgICAvLyBTdHJpbmcgZXJyb3JzXG4gICAgTUlOX0xFTkdUSDogICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiU3RyaW5nIGlzIHRvbyBzaG9ydCAoezB9IGNoYXJzKSwgbWluaW11bSB7MX1cIixcbiAgICBNQVhfTEVOR1RIOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJTdHJpbmcgaXMgdG9vIGxvbmcgKHswfSBjaGFycyksIG1heGltdW0gezF9XCIsXG4gICAgUEFUVEVSTjogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiU3RyaW5nIGRvZXMgbm90IG1hdGNoIHBhdHRlcm4gezB9OiB7MX1cIixcblxuICAgIC8vIFNjaGVtYSB2YWxpZGF0aW9uIGVycm9yc1xuICAgIEtFWVdPUkRfVFlQRV9FWFBFQ1RFRDogICAgICAgICAgICAgICAgICBcIktleXdvcmQgJ3swfScgaXMgZXhwZWN0ZWQgdG8gYmUgb2YgdHlwZSAnezF9J1wiLFxuICAgIEtFWVdPUkRfVU5ERUZJTkVEX1NUUklDVDogICAgICAgICAgICAgICBcIktleXdvcmQgJ3swfScgbXVzdCBiZSBkZWZpbmVkIGluIHN0cmljdCBtb2RlXCIsXG4gICAgS0VZV09SRF9VTkVYUEVDVEVEOiAgICAgICAgICAgICAgICAgICAgIFwiS2V5d29yZCAnezB9JyBpcyBub3QgZXhwZWN0ZWQgdG8gYXBwZWFyIGluIHRoZSBzY2hlbWFcIixcbiAgICBLRVlXT1JEX01VU1RfQkU6ICAgICAgICAgICAgICAgICAgICAgICAgXCJLZXl3b3JkICd7MH0nIG11c3QgYmUgezF9XCIsXG4gICAgS0VZV09SRF9ERVBFTkRFTkNZOiAgICAgICAgICAgICAgICAgICAgIFwiS2V5d29yZCAnezB9JyByZXF1aXJlcyBrZXl3b3JkICd7MX0nXCIsXG4gICAgS0VZV09SRF9QQVRURVJOOiAgICAgICAgICAgICAgICAgICAgICAgIFwiS2V5d29yZCAnezB9JyBpcyBub3QgYSB2YWxpZCBSZWdFeHAgcGF0dGVybjogezF9XCIsXG4gICAgS0VZV09SRF9WQUxVRV9UWVBFOiAgICAgICAgICAgICAgICAgICAgIFwiRWFjaCBlbGVtZW50IG9mIGtleXdvcmQgJ3swfScgYXJyYXkgbXVzdCBiZSBhICd7MX0nXCIsXG4gICAgVU5LTk9XTl9GT1JNQVQ6ICAgICAgICAgICAgICAgICAgICAgICAgIFwiVGhlcmUgaXMgbm8gdmFsaWRhdGlvbiBmdW5jdGlvbiBmb3IgZm9ybWF0ICd7MH0nXCIsXG4gICAgQ1VTVE9NX01PREVfRk9SQ0VfUFJPUEVSVElFUzogICAgICAgICAgIFwiezB9IG11c3QgZGVmaW5lIGF0IGxlYXN0IG9uZSBwcm9wZXJ0eSBpZiBwcmVzZW50XCIsXG5cbiAgICAvLyBSZW1vdGUgZXJyb3JzXG4gICAgUkVGX1VOUkVTT0xWRUQ6ICAgICAgICAgICAgICAgICAgICAgICAgIFwiUmVmZXJlbmNlIGhhcyBub3QgYmVlbiByZXNvbHZlZCBkdXJpbmcgY29tcGlsYXRpb246IHswfVwiLFxuICAgIFVOUkVTT0xWQUJMRV9SRUZFUkVOQ0U6ICAgICAgICAgICAgICAgICBcIlJlZmVyZW5jZSBjb3VsZCBub3QgYmUgcmVzb2x2ZWQ6IHswfVwiLFxuICAgIFNDSEVNQV9OT1RfUkVBQ0hBQkxFOiAgICAgICAgICAgICAgICAgICBcIlZhbGlkYXRvciB3YXMgbm90IGFibGUgdG8gcmVhZCBzY2hlbWEgd2l0aCB1cmk6IHswfVwiLFxuICAgIFNDSEVNQV9UWVBFX0VYUEVDVEVEOiAgICAgICAgICAgICAgICAgICBcIlNjaGVtYSBpcyBleHBlY3RlZCB0byBiZSBvZiB0eXBlICdvYmplY3QnXCIsXG4gICAgU0NIRU1BX05PVF9BTl9PQkpFQ1Q6ICAgICAgICAgICAgICAgICAgIFwiU2NoZW1hIGlzIG5vdCBhbiBvYmplY3Q6IHswfVwiLFxuICAgIEFTWU5DX1RJTUVPVVQ6ICAgICAgICAgICAgICAgICAgICAgICAgICBcInswfSBhc3luY2hyb25vdXMgdGFzayhzKSBoYXZlIHRpbWVkIG91dCBhZnRlciB7MX0gbXNcIixcbiAgICBQQVJFTlRfU0NIRU1BX1ZBTElEQVRJT05fRkFJTEVEOiAgICAgICAgXCJTY2hlbWEgZmFpbGVkIHRvIHZhbGlkYXRlIGFnYWluc3QgaXRzIHBhcmVudCBzY2hlbWEsIHNlZSBpbm5lciBlcnJvcnMgZm9yIGRldGFpbHMuXCIsXG4gICAgUkVNT1RFX05PVF9WQUxJRDogICAgICAgICAgICAgICAgICAgICAgIFwiUmVtb3RlIHJlZmVyZW5jZSBkaWRuJ3QgY29tcGlsZSBzdWNjZXNzZnVsbHk6IHswfVwiXG5cbn07XG4iXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsIklOVkFMSURfVFlQRSIsIklOVkFMSURfRk9STUFUIiwiRU5VTV9NSVNNQVRDSCIsIkVOVU1fQ0FTRV9NSVNNQVRDSCIsIkFOWV9PRl9NSVNTSU5HIiwiT05FX09GX01JU1NJTkciLCJPTkVfT0ZfTVVMVElQTEUiLCJOT1RfUEFTU0VEIiwiQVJSQVlfTEVOR1RIX1NIT1JUIiwiQVJSQVlfTEVOR1RIX0xPTkciLCJBUlJBWV9VTklRVUUiLCJBUlJBWV9BRERJVElPTkFMX0lURU1TIiwiTVVMVElQTEVfT0YiLCJNSU5JTVVNIiwiTUlOSU1VTV9FWENMVVNJVkUiLCJNQVhJTVVNIiwiTUFYSU1VTV9FWENMVVNJVkUiLCJPQkpFQ1RfUFJPUEVSVElFU19NSU5JTVVNIiwiT0JKRUNUX1BST1BFUlRJRVNfTUFYSU1VTSIsIk9CSkVDVF9NSVNTSU5HX1JFUVVJUkVEX1BST1BFUlRZIiwiT0JKRUNUX0FERElUSU9OQUxfUFJPUEVSVElFUyIsIk9CSkVDVF9ERVBFTkRFTkNZX0tFWSIsIk1JTl9MRU5HVEgiLCJNQVhfTEVOR1RIIiwiUEFUVEVSTiIsIktFWVdPUkRfVFlQRV9FWFBFQ1RFRCIsIktFWVdPUkRfVU5ERUZJTkVEX1NUUklDVCIsIktFWVdPUkRfVU5FWFBFQ1RFRCIsIktFWVdPUkRfTVVTVF9CRSIsIktFWVdPUkRfREVQRU5ERU5DWSIsIktFWVdPUkRfUEFUVEVSTiIsIktFWVdPUkRfVkFMVUVfVFlQRSIsIlVOS05PV05fRk9STUFUIiwiQ1VTVE9NX01PREVfRk9SQ0VfUFJPUEVSVElFUyIsIlJFRl9VTlJFU09MVkVEIiwiVU5SRVNPTFZBQkxFX1JFRkVSRU5DRSIsIlNDSEVNQV9OT1RfUkVBQ0hBQkxFIiwiU0NIRU1BX1RZUEVfRVhQRUNURUQiLCJTQ0hFTUFfTk9UX0FOX09CSkVDVCIsIkFTWU5DX1RJTUVPVVQiLCJQQVJFTlRfU0NIRU1BX1ZBTElEQVRJT05fRkFJTEVEIiwiUkVNT1RFX05PVF9WQUxJRCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/z-schema/src/Errors.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/z-schema/src/FormatValidators.js":
/*!*******************************************************!*\
  !*** ./node_modules/z-schema/src/FormatValidators.js ***!
  \*******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("/*jshint maxlen: false*/ \nvar validator = __webpack_require__(/*! validator */ \"(rsc)/./node_modules/validator/index.js\");\nvar FormatValidators = {\n    \"date\": function(date) {\n        if (typeof date !== \"string\") {\n            return true;\n        }\n        // full-date from http://tools.ietf.org/html/rfc3339#section-5.6\n        var matches = /^([0-9]{4})-([0-9]{2})-([0-9]{2})$/.exec(date);\n        if (matches === null) {\n            return false;\n        }\n        // var year = matches[1];\n        // var month = matches[2];\n        // var day = matches[3];\n        if (matches[2] < \"01\" || matches[2] > \"12\" || matches[3] < \"01\" || matches[3] > \"31\") {\n            return false;\n        }\n        return true;\n    },\n    \"date-time\": function(dateTime) {\n        if (typeof dateTime !== \"string\") {\n            return true;\n        }\n        // date-time from http://tools.ietf.org/html/rfc3339#section-5.6\n        var s = dateTime.toLowerCase().split(\"t\");\n        if (!FormatValidators.date(s[0])) {\n            return false;\n        }\n        var matches = /^([0-9]{2}):([0-9]{2}):([0-9]{2})(.[0-9]+)?(z|([+-][0-9]{2}:[0-9]{2}))$/.exec(s[1]);\n        if (matches === null) {\n            return false;\n        }\n        // var hour = matches[1];\n        // var minute = matches[2];\n        // var second = matches[3];\n        // var fraction = matches[4];\n        // var timezone = matches[5];\n        if (matches[1] > \"23\" || matches[2] > \"59\" || matches[3] > \"59\") {\n            return false;\n        }\n        return true;\n    },\n    \"email\": function(email) {\n        if (typeof email !== \"string\") {\n            return true;\n        }\n        return validator.isEmail(email, {\n            \"require_tld\": true\n        });\n    },\n    \"hostname\": function(hostname) {\n        if (typeof hostname !== \"string\") {\n            return true;\n        }\n        /*\n            http://json-schema.org/latest/json-schema-validation.html#anchor114\n            A string instance is valid against this attribute if it is a valid\n            representation for an Internet host name, as defined by RFC 1034, section 3.1 [RFC1034].\n\n            http://tools.ietf.org/html/rfc1034#section-3.5\n\n            <digit> ::= any one of the ten digits 0 through 9\n            var digit = /[0-9]/;\n\n            <letter> ::= any one of the 52 alphabetic characters A through Z in upper case and a through z in lower case\n            var letter = /[a-zA-Z]/;\n\n            <let-dig> ::= <letter> | <digit>\n            var letDig = /[0-9a-zA-Z]/;\n\n            <let-dig-hyp> ::= <let-dig> | \"-\"\n            var letDigHyp = /[-0-9a-zA-Z]/;\n\n            <ldh-str> ::= <let-dig-hyp> | <let-dig-hyp> <ldh-str>\n            var ldhStr = /[-0-9a-zA-Z]+/;\n\n            <label> ::= <letter> [ [ <ldh-str> ] <let-dig> ]\n            var label = /[a-zA-Z](([-0-9a-zA-Z]+)?[0-9a-zA-Z])?/;\n\n            <subdomain> ::= <label> | <subdomain> \".\" <label>\n            var subdomain = /^[a-zA-Z](([-0-9a-zA-Z]+)?[0-9a-zA-Z])?(\\.[a-zA-Z](([-0-9a-zA-Z]+)?[0-9a-zA-Z])?)*$/;\n\n            <domain> ::= <subdomain> | \" \"\n            var domain = null;\n        */ var valid = /^[a-zA-Z](([-0-9a-zA-Z]+)?[0-9a-zA-Z])?(\\.[a-zA-Z](([-0-9a-zA-Z]+)?[0-9a-zA-Z])?)*$/.test(hostname);\n        if (valid) {\n            // the sum of all label octets and label lengths is limited to 255.\n            if (hostname.length > 255) {\n                return false;\n            }\n            // Each node has a label, which is zero to 63 octets in length\n            var labels = hostname.split(\".\");\n            for(var i = 0; i < labels.length; i++){\n                if (labels[i].length > 63) {\n                    return false;\n                }\n            }\n        }\n        return valid;\n    },\n    \"host-name\": function(hostname) {\n        return FormatValidators.hostname.call(this, hostname);\n    },\n    \"ipv4\": function(ipv4) {\n        if (typeof ipv4 !== \"string\") {\n            return true;\n        }\n        return validator.isIP(ipv4, 4);\n    },\n    \"ipv6\": function(ipv6) {\n        if (typeof ipv6 !== \"string\") {\n            return true;\n        }\n        return validator.isIP(ipv6, 6);\n    },\n    \"regex\": function(str) {\n        try {\n            RegExp(str);\n            return true;\n        } catch (e) {\n            return false;\n        }\n    },\n    \"uri\": function(uri) {\n        if (this.options.strictUris) {\n            return FormatValidators[\"strict-uri\"].apply(this, arguments);\n        }\n        // https://github.com/zaggino/z-schema/issues/18\n        // RegExp from http://tools.ietf.org/html/rfc3986#appendix-B\n        return typeof uri !== \"string\" || RegExp(\"^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\\\?([^#]*))?(#(.*))?\").test(uri);\n    },\n    \"strict-uri\": function(uri) {\n        return typeof uri !== \"string\" || validator.isURL(uri);\n    }\n};\nmodule.exports = FormatValidators;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvei1zY2hlbWEvc3JjL0Zvcm1hdFZhbGlkYXRvcnMuanMiLCJtYXBwaW5ncyI6IkFBQUEsc0JBQXNCO0FBRXRCLElBQUlBLFlBQVlDLG1CQUFPQSxDQUFDLDBEQUFXO0FBRW5DLElBQUlDLG1CQUFtQjtJQUNuQixRQUFRLFNBQVVDLElBQUk7UUFDbEIsSUFBSSxPQUFPQSxTQUFTLFVBQVU7WUFDMUIsT0FBTztRQUNYO1FBQ0EsZ0VBQWdFO1FBQ2hFLElBQUlDLFVBQVUscUNBQXFDQyxJQUFJLENBQUNGO1FBQ3hELElBQUlDLFlBQVksTUFBTTtZQUNsQixPQUFPO1FBQ1g7UUFDQSx5QkFBeUI7UUFDekIsMEJBQTBCO1FBQzFCLHdCQUF3QjtRQUN4QixJQUFJQSxPQUFPLENBQUMsRUFBRSxHQUFHLFFBQVFBLE9BQU8sQ0FBQyxFQUFFLEdBQUcsUUFBUUEsT0FBTyxDQUFDLEVBQUUsR0FBRyxRQUFRQSxPQUFPLENBQUMsRUFBRSxHQUFHLE1BQU07WUFDbEYsT0FBTztRQUNYO1FBQ0EsT0FBTztJQUNYO0lBQ0EsYUFBYSxTQUFVRSxRQUFRO1FBQzNCLElBQUksT0FBT0EsYUFBYSxVQUFVO1lBQzlCLE9BQU87UUFDWDtRQUNBLGdFQUFnRTtRQUNoRSxJQUFJQyxJQUFJRCxTQUFTRSxXQUFXLEdBQUdDLEtBQUssQ0FBQztRQUNyQyxJQUFJLENBQUNQLGlCQUFpQkMsSUFBSSxDQUFDSSxDQUFDLENBQUMsRUFBRSxHQUFHO1lBQzlCLE9BQU87UUFDWDtRQUNBLElBQUlILFVBQVUsMEVBQTBFQyxJQUFJLENBQUNFLENBQUMsQ0FBQyxFQUFFO1FBQ2pHLElBQUlILFlBQVksTUFBTTtZQUNsQixPQUFPO1FBQ1g7UUFDQSx5QkFBeUI7UUFDekIsMkJBQTJCO1FBQzNCLDJCQUEyQjtRQUMzQiw2QkFBNkI7UUFDN0IsNkJBQTZCO1FBQzdCLElBQUlBLE9BQU8sQ0FBQyxFQUFFLEdBQUcsUUFBUUEsT0FBTyxDQUFDLEVBQUUsR0FBRyxRQUFRQSxPQUFPLENBQUMsRUFBRSxHQUFHLE1BQU07WUFDN0QsT0FBTztRQUNYO1FBQ0EsT0FBTztJQUNYO0lBQ0EsU0FBUyxTQUFVTSxLQUFLO1FBQ3BCLElBQUksT0FBT0EsVUFBVSxVQUFVO1lBQzNCLE9BQU87UUFDWDtRQUNBLE9BQU9WLFVBQVVXLE9BQU8sQ0FBQ0QsT0FBTztZQUFFLGVBQWU7UUFBSztJQUMxRDtJQUNBLFlBQVksU0FBVUUsUUFBUTtRQUMxQixJQUFJLE9BQU9BLGFBQWEsVUFBVTtZQUM5QixPQUFPO1FBQ1g7UUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1FBOEJBLEdBQ0EsSUFBSUMsUUFBUSxzRkFBc0ZDLElBQUksQ0FBQ0Y7UUFDdkcsSUFBSUMsT0FBTztZQUNQLG1FQUFtRTtZQUNuRSxJQUFJRCxTQUFTRyxNQUFNLEdBQUcsS0FBSztnQkFBRSxPQUFPO1lBQU87WUFDM0MsOERBQThEO1lBQzlELElBQUlDLFNBQVNKLFNBQVNILEtBQUssQ0FBQztZQUM1QixJQUFLLElBQUlRLElBQUksR0FBR0EsSUFBSUQsT0FBT0QsTUFBTSxFQUFFRSxJQUFLO2dCQUFFLElBQUlELE1BQU0sQ0FBQ0MsRUFBRSxDQUFDRixNQUFNLEdBQUcsSUFBSTtvQkFBRSxPQUFPO2dCQUFPO1lBQUU7UUFDM0Y7UUFDQSxPQUFPRjtJQUNYO0lBQ0EsYUFBYSxTQUFVRCxRQUFRO1FBQzNCLE9BQU9WLGlCQUFpQlUsUUFBUSxDQUFDTSxJQUFJLENBQUMsSUFBSSxFQUFFTjtJQUNoRDtJQUNBLFFBQVEsU0FBVU8sSUFBSTtRQUNsQixJQUFJLE9BQU9BLFNBQVMsVUFBVTtZQUFFLE9BQU87UUFBTTtRQUM3QyxPQUFPbkIsVUFBVW9CLElBQUksQ0FBQ0QsTUFBTTtJQUNoQztJQUNBLFFBQVEsU0FBVUUsSUFBSTtRQUNsQixJQUFJLE9BQU9BLFNBQVMsVUFBVTtZQUFFLE9BQU87UUFBTTtRQUM3QyxPQUFPckIsVUFBVW9CLElBQUksQ0FBQ0MsTUFBTTtJQUNoQztJQUNBLFNBQVMsU0FBVUMsR0FBRztRQUNsQixJQUFJO1lBQ0FDLE9BQU9EO1lBQ1AsT0FBTztRQUNYLEVBQUUsT0FBT0UsR0FBRztZQUNSLE9BQU87UUFDWDtJQUNKO0lBQ0EsT0FBTyxTQUFVQyxHQUFHO1FBQ2hCLElBQUksSUFBSSxDQUFDQyxPQUFPLENBQUNDLFVBQVUsRUFBRTtZQUN6QixPQUFPekIsZ0JBQWdCLENBQUMsYUFBYSxDQUFDMEIsS0FBSyxDQUFDLElBQUksRUFBRUM7UUFDdEQ7UUFDQSxnREFBZ0Q7UUFDaEQsNERBQTREO1FBQzVELE9BQU8sT0FBT0osUUFBUSxZQUFZRixPQUFPLDhEQUE4RFQsSUFBSSxDQUFDVztJQUNoSDtJQUNBLGNBQWMsU0FBVUEsR0FBRztRQUN2QixPQUFPLE9BQU9BLFFBQVEsWUFBWXpCLFVBQVU4QixLQUFLLENBQUNMO0lBQ3REO0FBQ0o7QUFFQU0sT0FBT0MsT0FBTyxHQUFHOUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uYW50ZXMtcHVibGljLWRhdGEtZGFzaGJvYXJkLy4vbm9kZV9tb2R1bGVzL3otc2NoZW1hL3NyYy9Gb3JtYXRWYWxpZGF0b3JzLmpzPzM0Y2UiXSwic291cmNlc0NvbnRlbnQiOlsiLypqc2hpbnQgbWF4bGVuOiBmYWxzZSovXG5cbnZhciB2YWxpZGF0b3IgPSByZXF1aXJlKFwidmFsaWRhdG9yXCIpO1xuXG52YXIgRm9ybWF0VmFsaWRhdG9ycyA9IHtcbiAgICBcImRhdGVcIjogZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBmdWxsLWRhdGUgZnJvbSBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMzM5I3NlY3Rpb24tNS42XG4gICAgICAgIHZhciBtYXRjaGVzID0gL14oWzAtOV17NH0pLShbMC05XXsyfSktKFswLTldezJ9KSQvLmV4ZWMoZGF0ZSk7XG4gICAgICAgIGlmIChtYXRjaGVzID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmFyIHllYXIgPSBtYXRjaGVzWzFdO1xuICAgICAgICAvLyB2YXIgbW9udGggPSBtYXRjaGVzWzJdO1xuICAgICAgICAvLyB2YXIgZGF5ID0gbWF0Y2hlc1szXTtcbiAgICAgICAgaWYgKG1hdGNoZXNbMl0gPCBcIjAxXCIgfHwgbWF0Y2hlc1syXSA+IFwiMTJcIiB8fCBtYXRjaGVzWzNdIDwgXCIwMVwiIHx8IG1hdGNoZXNbM10gPiBcIjMxXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIFwiZGF0ZS10aW1lXCI6IGZ1bmN0aW9uIChkYXRlVGltZSkge1xuICAgICAgICBpZiAodHlwZW9mIGRhdGVUaW1lICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBkYXRlLXRpbWUgZnJvbSBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMzM5I3NlY3Rpb24tNS42XG4gICAgICAgIHZhciBzID0gZGF0ZVRpbWUudG9Mb3dlckNhc2UoKS5zcGxpdChcInRcIik7XG4gICAgICAgIGlmICghRm9ybWF0VmFsaWRhdG9ycy5kYXRlKHNbMF0pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1hdGNoZXMgPSAvXihbMC05XXsyfSk6KFswLTldezJ9KTooWzAtOV17Mn0pKC5bMC05XSspPyh6fChbKy1dWzAtOV17Mn06WzAtOV17Mn0pKSQvLmV4ZWMoc1sxXSk7XG4gICAgICAgIGlmIChtYXRjaGVzID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmFyIGhvdXIgPSBtYXRjaGVzWzFdO1xuICAgICAgICAvLyB2YXIgbWludXRlID0gbWF0Y2hlc1syXTtcbiAgICAgICAgLy8gdmFyIHNlY29uZCA9IG1hdGNoZXNbM107XG4gICAgICAgIC8vIHZhciBmcmFjdGlvbiA9IG1hdGNoZXNbNF07XG4gICAgICAgIC8vIHZhciB0aW1lem9uZSA9IG1hdGNoZXNbNV07XG4gICAgICAgIGlmIChtYXRjaGVzWzFdID4gXCIyM1wiIHx8IG1hdGNoZXNbMl0gPiBcIjU5XCIgfHwgbWF0Y2hlc1szXSA+IFwiNTlcIikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgXCJlbWFpbFwiOiBmdW5jdGlvbiAoZW1haWwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBlbWFpbCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbGlkYXRvci5pc0VtYWlsKGVtYWlsLCB7IFwicmVxdWlyZV90bGRcIjogdHJ1ZSB9KTtcbiAgICB9LFxuICAgIFwiaG9zdG5hbWVcIjogZnVuY3Rpb24gKGhvc3RuYW1lKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaG9zdG5hbWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8qXG4gICAgICAgICAgICBodHRwOi8vanNvbi1zY2hlbWEub3JnL2xhdGVzdC9qc29uLXNjaGVtYS12YWxpZGF0aW9uLmh0bWwjYW5jaG9yMTE0XG4gICAgICAgICAgICBBIHN0cmluZyBpbnN0YW5jZSBpcyB2YWxpZCBhZ2FpbnN0IHRoaXMgYXR0cmlidXRlIGlmIGl0IGlzIGEgdmFsaWRcbiAgICAgICAgICAgIHJlcHJlc2VudGF0aW9uIGZvciBhbiBJbnRlcm5ldCBob3N0IG5hbWUsIGFzIGRlZmluZWQgYnkgUkZDIDEwMzQsIHNlY3Rpb24gMy4xIFtSRkMxMDM0XS5cblxuICAgICAgICAgICAgaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMTAzNCNzZWN0aW9uLTMuNVxuXG4gICAgICAgICAgICA8ZGlnaXQ+IDo6PSBhbnkgb25lIG9mIHRoZSB0ZW4gZGlnaXRzIDAgdGhyb3VnaCA5XG4gICAgICAgICAgICB2YXIgZGlnaXQgPSAvWzAtOV0vO1xuXG4gICAgICAgICAgICA8bGV0dGVyPiA6Oj0gYW55IG9uZSBvZiB0aGUgNTIgYWxwaGFiZXRpYyBjaGFyYWN0ZXJzIEEgdGhyb3VnaCBaIGluIHVwcGVyIGNhc2UgYW5kIGEgdGhyb3VnaCB6IGluIGxvd2VyIGNhc2VcbiAgICAgICAgICAgIHZhciBsZXR0ZXIgPSAvW2EtekEtWl0vO1xuXG4gICAgICAgICAgICA8bGV0LWRpZz4gOjo9IDxsZXR0ZXI+IHwgPGRpZ2l0PlxuICAgICAgICAgICAgdmFyIGxldERpZyA9IC9bMC05YS16QS1aXS87XG5cbiAgICAgICAgICAgIDxsZXQtZGlnLWh5cD4gOjo9IDxsZXQtZGlnPiB8IFwiLVwiXG4gICAgICAgICAgICB2YXIgbGV0RGlnSHlwID0gL1stMC05YS16QS1aXS87XG5cbiAgICAgICAgICAgIDxsZGgtc3RyPiA6Oj0gPGxldC1kaWctaHlwPiB8IDxsZXQtZGlnLWh5cD4gPGxkaC1zdHI+XG4gICAgICAgICAgICB2YXIgbGRoU3RyID0gL1stMC05YS16QS1aXSsvO1xuXG4gICAgICAgICAgICA8bGFiZWw+IDo6PSA8bGV0dGVyPiBbIFsgPGxkaC1zdHI+IF0gPGxldC1kaWc+IF1cbiAgICAgICAgICAgIHZhciBsYWJlbCA9IC9bYS16QS1aXSgoWy0wLTlhLXpBLVpdKyk/WzAtOWEtekEtWl0pPy87XG5cbiAgICAgICAgICAgIDxzdWJkb21haW4+IDo6PSA8bGFiZWw+IHwgPHN1YmRvbWFpbj4gXCIuXCIgPGxhYmVsPlxuICAgICAgICAgICAgdmFyIHN1YmRvbWFpbiA9IC9eW2EtekEtWl0oKFstMC05YS16QS1aXSspP1swLTlhLXpBLVpdKT8oXFwuW2EtekEtWl0oKFstMC05YS16QS1aXSspP1swLTlhLXpBLVpdKT8pKiQvO1xuXG4gICAgICAgICAgICA8ZG9tYWluPiA6Oj0gPHN1YmRvbWFpbj4gfCBcIiBcIlxuICAgICAgICAgICAgdmFyIGRvbWFpbiA9IG51bGw7XG4gICAgICAgICovXG4gICAgICAgIHZhciB2YWxpZCA9IC9eW2EtekEtWl0oKFstMC05YS16QS1aXSspP1swLTlhLXpBLVpdKT8oXFwuW2EtekEtWl0oKFstMC05YS16QS1aXSspP1swLTlhLXpBLVpdKT8pKiQvLnRlc3QoaG9zdG5hbWUpO1xuICAgICAgICBpZiAodmFsaWQpIHtcbiAgICAgICAgICAgIC8vIHRoZSBzdW0gb2YgYWxsIGxhYmVsIG9jdGV0cyBhbmQgbGFiZWwgbGVuZ3RocyBpcyBsaW1pdGVkIHRvIDI1NS5cbiAgICAgICAgICAgIGlmIChob3N0bmFtZS5sZW5ndGggPiAyNTUpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgICAgICAvLyBFYWNoIG5vZGUgaGFzIGEgbGFiZWwsIHdoaWNoIGlzIHplcm8gdG8gNjMgb2N0ZXRzIGluIGxlbmd0aFxuICAgICAgICAgICAgdmFyIGxhYmVscyA9IGhvc3RuYW1lLnNwbGl0KFwiLlwiKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFiZWxzLmxlbmd0aDsgaSsrKSB7IGlmIChsYWJlbHNbaV0ubGVuZ3RoID4gNjMpIHsgcmV0dXJuIGZhbHNlOyB9IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsaWQ7XG4gICAgfSxcbiAgICBcImhvc3QtbmFtZVwiOiBmdW5jdGlvbiAoaG9zdG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIEZvcm1hdFZhbGlkYXRvcnMuaG9zdG5hbWUuY2FsbCh0aGlzLCBob3N0bmFtZSk7XG4gICAgfSxcbiAgICBcImlwdjRcIjogZnVuY3Rpb24gKGlwdjQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpcHY0ICE9PSBcInN0cmluZ1wiKSB7IHJldHVybiB0cnVlOyB9XG4gICAgICAgIHJldHVybiB2YWxpZGF0b3IuaXNJUChpcHY0LCA0KTtcbiAgICB9LFxuICAgIFwiaXB2NlwiOiBmdW5jdGlvbiAoaXB2Nikge1xuICAgICAgICBpZiAodHlwZW9mIGlwdjYgIT09IFwic3RyaW5nXCIpIHsgcmV0dXJuIHRydWU7IH1cbiAgICAgICAgcmV0dXJuIHZhbGlkYXRvci5pc0lQKGlwdjYsIDYpO1xuICAgIH0sXG4gICAgXCJyZWdleFwiOiBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBSZWdFeHAoc3RyKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFwidXJpXCI6IGZ1bmN0aW9uICh1cmkpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zdHJpY3RVcmlzKSB7XG4gICAgICAgICAgICByZXR1cm4gRm9ybWF0VmFsaWRhdG9yc1tcInN0cmljdC11cmlcIl0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vemFnZ2luby96LXNjaGVtYS9pc3N1ZXMvMThcbiAgICAgICAgLy8gUmVnRXhwIGZyb20gaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NiNhcHBlbmRpeC1CXG4gICAgICAgIHJldHVybiB0eXBlb2YgdXJpICE9PSBcInN0cmluZ1wiIHx8IFJlZ0V4cChcIl4oKFteOi8/I10rKTopPygvLyhbXi8/I10qKSk/KFtePyNdKikoXFxcXD8oW14jXSopKT8oIyguKikpP1wiKS50ZXN0KHVyaSk7XG4gICAgfSxcbiAgICBcInN0cmljdC11cmlcIjogZnVuY3Rpb24gKHVyaSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHVyaSAhPT0gXCJzdHJpbmdcIiB8fCB2YWxpZGF0b3IuaXNVUkwodXJpKTtcbiAgICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZvcm1hdFZhbGlkYXRvcnM7XG4iXSwibmFtZXMiOlsidmFsaWRhdG9yIiwicmVxdWlyZSIsIkZvcm1hdFZhbGlkYXRvcnMiLCJkYXRlIiwibWF0Y2hlcyIsImV4ZWMiLCJkYXRlVGltZSIsInMiLCJ0b0xvd2VyQ2FzZSIsInNwbGl0IiwiZW1haWwiLCJpc0VtYWlsIiwiaG9zdG5hbWUiLCJ2YWxpZCIsInRlc3QiLCJsZW5ndGgiLCJsYWJlbHMiLCJpIiwiY2FsbCIsImlwdjQiLCJpc0lQIiwiaXB2NiIsInN0ciIsIlJlZ0V4cCIsImUiLCJ1cmkiLCJvcHRpb25zIiwic3RyaWN0VXJpcyIsImFwcGx5IiwiYXJndW1lbnRzIiwiaXNVUkwiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/z-schema/src/FormatValidators.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/z-schema/src/JsonValidation.js":
/*!*****************************************************!*\
  !*** ./node_modules/z-schema/src/JsonValidation.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nvar FormatValidators = __webpack_require__(/*! ./FormatValidators */ \"(rsc)/./node_modules/z-schema/src/FormatValidators.js\"), Report = __webpack_require__(/*! ./Report */ \"(rsc)/./node_modules/z-schema/src/Report.js\"), Utils = __webpack_require__(/*! ./Utils */ \"(rsc)/./node_modules/z-schema/src/Utils.js\");\nvar shouldSkipValidate = function(options, errors) {\n    return options && Array.isArray(options.includeErrors) && options.includeErrors.length > 0 && !errors.some(function(err) {\n        return options.includeErrors.includes(err);\n    });\n};\nvar JsonValidators = {\n    multipleOf: function(report, schema, json) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.1.1.2\n        if (shouldSkipValidate(this.validateOptions, [\n            \"MULTIPLE_OF\"\n        ])) {\n            return;\n        }\n        if (typeof json !== \"number\") {\n            return;\n        }\n        var stringMultipleOf = String(schema.multipleOf);\n        var scale = Math.pow(10, stringMultipleOf.length - stringMultipleOf.indexOf(\".\") - 1);\n        if (Utils.whatIs(json * scale / (schema.multipleOf * scale)) !== \"integer\") {\n            report.addError(\"MULTIPLE_OF\", [\n                json,\n                schema.multipleOf\n            ], null, schema);\n        }\n    },\n    maximum: function(report, schema, json) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.1.2.2\n        if (shouldSkipValidate(this.validateOptions, [\n            \"MAXIMUM\",\n            \"MAXIMUM_EXCLUSIVE\"\n        ])) {\n            return;\n        }\n        if (typeof json !== \"number\") {\n            return;\n        }\n        if (schema.exclusiveMaximum !== true) {\n            if (json > schema.maximum) {\n                report.addError(\"MAXIMUM\", [\n                    json,\n                    schema.maximum\n                ], null, schema);\n            }\n        } else {\n            if (json >= schema.maximum) {\n                report.addError(\"MAXIMUM_EXCLUSIVE\", [\n                    json,\n                    schema.maximum\n                ], null, schema);\n            }\n        }\n    },\n    exclusiveMaximum: function() {\n    // covered in maximum\n    },\n    minimum: function(report, schema, json) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.1.3.2\n        if (shouldSkipValidate(this.validateOptions, [\n            \"MINIMUM\",\n            \"MINIMUM_EXCLUSIVE\"\n        ])) {\n            return;\n        }\n        if (typeof json !== \"number\") {\n            return;\n        }\n        if (schema.exclusiveMinimum !== true) {\n            if (json < schema.minimum) {\n                report.addError(\"MINIMUM\", [\n                    json,\n                    schema.minimum\n                ], null, schema);\n            }\n        } else {\n            if (json <= schema.minimum) {\n                report.addError(\"MINIMUM_EXCLUSIVE\", [\n                    json,\n                    schema.minimum\n                ], null, schema);\n            }\n        }\n    },\n    exclusiveMinimum: function() {\n    // covered in minimum\n    },\n    maxLength: function(report, schema, json) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.2.1.2\n        if (shouldSkipValidate(this.validateOptions, [\n            \"MAX_LENGTH\"\n        ])) {\n            return;\n        }\n        if (typeof json !== \"string\") {\n            return;\n        }\n        if (Utils.ucs2decode(json).length > schema.maxLength) {\n            report.addError(\"MAX_LENGTH\", [\n                json.length,\n                schema.maxLength\n            ], null, schema);\n        }\n    },\n    minLength: function(report, schema, json) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.2.2.2\n        if (shouldSkipValidate(this.validateOptions, [\n            \"MIN_LENGTH\"\n        ])) {\n            return;\n        }\n        if (typeof json !== \"string\") {\n            return;\n        }\n        if (Utils.ucs2decode(json).length < schema.minLength) {\n            report.addError(\"MIN_LENGTH\", [\n                json.length,\n                schema.minLength\n            ], null, schema);\n        }\n    },\n    pattern: function(report, schema, json) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.2.3.2\n        if (shouldSkipValidate(this.validateOptions, [\n            \"PATTERN\"\n        ])) {\n            return;\n        }\n        if (typeof json !== \"string\") {\n            return;\n        }\n        if (RegExp(schema.pattern).test(json) === false) {\n            report.addError(\"PATTERN\", [\n                schema.pattern,\n                json\n            ], null, schema);\n        }\n    },\n    additionalItems: function(report, schema, json) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.3.1.2\n        if (shouldSkipValidate(this.validateOptions, [\n            \"ARRAY_ADDITIONAL_ITEMS\"\n        ])) {\n            return;\n        }\n        if (!Array.isArray(json)) {\n            return;\n        }\n        // if the value of \"additionalItems\" is boolean value false and the value of \"items\" is an array,\n        // the json is valid if its size is less than, or equal to, the size of \"items\".\n        if (schema.additionalItems === false && Array.isArray(schema.items)) {\n            if (json.length > schema.items.length) {\n                report.addError(\"ARRAY_ADDITIONAL_ITEMS\", null, null, schema);\n            }\n        }\n    },\n    items: function() {\n    // covered in additionalItems\n    },\n    maxItems: function(report, schema, json) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.3.2.2\n        if (shouldSkipValidate(this.validateOptions, [\n            \"ARRAY_LENGTH_LONG\"\n        ])) {\n            return;\n        }\n        if (!Array.isArray(json)) {\n            return;\n        }\n        if (json.length > schema.maxItems) {\n            report.addError(\"ARRAY_LENGTH_LONG\", [\n                json.length,\n                schema.maxItems\n            ], null, schema);\n        }\n    },\n    minItems: function(report, schema, json) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.3.3.2\n        if (shouldSkipValidate(this.validateOptions, [\n            \"ARRAY_LENGTH_SHORT\"\n        ])) {\n            return;\n        }\n        if (!Array.isArray(json)) {\n            return;\n        }\n        if (json.length < schema.minItems) {\n            report.addError(\"ARRAY_LENGTH_SHORT\", [\n                json.length,\n                schema.minItems\n            ], null, schema);\n        }\n    },\n    uniqueItems: function(report, schema, json) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.3.4.2\n        if (shouldSkipValidate(this.validateOptions, [\n            \"ARRAY_UNIQUE\"\n        ])) {\n            return;\n        }\n        if (!Array.isArray(json)) {\n            return;\n        }\n        if (schema.uniqueItems === true) {\n            var matches = [];\n            if (Utils.isUniqueArray(json, matches) === false) {\n                report.addError(\"ARRAY_UNIQUE\", matches, null, schema);\n            }\n        }\n    },\n    maxProperties: function(report, schema, json) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.4.1.2\n        if (shouldSkipValidate(this.validateOptions, [\n            \"OBJECT_PROPERTIES_MAXIMUM\"\n        ])) {\n            return;\n        }\n        if (Utils.whatIs(json) !== \"object\") {\n            return;\n        }\n        var keysCount = Object.keys(json).length;\n        if (keysCount > schema.maxProperties) {\n            report.addError(\"OBJECT_PROPERTIES_MAXIMUM\", [\n                keysCount,\n                schema.maxProperties\n            ], null, schema);\n        }\n    },\n    minProperties: function(report, schema, json) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.4.2.2\n        if (shouldSkipValidate(this.validateOptions, [\n            \"OBJECT_PROPERTIES_MINIMUM\"\n        ])) {\n            return;\n        }\n        if (Utils.whatIs(json) !== \"object\") {\n            return;\n        }\n        var keysCount = Object.keys(json).length;\n        if (keysCount < schema.minProperties) {\n            report.addError(\"OBJECT_PROPERTIES_MINIMUM\", [\n                keysCount,\n                schema.minProperties\n            ], null, schema);\n        }\n    },\n    required: function(report, schema, json) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.4.3.2\n        if (shouldSkipValidate(this.validateOptions, [\n            \"OBJECT_MISSING_REQUIRED_PROPERTY\"\n        ])) {\n            return;\n        }\n        if (Utils.whatIs(json) !== \"object\") {\n            return;\n        }\n        var idx = schema.required.length;\n        while(idx--){\n            var requiredPropertyName = schema.required[idx];\n            if (json[requiredPropertyName] === undefined) {\n                report.addError(\"OBJECT_MISSING_REQUIRED_PROPERTY\", [\n                    requiredPropertyName\n                ], null, schema);\n            }\n        }\n    },\n    additionalProperties: function(report, schema, json) {\n        // covered in properties and patternProperties\n        if (schema.properties === undefined && schema.patternProperties === undefined) {\n            return JsonValidators.properties.call(this, report, schema, json);\n        }\n    },\n    patternProperties: function(report, schema, json) {\n        // covered in properties\n        if (schema.properties === undefined) {\n            return JsonValidators.properties.call(this, report, schema, json);\n        }\n    },\n    properties: function(report, schema, json) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.4.4.2\n        if (shouldSkipValidate(this.validateOptions, [\n            \"OBJECT_ADDITIONAL_PROPERTIES\"\n        ])) {\n            return;\n        }\n        if (Utils.whatIs(json) !== \"object\") {\n            return;\n        }\n        var properties = schema.properties !== undefined ? schema.properties : {};\n        var patternProperties = schema.patternProperties !== undefined ? schema.patternProperties : {};\n        if (schema.additionalProperties === false) {\n            // The property set of the json to validate.\n            var s = Object.keys(json);\n            // The property set from \"properties\".\n            var p = Object.keys(properties);\n            // The property set from \"patternProperties\".\n            var pp = Object.keys(patternProperties);\n            // remove from \"s\" all elements of \"p\", if any;\n            s = Utils.difference(s, p);\n            // for each regex in \"pp\", remove all elements of \"s\" which this regex matches.\n            var idx = pp.length;\n            while(idx--){\n                var regExp = RegExp(pp[idx]), idx2 = s.length;\n                while(idx2--){\n                    if (regExp.test(s[idx2]) === true) {\n                        s.splice(idx2, 1);\n                    }\n                }\n            }\n            // Validation of the json succeeds if, after these two steps, set \"s\" is empty.\n            if (s.length > 0) {\n                // assumeAdditional can be an array of allowed properties\n                var idx3 = this.options.assumeAdditional.length;\n                if (idx3) {\n                    while(idx3--){\n                        var io = s.indexOf(this.options.assumeAdditional[idx3]);\n                        if (io !== -1) {\n                            s.splice(io, 1);\n                        }\n                    }\n                }\n                var idx4 = s.length;\n                if (idx4) {\n                    while(idx4--){\n                        report.addError(\"OBJECT_ADDITIONAL_PROPERTIES\", [\n                            s[idx4]\n                        ], null, schema);\n                    }\n                }\n            }\n        }\n    },\n    dependencies: function(report, schema, json) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.4.5.2\n        if (shouldSkipValidate(this.validateOptions, [\n            \"OBJECT_DEPENDENCY_KEY\"\n        ])) {\n            return;\n        }\n        if (Utils.whatIs(json) !== \"object\") {\n            return;\n        }\n        var keys = Object.keys(schema.dependencies), idx = keys.length;\n        while(idx--){\n            // iterate all dependencies\n            var dependencyName = keys[idx];\n            if (json[dependencyName]) {\n                var dependencyDefinition = schema.dependencies[dependencyName];\n                if (Utils.whatIs(dependencyDefinition) === \"object\") {\n                    // if dependency is a schema, validate against this schema\n                    exports.validate.call(this, report, dependencyDefinition, json);\n                } else {\n                    // if dependency is an array, object needs to have all properties in this array\n                    var idx2 = dependencyDefinition.length;\n                    while(idx2--){\n                        var requiredPropertyName = dependencyDefinition[idx2];\n                        if (json[requiredPropertyName] === undefined) {\n                            report.addError(\"OBJECT_DEPENDENCY_KEY\", [\n                                requiredPropertyName,\n                                dependencyName\n                            ], null, schema);\n                        }\n                    }\n                }\n            }\n        }\n    },\n    enum: function(report, schema, json) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.5.1.2\n        if (shouldSkipValidate(this.validateOptions, [\n            \"ENUM_CASE_MISMATCH\",\n            \"ENUM_MISMATCH\"\n        ])) {\n            return;\n        }\n        var match = false, caseInsensitiveMatch = false, idx = schema.enum.length;\n        while(idx--){\n            if (Utils.areEqual(json, schema.enum[idx])) {\n                match = true;\n                break;\n            } else if (Utils.areEqual(json, schema.enum[idx]), {\n                caseInsensitiveComparison: true\n            }) {\n                caseInsensitiveMatch = true;\n            }\n        }\n        if (match === false) {\n            var error = caseInsensitiveMatch && this.options.enumCaseInsensitiveComparison ? \"ENUM_CASE_MISMATCH\" : \"ENUM_MISMATCH\";\n            report.addError(error, [\n                json\n            ], null, schema);\n        }\n    },\n    type: function(report, schema, json) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.5.2.2\n        if (shouldSkipValidate(this.validateOptions, [\n            \"INVALID_TYPE\"\n        ])) {\n            return;\n        }\n        var jsonType = Utils.whatIs(json);\n        if (typeof schema.type === \"string\") {\n            if (jsonType !== schema.type && (jsonType !== \"integer\" || schema.type !== \"number\")) {\n                report.addError(\"INVALID_TYPE\", [\n                    schema.type,\n                    jsonType\n                ], null, schema);\n            }\n        } else {\n            if (schema.type.indexOf(jsonType) === -1 && (jsonType !== \"integer\" || schema.type.indexOf(\"number\") === -1)) {\n                report.addError(\"INVALID_TYPE\", [\n                    schema.type,\n                    jsonType\n                ], null, schema);\n            }\n        }\n    },\n    allOf: function(report, schema, json) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.5.3.2\n        var idx = schema.allOf.length;\n        while(idx--){\n            var validateResult = exports.validate.call(this, report, schema.allOf[idx], json);\n            if (this.options.breakOnFirstError && validateResult === false) {\n                break;\n            }\n        }\n    },\n    anyOf: function(report, schema, json) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.5.4.2\n        var subReports = [], passed = false, idx = schema.anyOf.length;\n        while(idx-- && passed === false){\n            var subReport = new Report(report);\n            subReports.push(subReport);\n            passed = exports.validate.call(this, subReport, schema.anyOf[idx], json);\n        }\n        if (passed === false) {\n            report.addError(\"ANY_OF_MISSING\", undefined, subReports, schema);\n        }\n    },\n    oneOf: function(report, schema, json) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.5.5.2\n        var passes = 0, subReports = [], idx = schema.oneOf.length;\n        while(idx--){\n            var subReport = new Report(report, {\n                maxErrors: 1\n            });\n            subReports.push(subReport);\n            if (exports.validate.call(this, subReport, schema.oneOf[idx], json) === true) {\n                passes++;\n            }\n        }\n        if (passes === 0) {\n            report.addError(\"ONE_OF_MISSING\", undefined, subReports, schema);\n        } else if (passes > 1) {\n            report.addError(\"ONE_OF_MULTIPLE\", null, null, schema);\n        }\n    },\n    not: function(report, schema, json) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.5.6.2\n        var subReport = new Report(report);\n        if (exports.validate.call(this, subReport, schema.not, json) === true) {\n            report.addError(\"NOT_PASSED\", null, null, schema);\n        }\n    },\n    definitions: function() {\n    // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.5.7.2\n    // nothing to do here\n    },\n    format: function(report, schema, json) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.7.2\n        var formatValidatorFn = FormatValidators[schema.format];\n        if (typeof formatValidatorFn === \"function\") {\n            if (shouldSkipValidate(this.validateOptions, [\n                \"INVALID_FORMAT\"\n            ])) {\n                return;\n            }\n            if (formatValidatorFn.length === 2) {\n                // async - need to clone the path here, because it will change by the time async function reports back\n                var pathBeforeAsync = Utils.clone(report.path);\n                report.addAsyncTask(formatValidatorFn, [\n                    json\n                ], function(result) {\n                    if (result !== true) {\n                        var backup = report.path;\n                        report.path = pathBeforeAsync;\n                        report.addError(\"INVALID_FORMAT\", [\n                            schema.format,\n                            json\n                        ], null, schema);\n                        report.path = backup;\n                    }\n                });\n            } else {\n                // sync\n                if (formatValidatorFn.call(this, json) !== true) {\n                    report.addError(\"INVALID_FORMAT\", [\n                        schema.format,\n                        json\n                    ], null, schema);\n                }\n            }\n        } else if (this.options.ignoreUnknownFormats !== true) {\n            report.addError(\"UNKNOWN_FORMAT\", [\n                schema.format\n            ], null, schema);\n        }\n    }\n};\nvar recurseArray = function(report, schema, json) {\n    // http://json-schema.org/latest/json-schema-validation.html#rfc.section.8.2\n    var idx = json.length;\n    // If \"items\" is an array, this situation, the schema depends on the index:\n    // if the index is less than, or equal to, the size of \"items\",\n    // the child instance must be valid against the corresponding schema in the \"items\" array;\n    // otherwise, it must be valid against the schema defined by \"additionalItems\".\n    if (Array.isArray(schema.items)) {\n        while(idx--){\n            // equal to doesn't make sense here\n            if (idx < schema.items.length) {\n                report.path.push(idx);\n                exports.validate.call(this, report, schema.items[idx], json[idx]);\n                report.path.pop();\n            } else {\n                // might be boolean, so check that it's an object\n                if (typeof schema.additionalItems === \"object\") {\n                    report.path.push(idx);\n                    exports.validate.call(this, report, schema.additionalItems, json[idx]);\n                    report.path.pop();\n                }\n            }\n        }\n    } else if (typeof schema.items === \"object\") {\n        // If items is a schema, then the child instance must be valid against this schema,\n        // regardless of its index, and regardless of the value of \"additionalItems\".\n        while(idx--){\n            report.path.push(idx);\n            exports.validate.call(this, report, schema.items, json[idx]);\n            report.path.pop();\n        }\n    }\n};\nvar recurseObject = function(report, schema, json) {\n    // http://json-schema.org/latest/json-schema-validation.html#rfc.section.8.3\n    // If \"additionalProperties\" is absent, it is considered present with an empty schema as a value.\n    // In addition, boolean value true is considered equivalent to an empty schema.\n    var additionalProperties = schema.additionalProperties;\n    if (additionalProperties === true || additionalProperties === undefined) {\n        additionalProperties = {};\n    }\n    // p - The property set from \"properties\".\n    var p = schema.properties ? Object.keys(schema.properties) : [];\n    // pp - The property set from \"patternProperties\". Elements of this set will be called regexes for convenience.\n    var pp = schema.patternProperties ? Object.keys(schema.patternProperties) : [];\n    // m - The property name of the child.\n    var keys = Object.keys(json), idx = keys.length;\n    while(idx--){\n        var m = keys[idx], propertyValue = json[m];\n        // s - The set of schemas for the child instance.\n        var s = [];\n        // 1. If set \"p\" contains value \"m\", then the corresponding schema in \"properties\" is added to \"s\".\n        if (p.indexOf(m) !== -1) {\n            s.push(schema.properties[m]);\n        }\n        // 2. For each regex in \"pp\", if it matches \"m\" successfully, the corresponding schema in \"patternProperties\" is added to \"s\".\n        var idx2 = pp.length;\n        while(idx2--){\n            var regexString = pp[idx2];\n            if (RegExp(regexString).test(m) === true) {\n                s.push(schema.patternProperties[regexString]);\n            }\n        }\n        // 3. The schema defined by \"additionalProperties\" is added to \"s\" if and only if, at this stage, \"s\" is empty.\n        if (s.length === 0 && additionalProperties !== false) {\n            s.push(additionalProperties);\n        }\n        // we are passing tests even without this assert because this is covered by properties check\n        // if s is empty in this stage, no additionalProperties are allowed\n        // report.expect(s.length !== 0, 'E001', m);\n        // Instance property value must pass all schemas from s\n        idx2 = s.length;\n        while(idx2--){\n            report.path.push(m);\n            exports.validate.call(this, report, s[idx2], propertyValue);\n            report.path.pop();\n        }\n    }\n};\nexports.JsonValidators = JsonValidators;\n/**\n *\n * @param {Report} report\n * @param {*} schema\n * @param {*} json\n */ exports.validate = function(report, schema, json) {\n    report.commonErrorMessage = \"JSON_OBJECT_VALIDATION_FAILED\";\n    // check if schema is an object\n    var to = Utils.whatIs(schema);\n    if (to !== \"object\") {\n        report.addError(\"SCHEMA_NOT_AN_OBJECT\", [\n            to\n        ], null, schema);\n        return false;\n    }\n    // check if schema is empty, everything is valid against empty schema\n    var keys = Object.keys(schema);\n    if (keys.length === 0) {\n        return true;\n    }\n    // this method can be called recursively, so we need to remember our root\n    var isRoot = false;\n    if (!report.rootSchema) {\n        report.rootSchema = schema;\n        isRoot = true;\n    }\n    // follow schema.$ref keys\n    if (schema.$ref !== undefined) {\n        // avoid infinite loop with maxRefs\n        var maxRefs = 99;\n        while(schema.$ref && maxRefs > 0){\n            if (!schema.__$refResolved) {\n                report.addError(\"REF_UNRESOLVED\", [\n                    schema.$ref\n                ], null, schema);\n                break;\n            } else if (schema.__$refResolved === schema) {\n                break;\n            } else {\n                schema = schema.__$refResolved;\n                keys = Object.keys(schema);\n            }\n            maxRefs--;\n        }\n        if (maxRefs === 0) {\n            throw new Error(\"Circular dependency by $ref references!\");\n        }\n    }\n    // type checking first\n    var jsonType = Utils.whatIs(json);\n    if (schema.type) {\n        keys.splice(keys.indexOf(\"type\"), 1);\n        JsonValidators.type.call(this, report, schema, json);\n        if (report.errors.length && this.options.breakOnFirstError) {\n            return false;\n        }\n    }\n    // now iterate all the keys in schema and execute validation methods\n    var idx = keys.length;\n    while(idx--){\n        if (JsonValidators[keys[idx]]) {\n            JsonValidators[keys[idx]].call(this, report, schema, json);\n            if (report.errors.length && this.options.breakOnFirstError) {\n                break;\n            }\n        }\n    }\n    if (report.errors.length === 0 || this.options.breakOnFirstError === false) {\n        if (jsonType === \"array\") {\n            recurseArray.call(this, report, schema, json);\n        } else if (jsonType === \"object\") {\n            recurseObject.call(this, report, schema, json);\n        }\n    }\n    if (typeof this.options.customValidator === \"function\") {\n        this.options.customValidator.call(this, report, schema, json);\n    }\n    // we don't need the root pointer anymore\n    if (isRoot) {\n        report.rootSchema = undefined;\n    }\n    // return valid just to be able to break at some code points\n    return report.errors.length === 0;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvei1zY2hlbWEvc3JjL0pzb25WYWxpZGF0aW9uLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBRWIsSUFBSUEsbUJBQW1CQyxtQkFBT0EsQ0FBQyxpRkFBb0IsR0FDL0NDLFNBQW1CRCxtQkFBT0EsQ0FBQyw2REFBVSxHQUNyQ0UsUUFBbUJGLG1CQUFPQSxDQUFDLDJEQUFTO0FBRXhDLElBQUlHLHFCQUFxQixTQUFVQyxPQUFPLEVBQUVDLE1BQU07SUFDOUMsT0FBT0QsV0FDSEUsTUFBTUMsT0FBTyxDQUFDSCxRQUFRSSxhQUFhLEtBQ25DSixRQUFRSSxhQUFhLENBQUNDLE1BQU0sR0FBRyxLQUMvQixDQUFDSixPQUFPSyxJQUFJLENBQUMsU0FBVUMsR0FBRztRQUFJLE9BQU9QLFFBQVFJLGFBQWEsQ0FBQ0ksUUFBUSxDQUFDRDtJQUFLO0FBQ2pGO0FBRUEsSUFBSUUsaUJBQWlCO0lBQ2pCQyxZQUFZLFNBQVVDLE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxJQUFJO1FBQ3RDLGdGQUFnRjtRQUNoRixJQUFJZCxtQkFBbUIsSUFBSSxDQUFDZSxlQUFlLEVBQUU7WUFBQztTQUFjLEdBQUc7WUFDM0Q7UUFDSjtRQUNBLElBQUksT0FBT0QsU0FBUyxVQUFVO1lBQzFCO1FBQ0o7UUFFQSxJQUFJRSxtQkFBbUJDLE9BQU9KLE9BQU9GLFVBQVU7UUFDL0MsSUFBSU8sUUFBUUMsS0FBS0MsR0FBRyxDQUFDLElBQUlKLGlCQUFpQlYsTUFBTSxHQUFHVSxpQkFBaUJLLE9BQU8sQ0FBQyxPQUFPO1FBQ25GLElBQUl0QixNQUFNdUIsTUFBTSxDQUFDLE9BQVFKLFFBQVVMLENBQUFBLE9BQU9GLFVBQVUsR0FBR08sS0FBSSxPQUFRLFdBQVc7WUFDMUVOLE9BQU9XLFFBQVEsQ0FBQyxlQUFlO2dCQUFDVDtnQkFBTUQsT0FBT0YsVUFBVTthQUFDLEVBQUUsTUFBTUU7UUFDcEU7SUFDSjtJQUNBVyxTQUFTLFNBQVVaLE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxJ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QUVwQyIsInNvdXJjZXMiOlsid2VicGFjazovL25hbnRlcy1wdWJsaWMtZGF0YS1kYXNoYm9hcmQvLi9ub2RlX21vZHVsZXMvei1zY2hlbWEvc3JjL0pzb25WYWxpZGF0aW9uLmpzP2QzNGIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBGb3JtYXRWYWxpZGF0b3JzID0gcmVxdWlyZShcIi4vRm9ybWF0VmFsaWRhdG9yc1wiKSxcbiAgICBSZXBvcnQgICAgICAgICAgID0gcmVxdWlyZShcIi4vUmVwb3J0XCIpLFxuICAgIFV0aWxzICAgICAgICAgICAgPSByZXF1aXJlKFwiLi9VdGlsc1wiKTtcblxudmFyIHNob3VsZFNraXBWYWxpZGF0ZSA9IGZ1bmN0aW9uIChvcHRpb25zLCBlcnJvcnMpIHtcbiAgICByZXR1cm4gb3B0aW9ucyAmJlxuICAgICAgICBBcnJheS5pc0FycmF5KG9wdGlvbnMuaW5jbHVkZUVycm9ycykgJiZcbiAgICAgICAgb3B0aW9ucy5pbmNsdWRlRXJyb3JzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgIWVycm9ycy5zb21lKGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIG9wdGlvbnMuaW5jbHVkZUVycm9ycy5pbmNsdWRlcyhlcnIpO30pO1xufTtcblxudmFyIEpzb25WYWxpZGF0b3JzID0ge1xuICAgIG11bHRpcGxlT2Y6IGZ1bmN0aW9uIChyZXBvcnQsIHNjaGVtYSwganNvbikge1xuICAgICAgICAvLyBodHRwOi8vanNvbi1zY2hlbWEub3JnL2xhdGVzdC9qc29uLXNjaGVtYS12YWxpZGF0aW9uLmh0bWwjcmZjLnNlY3Rpb24uNS4xLjEuMlxuICAgICAgICBpZiAoc2hvdWxkU2tpcFZhbGlkYXRlKHRoaXMudmFsaWRhdGVPcHRpb25zLCBbXCJNVUxUSVBMRV9PRlwiXSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGpzb24gIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdHJpbmdNdWx0aXBsZU9mID0gU3RyaW5nKHNjaGVtYS5tdWx0aXBsZU9mKTtcbiAgICAgICAgdmFyIHNjYWxlID0gTWF0aC5wb3coMTAsIHN0cmluZ011bHRpcGxlT2YubGVuZ3RoIC0gc3RyaW5nTXVsdGlwbGVPZi5pbmRleE9mKFwiLlwiKSAtIDEpO1xuICAgICAgICBpZiAoVXRpbHMud2hhdElzKChqc29uICogc2NhbGUpIC8gKHNjaGVtYS5tdWx0aXBsZU9mICogc2NhbGUpKSAhPT0gXCJpbnRlZ2VyXCIpIHtcbiAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIk1VTFRJUExFX09GXCIsIFtqc29uLCBzY2hlbWEubXVsdGlwbGVPZl0sIG51bGwsIHNjaGVtYSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIG1heGltdW06IGZ1bmN0aW9uIChyZXBvcnQsIHNjaGVtYSwganNvbikge1xuICAgICAgICAvLyBodHRwOi8vanNvbi1zY2hlbWEub3JnL2xhdGVzdC9qc29uLXNjaGVtYS12YWxpZGF0aW9uLmh0bWwjcmZjLnNlY3Rpb24uNS4xLjIuMlxuICAgICAgICBpZiAoc2hvdWxkU2tpcFZhbGlkYXRlKHRoaXMudmFsaWRhdGVPcHRpb25zLCBbXCJNQVhJTVVNXCIsIFwiTUFYSU1VTV9FWENMVVNJVkVcIl0pKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBqc29uICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtICE9PSB0cnVlKSB7XG4gICAgICAgICAgICBpZiAoanNvbiA+IHNjaGVtYS5tYXhpbXVtKSB7XG4gICAgICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiTUFYSU1VTVwiLCBbanNvbiwgc2NoZW1hLm1heGltdW1dLCBudWxsLCBzY2hlbWEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGpzb24gPj0gc2NoZW1hLm1heGltdW0pIHtcbiAgICAgICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJNQVhJTVVNX0VYQ0xVU0lWRVwiLCBbanNvbiwgc2NoZW1hLm1heGltdW1dLCBudWxsLCBzY2hlbWEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBleGNsdXNpdmVNYXhpbXVtOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGNvdmVyZWQgaW4gbWF4aW11bVxuICAgIH0sXG4gICAgbWluaW11bTogZnVuY3Rpb24gKHJlcG9ydCwgc2NoZW1hLCBqc29uKSB7XG4gICAgICAgIC8vIGh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvbGF0ZXN0L2pzb24tc2NoZW1hLXZhbGlkYXRpb24uaHRtbCNyZmMuc2VjdGlvbi41LjEuMy4yXG4gICAgICAgIGlmIChzaG91bGRTa2lwVmFsaWRhdGUodGhpcy52YWxpZGF0ZU9wdGlvbnMsIFtcIk1JTklNVU1cIiwgXCJNSU5JTVVNX0VYQ0xVU0lWRVwiXSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGpzb24gIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW0gIT09IHRydWUpIHtcbiAgICAgICAgICAgIGlmIChqc29uIDwgc2NoZW1hLm1pbmltdW0pIHtcbiAgICAgICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJNSU5JTVVNXCIsIFtqc29uLCBzY2hlbWEubWluaW11bV0sIG51bGwsIHNjaGVtYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoanNvbiA8PSBzY2hlbWEubWluaW11bSkge1xuICAgICAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIk1JTklNVU1fRVhDTFVTSVZFXCIsIFtqc29uLCBzY2hlbWEubWluaW11bV0sIG51bGwsIHNjaGVtYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGV4Y2x1c2l2ZU1pbmltdW06IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gY292ZXJlZCBpbiBtaW5pbXVtXG4gICAgfSxcbiAgICBtYXhMZW5ndGg6IGZ1bmN0aW9uIChyZXBvcnQsIHNjaGVtYSwganNvbikge1xuICAgICAgICAvLyBodHRwOi8vanNvbi1zY2hlbWEub3JnL2xhdGVzdC9qc29uLXNjaGVtYS12YWxpZGF0aW9uLmh0bWwjcmZjLnNlY3Rpb24uNS4yLjEuMlxuICAgICAgICBpZiAoc2hvdWxkU2tpcFZhbGlkYXRlKHRoaXMudmFsaWRhdGVPcHRpb25zLCBbXCJNQVhfTEVOR1RIXCJdKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YganNvbiAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChVdGlscy51Y3MyZGVjb2RlKGpzb24pLmxlbmd0aCA+IHNjaGVtYS5tYXhMZW5ndGgpIHtcbiAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIk1BWF9MRU5HVEhcIiwgW2pzb24ubGVuZ3RoLCBzY2hlbWEubWF4TGVuZ3RoXSwgbnVsbCwgc2NoZW1hKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbWluTGVuZ3RoOiBmdW5jdGlvbiAocmVwb3J0LCBzY2hlbWEsIGpzb24pIHtcbiAgICAgICAgLy8gaHR0cDovL2pzb24tc2NoZW1hLm9yZy9sYXRlc3QvanNvbi1zY2hlbWEtdmFsaWRhdGlvbi5odG1sI3JmYy5zZWN0aW9uLjUuMi4yLjJcbiAgICAgICAgaWYgKHNob3VsZFNraXBWYWxpZGF0ZSh0aGlzLnZhbGlkYXRlT3B0aW9ucywgW1wiTUlOX0xFTkdUSFwiXSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGpzb24gIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoVXRpbHMudWNzMmRlY29kZShqc29uKS5sZW5ndGggPCBzY2hlbWEubWluTGVuZ3RoKSB7XG4gICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJNSU5fTEVOR1RIXCIsIFtqc29uLmxlbmd0aCwgc2NoZW1hLm1pbkxlbmd0aF0sIG51bGwsIHNjaGVtYSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHBhdHRlcm46IGZ1bmN0aW9uIChyZXBvcnQsIHNjaGVtYSwganNvbikge1xuICAgICAgICAvLyBodHRwOi8vanNvbi1zY2hlbWEub3JnL2xhdGVzdC9qc29uLXNjaGVtYS12YWxpZGF0aW9uLmh0bWwjcmZjLnNlY3Rpb24uNS4yLjMuMlxuICAgICAgICBpZiAoc2hvdWxkU2tpcFZhbGlkYXRlKHRoaXMudmFsaWRhdGVPcHRpb25zLCBbXCJQQVRURVJOXCJdKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YganNvbiAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChSZWdFeHAoc2NoZW1hLnBhdHRlcm4pLnRlc3QoanNvbikgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJQQVRURVJOXCIsIFtzY2hlbWEucGF0dGVybiwganNvbl0sIG51bGwsIHNjaGVtYSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFkZGl0aW9uYWxJdGVtczogZnVuY3Rpb24gKHJlcG9ydCwgc2NoZW1hLCBqc29uKSB7XG4gICAgICAgIC8vIGh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvbGF0ZXN0L2pzb24tc2NoZW1hLXZhbGlkYXRpb24uaHRtbCNyZmMuc2VjdGlvbi41LjMuMS4yXG4gICAgICAgIGlmIChzaG91bGRTa2lwVmFsaWRhdGUodGhpcy52YWxpZGF0ZU9wdGlvbnMsIFtcIkFSUkFZX0FERElUSU9OQUxfSVRFTVNcIl0pKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGpzb24pKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgdGhlIHZhbHVlIG9mIFwiYWRkaXRpb25hbEl0ZW1zXCIgaXMgYm9vbGVhbiB2YWx1ZSBmYWxzZSBhbmQgdGhlIHZhbHVlIG9mIFwiaXRlbXNcIiBpcyBhbiBhcnJheSxcbiAgICAgICAgLy8gdGhlIGpzb24gaXMgdmFsaWQgaWYgaXRzIHNpemUgaXMgbGVzcyB0aGFuLCBvciBlcXVhbCB0bywgdGhlIHNpemUgb2YgXCJpdGVtc1wiLlxuICAgICAgICBpZiAoc2NoZW1hLmFkZGl0aW9uYWxJdGVtcyA9PT0gZmFsc2UgJiYgQXJyYXkuaXNBcnJheShzY2hlbWEuaXRlbXMpKSB7XG4gICAgICAgICAgICBpZiAoanNvbi5sZW5ndGggPiBzY2hlbWEuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiQVJSQVlfQURESVRJT05BTF9JVEVNU1wiLCBudWxsLCBudWxsLCBzY2hlbWEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBpdGVtczogZnVuY3Rpb24gKCkgeyAvKnJlcG9ydCwgc2NoZW1hLCBqc29uKi9cbiAgICAgICAgLy8gY292ZXJlZCBpbiBhZGRpdGlvbmFsSXRlbXNcbiAgICB9LFxuICAgIG1heEl0ZW1zOiBmdW5jdGlvbiAocmVwb3J0LCBzY2hlbWEsIGpzb24pIHtcbiAgICAgICAgLy8gaHR0cDovL2pzb24tc2NoZW1hLm9yZy9sYXRlc3QvanNvbi1zY2hlbWEtdmFsaWRhdGlvbi5odG1sI3JmYy5zZWN0aW9uLjUuMy4yLjJcbiAgICAgICAgaWYgKHNob3VsZFNraXBWYWxpZGF0ZSh0aGlzLnZhbGlkYXRlT3B0aW9ucywgW1wiQVJSQVlfTEVOR1RIX0xPTkdcIl0pKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGpzb24pKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGpzb24ubGVuZ3RoID4gc2NoZW1hLm1heEl0ZW1zKSB7XG4gICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJBUlJBWV9MRU5HVEhfTE9OR1wiLCBbanNvbi5sZW5ndGgsIHNjaGVtYS5tYXhJdGVtc10sIG51bGwsIHNjaGVtYSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIG1pbkl0ZW1zOiBmdW5jdGlvbiAocmVwb3J0LCBzY2hlbWEsIGpzb24pIHtcbiAgICAgICAgLy8gaHR0cDovL2pzb24tc2NoZW1hLm9yZy9sYXRlc3QvanNvbi1zY2hlbWEtdmFsaWRhdGlvbi5odG1sI3JmYy5zZWN0aW9uLjUuMy4zLjJcbiAgICAgICAgaWYgKHNob3VsZFNraXBWYWxpZGF0ZSh0aGlzLnZhbGlkYXRlT3B0aW9ucywgW1wiQVJSQVlfTEVOR1RIX1NIT1JUXCJdKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShqc29uKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChqc29uLmxlbmd0aCA8IHNjaGVtYS5taW5JdGVtcykge1xuICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiQVJSQVlfTEVOR1RIX1NIT1JUXCIsIFtqc29uLmxlbmd0aCwgc2NoZW1hLm1pbkl0ZW1zXSwgbnVsbCwgc2NoZW1hKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdW5pcXVlSXRlbXM6IGZ1bmN0aW9uIChyZXBvcnQsIHNjaGVtYSwganNvbikge1xuICAgICAgICAvLyBodHRwOi8vanNvbi1zY2hlbWEub3JnL2xhdGVzdC9qc29uLXNjaGVtYS12YWxpZGF0aW9uLmh0bWwjcmZjLnNlY3Rpb24uNS4zLjQuMlxuICAgICAgICBpZiAoc2hvdWxkU2tpcFZhbGlkYXRlKHRoaXMudmFsaWRhdGVPcHRpb25zLCBbXCJBUlJBWV9VTklRVUVcIl0pKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGpzb24pKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjaGVtYS51bmlxdWVJdGVtcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBbXTtcbiAgICAgICAgICAgIGlmIChVdGlscy5pc1VuaXF1ZUFycmF5KGpzb24sIG1hdGNoZXMpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIkFSUkFZX1VOSVFVRVwiLCBtYXRjaGVzLCBudWxsLCBzY2hlbWEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBtYXhQcm9wZXJ0aWVzOiBmdW5jdGlvbiAocmVwb3J0LCBzY2hlbWEsIGpzb24pIHtcbiAgICAgICAgLy8gaHR0cDovL2pzb24tc2NoZW1hLm9yZy9sYXRlc3QvanNvbi1zY2hlbWEtdmFsaWRhdGlvbi5odG1sI3JmYy5zZWN0aW9uLjUuNC4xLjJcbiAgICAgICAgaWYgKHNob3VsZFNraXBWYWxpZGF0ZSh0aGlzLnZhbGlkYXRlT3B0aW9ucywgW1wiT0JKRUNUX1BST1BFUlRJRVNfTUFYSU1VTVwiXSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoVXRpbHMud2hhdElzKGpzb24pICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGtleXNDb3VudCA9IE9iamVjdC5rZXlzKGpzb24pLmxlbmd0aDtcbiAgICAgICAgaWYgKGtleXNDb3VudCA+IHNjaGVtYS5tYXhQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJPQkpFQ1RfUFJPUEVSVElFU19NQVhJTVVNXCIsIFtrZXlzQ291bnQsIHNjaGVtYS5tYXhQcm9wZXJ0aWVzXSwgbnVsbCwgc2NoZW1hKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbWluUHJvcGVydGllczogZnVuY3Rpb24gKHJlcG9ydCwgc2NoZW1hLCBqc29uKSB7XG4gICAgICAgIC8vIGh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvbGF0ZXN0L2pzb24tc2NoZW1hLXZhbGlkYXRpb24uaHRtbCNyZmMuc2VjdGlvbi41LjQuMi4yXG4gICAgICAgIGlmIChzaG91bGRTa2lwVmFsaWRhdGUodGhpcy52YWxpZGF0ZU9wdGlvbnMsIFtcIk9CSkVDVF9QUk9QRVJUSUVTX01JTklNVU1cIl0pKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFV0aWxzLndoYXRJcyhqc29uKSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBrZXlzQ291bnQgPSBPYmplY3Qua2V5cyhqc29uKS5sZW5ndGg7XG4gICAgICAgIGlmIChrZXlzQ291bnQgPCBzY2hlbWEubWluUHJvcGVydGllcykge1xuICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiT0JKRUNUX1BST1BFUlRJRVNfTUlOSU1VTVwiLCBba2V5c0NvdW50LCBzY2hlbWEubWluUHJvcGVydGllc10sIG51bGwsIHNjaGVtYSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlcXVpcmVkOiBmdW5jdGlvbiAocmVwb3J0LCBzY2hlbWEsIGpzb24pIHtcbiAgICAgICAgLy8gaHR0cDovL2pzb24tc2NoZW1hLm9yZy9sYXRlc3QvanNvbi1zY2hlbWEtdmFsaWRhdGlvbi5odG1sI3JmYy5zZWN0aW9uLjUuNC4zLjJcbiAgICAgICAgaWYgKHNob3VsZFNraXBWYWxpZGF0ZSh0aGlzLnZhbGlkYXRlT3B0aW9ucywgW1wiT0JKRUNUX01JU1NJTkdfUkVRVUlSRURfUFJPUEVSVFlcIl0pKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFV0aWxzLndoYXRJcyhqc29uKSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpZHggPSBzY2hlbWEucmVxdWlyZWQubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaWR4LS0pIHtcbiAgICAgICAgICAgIHZhciByZXF1aXJlZFByb3BlcnR5TmFtZSA9IHNjaGVtYS5yZXF1aXJlZFtpZHhdO1xuICAgICAgICAgICAgaWYgKGpzb25bcmVxdWlyZWRQcm9wZXJ0eU5hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJPQkpFQ1RfTUlTU0lOR19SRVFVSVJFRF9QUk9QRVJUWVwiLCBbcmVxdWlyZWRQcm9wZXJ0eU5hbWVdLCBudWxsLCBzY2hlbWEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZnVuY3Rpb24gKHJlcG9ydCwgc2NoZW1hLCBqc29uKSB7XG4gICAgICAgIC8vIGNvdmVyZWQgaW4gcHJvcGVydGllcyBhbmQgcGF0dGVyblByb3BlcnRpZXNcbiAgICAgICAgaWYgKHNjaGVtYS5wcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgJiYgc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBKc29uVmFsaWRhdG9ycy5wcm9wZXJ0aWVzLmNhbGwodGhpcywgcmVwb3J0LCBzY2hlbWEsIGpzb24pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBwYXR0ZXJuUHJvcGVydGllczogZnVuY3Rpb24gKHJlcG9ydCwgc2NoZW1hLCBqc29uKSB7XG4gICAgICAgIC8vIGNvdmVyZWQgaW4gcHJvcGVydGllc1xuICAgICAgICBpZiAoc2NoZW1hLnByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIEpzb25WYWxpZGF0b3JzLnByb3BlcnRpZXMuY2FsbCh0aGlzLCByZXBvcnQsIHNjaGVtYSwganNvbik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHByb3BlcnRpZXM6IGZ1bmN0aW9uIChyZXBvcnQsIHNjaGVtYSwganNvbikge1xuICAgICAgICAvLyBodHRwOi8vanNvbi1zY2hlbWEub3JnL2xhdGVzdC9qc29uLXNjaGVtYS12YWxpZGF0aW9uLmh0bWwjcmZjLnNlY3Rpb24uNS40LjQuMlxuICAgICAgICBpZiAoc2hvdWxkU2tpcFZhbGlkYXRlKHRoaXMudmFsaWRhdGVPcHRpb25zLCBbXCJPQkpFQ1RfQURESVRJT05BTF9QUk9QRVJUSUVTXCJdKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChVdGlscy53aGF0SXMoanNvbikgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJvcGVydGllcyA9IHNjaGVtYS5wcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQgPyBzY2hlbWEucHJvcGVydGllcyA6IHt9O1xuICAgICAgICB2YXIgcGF0dGVyblByb3BlcnRpZXMgPSBzY2hlbWEucGF0dGVyblByb3BlcnRpZXMgIT09IHVuZGVmaW5lZCA/IHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcyA6IHt9O1xuICAgICAgICBpZiAoc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgLy8gVGhlIHByb3BlcnR5IHNldCBvZiB0aGUganNvbiB0byB2YWxpZGF0ZS5cbiAgICAgICAgICAgIHZhciBzID0gT2JqZWN0LmtleXMoanNvbik7XG4gICAgICAgICAgICAvLyBUaGUgcHJvcGVydHkgc2V0IGZyb20gXCJwcm9wZXJ0aWVzXCIuXG4gICAgICAgICAgICB2YXIgcCA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgLy8gVGhlIHByb3BlcnR5IHNldCBmcm9tIFwicGF0dGVyblByb3BlcnRpZXNcIi5cbiAgICAgICAgICAgIHZhciBwcCA9IE9iamVjdC5rZXlzKHBhdHRlcm5Qcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBmcm9tIFwic1wiIGFsbCBlbGVtZW50cyBvZiBcInBcIiwgaWYgYW55O1xuICAgICAgICAgICAgcyA9IFV0aWxzLmRpZmZlcmVuY2UocywgcCk7XG4gICAgICAgICAgICAvLyBmb3IgZWFjaCByZWdleCBpbiBcInBwXCIsIHJlbW92ZSBhbGwgZWxlbWVudHMgb2YgXCJzXCIgd2hpY2ggdGhpcyByZWdleCBtYXRjaGVzLlxuICAgICAgICAgICAgdmFyIGlkeCA9IHBwLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlIChpZHgtLSkge1xuICAgICAgICAgICAgICAgIHZhciByZWdFeHAgPSBSZWdFeHAocHBbaWR4XSksXG4gICAgICAgICAgICAgICAgICAgIGlkeDIgPSBzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoaWR4Mi0tKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWdFeHAudGVzdChzW2lkeDJdKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcy5zcGxpY2UoaWR4MiwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBWYWxpZGF0aW9uIG9mIHRoZSBqc29uIHN1Y2NlZWRzIGlmLCBhZnRlciB0aGVzZSB0d28gc3RlcHMsIHNldCBcInNcIiBpcyBlbXB0eS5cbiAgICAgICAgICAgIGlmIChzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyBhc3N1bWVBZGRpdGlvbmFsIGNhbiBiZSBhbiBhcnJheSBvZiBhbGxvd2VkIHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICB2YXIgaWR4MyA9IHRoaXMub3B0aW9ucy5hc3N1bWVBZGRpdGlvbmFsLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpZiAoaWR4Mykge1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaWR4My0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW8gPSBzLmluZGV4T2YodGhpcy5vcHRpb25zLmFzc3VtZUFkZGl0aW9uYWxbaWR4M10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlvICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuc3BsaWNlKGlvLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgaWR4NCA9IHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGlmIChpZHg0KSB7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChpZHg0LS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIk9CSkVDVF9BRERJVElPTkFMX1BST1BFUlRJRVNcIiwgW3NbaWR4NF1dLCBudWxsLCBzY2hlbWEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBkZXBlbmRlbmNpZXM6IGZ1bmN0aW9uIChyZXBvcnQsIHNjaGVtYSwganNvbikge1xuICAgICAgICAvLyBodHRwOi8vanNvbi1zY2hlbWEub3JnL2xhdGVzdC9qc29uLXNjaGVtYS12YWxpZGF0aW9uLmh0bWwjcmZjLnNlY3Rpb24uNS40LjUuMlxuICAgICAgICBpZiAoc2hvdWxkU2tpcFZhbGlkYXRlKHRoaXMudmFsaWRhdGVPcHRpb25zLCBbXCJPQkpFQ1RfREVQRU5ERU5DWV9LRVlcIl0pKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFV0aWxzLndoYXRJcyhqc29uKSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhzY2hlbWEuZGVwZW5kZW5jaWVzKSxcbiAgICAgICAgICAgIGlkeCA9IGtleXMubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlIChpZHgtLSkge1xuICAgICAgICAgICAgLy8gaXRlcmF0ZSBhbGwgZGVwZW5kZW5jaWVzXG4gICAgICAgICAgICB2YXIgZGVwZW5kZW5jeU5hbWUgPSBrZXlzW2lkeF07XG4gICAgICAgICAgICBpZiAoanNvbltkZXBlbmRlbmN5TmFtZV0pIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVwZW5kZW5jeURlZmluaXRpb24gPSBzY2hlbWEuZGVwZW5kZW5jaWVzW2RlcGVuZGVuY3lOYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAoVXRpbHMud2hhdElzKGRlcGVuZGVuY3lEZWZpbml0aW9uKSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiBkZXBlbmRlbmN5IGlzIGEgc2NoZW1hLCB2YWxpZGF0ZSBhZ2FpbnN0IHRoaXMgc2NoZW1hXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydHMudmFsaWRhdGUuY2FsbCh0aGlzLCByZXBvcnQsIGRlcGVuZGVuY3lEZWZpbml0aW9uLCBqc29uKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBBcnJheVxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBkZXBlbmRlbmN5IGlzIGFuIGFycmF5LCBvYmplY3QgbmVlZHMgdG8gaGF2ZSBhbGwgcHJvcGVydGllcyBpbiB0aGlzIGFycmF5XG4gICAgICAgICAgICAgICAgICAgIHZhciBpZHgyID0gZGVwZW5kZW5jeURlZmluaXRpb24ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaWR4Mi0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVxdWlyZWRQcm9wZXJ0eU5hbWUgPSBkZXBlbmRlbmN5RGVmaW5pdGlvbltpZHgyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc29uW3JlcXVpcmVkUHJvcGVydHlOYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiT0JKRUNUX0RFUEVOREVOQ1lfS0VZXCIsIFtyZXF1aXJlZFByb3BlcnR5TmFtZSwgZGVwZW5kZW5jeU5hbWVdLCBudWxsLCBzY2hlbWEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBlbnVtOiBmdW5jdGlvbiAocmVwb3J0LCBzY2hlbWEsIGpzb24pIHtcbiAgICAgICAgLy8gaHR0cDovL2pzb24tc2NoZW1hLm9yZy9sYXRlc3QvanNvbi1zY2hlbWEtdmFsaWRhdGlvbi5odG1sI3JmYy5zZWN0aW9uLjUuNS4xLjJcbiAgICAgICAgaWYgKHNob3VsZFNraXBWYWxpZGF0ZSh0aGlzLnZhbGlkYXRlT3B0aW9ucywgW1wiRU5VTV9DQVNFX01JU01BVENIXCIsIFwiRU5VTV9NSVNNQVRDSFwiXSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWF0Y2ggPSBmYWxzZSxcbiAgICAgICAgICAgIGNhc2VJbnNlbnNpdGl2ZU1hdGNoID0gZmFsc2UsXG4gICAgICAgICAgICBpZHggPSBzY2hlbWEuZW51bS5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChpZHgtLSkge1xuICAgICAgICAgICAgaWYgKFV0aWxzLmFyZUVxdWFsKGpzb24sIHNjaGVtYS5lbnVtW2lkeF0pKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChVdGlscy5hcmVFcXVhbChqc29uLCBzY2hlbWEuZW51bVtpZHhdKSwgeyBjYXNlSW5zZW5zaXRpdmVDb21wYXJpc29uOiB0cnVlIH0pIHtcbiAgICAgICAgICAgICAgICBjYXNlSW5zZW5zaXRpdmVNYXRjaCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWF0Y2ggPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB2YXIgZXJyb3IgPSBjYXNlSW5zZW5zaXRpdmVNYXRjaCAmJiB0aGlzLm9wdGlvbnMuZW51bUNhc2VJbnNlbnNpdGl2ZUNvbXBhcmlzb24gPyBcIkVOVU1fQ0FTRV9NSVNNQVRDSFwiIDogXCJFTlVNX01JU01BVENIXCI7XG4gICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoZXJyb3IsIFtqc29uXSwgbnVsbCwgc2NoZW1hKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdHlwZTogZnVuY3Rpb24gKHJlcG9ydCwgc2NoZW1hLCBqc29uKSB7XG4gICAgICAgIC8vIGh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvbGF0ZXN0L2pzb24tc2NoZW1hLXZhbGlkYXRpb24uaHRtbCNyZmMuc2VjdGlvbi41LjUuMi4yXG4gICAgICAgIGlmIChzaG91bGRTa2lwVmFsaWRhdGUodGhpcy52YWxpZGF0ZU9wdGlvbnMsIFtcIklOVkFMSURfVFlQRVwiXSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIganNvblR5cGUgPSBVdGlscy53aGF0SXMoanNvbik7XG4gICAgICAgIGlmICh0eXBlb2Ygc2NoZW1hLnR5cGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGlmIChqc29uVHlwZSAhPT0gc2NoZW1hLnR5cGUgJiYgKGpzb25UeXBlICE9PSBcImludGVnZXJcIiB8fCBzY2hlbWEudHlwZSAhPT0gXCJudW1iZXJcIikpIHtcbiAgICAgICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJJTlZBTElEX1RZUEVcIiwgW3NjaGVtYS50eXBlLCBqc29uVHlwZV0sIG51bGwsIHNjaGVtYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoc2NoZW1hLnR5cGUuaW5kZXhPZihqc29uVHlwZSkgPT09IC0xICYmIChqc29uVHlwZSAhPT0gXCJpbnRlZ2VyXCIgfHwgc2NoZW1hLnR5cGUuaW5kZXhPZihcIm51bWJlclwiKSA9PT0gLTEpKSB7XG4gICAgICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiSU5WQUxJRF9UWVBFXCIsIFtzY2hlbWEudHlwZSwganNvblR5cGVdLCBudWxsLCBzY2hlbWEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBhbGxPZjogZnVuY3Rpb24gKHJlcG9ydCwgc2NoZW1hLCBqc29uKSB7XG4gICAgICAgIC8vIGh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvbGF0ZXN0L2pzb24tc2NoZW1hLXZhbGlkYXRpb24uaHRtbCNyZmMuc2VjdGlvbi41LjUuMy4yXG4gICAgICAgIHZhciBpZHggPSBzY2hlbWEuYWxsT2YubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaWR4LS0pIHtcbiAgICAgICAgICAgIHZhciB2YWxpZGF0ZVJlc3VsdCA9IGV4cG9ydHMudmFsaWRhdGUuY2FsbCh0aGlzLCByZXBvcnQsIHNjaGVtYS5hbGxPZltpZHhdLCBqc29uKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYnJlYWtPbkZpcnN0RXJyb3IgJiYgdmFsaWRhdGVSZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFueU9mOiBmdW5jdGlvbiAocmVwb3J0LCBzY2hlbWEsIGpzb24pIHtcbiAgICAgICAgLy8gaHR0cDovL2pzb24tc2NoZW1hLm9yZy9sYXRlc3QvanNvbi1zY2hlbWEtdmFsaWRhdGlvbi5odG1sI3JmYy5zZWN0aW9uLjUuNS40LjJcbiAgICAgICAgdmFyIHN1YlJlcG9ydHMgPSBbXSxcbiAgICAgICAgICAgIHBhc3NlZCA9IGZhbHNlLFxuICAgICAgICAgICAgaWR4ID0gc2NoZW1hLmFueU9mLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoaWR4LS0gJiYgcGFzc2VkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdmFyIHN1YlJlcG9ydCA9IG5ldyBSZXBvcnQocmVwb3J0KTtcbiAgICAgICAgICAgIHN1YlJlcG9ydHMucHVzaChzdWJSZXBvcnQpO1xuICAgICAgICAgICAgcGFzc2VkID0gZXhwb3J0cy52YWxpZGF0ZS5jYWxsKHRoaXMsIHN1YlJlcG9ydCwgc2NoZW1hLmFueU9mW2lkeF0sIGpzb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhc3NlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIkFOWV9PRl9NSVNTSU5HXCIsIHVuZGVmaW5lZCwgc3ViUmVwb3J0cywgc2NoZW1hKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgb25lT2Y6IGZ1bmN0aW9uIChyZXBvcnQsIHNjaGVtYSwganNvbikge1xuICAgICAgICAvLyBodHRwOi8vanNvbi1zY2hlbWEub3JnL2xhdGVzdC9qc29uLXNjaGVtYS12YWxpZGF0aW9uLmh0bWwjcmZjLnNlY3Rpb24uNS41LjUuMlxuICAgICAgICB2YXIgcGFzc2VzID0gMCxcbiAgICAgICAgICAgIHN1YlJlcG9ydHMgPSBbXSxcbiAgICAgICAgICAgIGlkeCA9IHNjaGVtYS5vbmVPZi5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKGlkeC0tKSB7XG4gICAgICAgICAgICB2YXIgc3ViUmVwb3J0ID0gbmV3IFJlcG9ydChyZXBvcnQsIHsgbWF4RXJyb3JzOiAxIH0pO1xuICAgICAgICAgICAgc3ViUmVwb3J0cy5wdXNoKHN1YlJlcG9ydCk7XG4gICAgICAgICAgICBpZiAoZXhwb3J0cy52YWxpZGF0ZS5jYWxsKHRoaXMsIHN1YlJlcG9ydCwgc2NoZW1hLm9uZU9mW2lkeF0sIGpzb24pID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcGFzc2VzKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFzc2VzID09PSAwKSB7XG4gICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJPTkVfT0ZfTUlTU0lOR1wiLCB1bmRlZmluZWQsIHN1YlJlcG9ydHMsIHNjaGVtYSk7XG4gICAgICAgIH0gZWxzZSBpZiAocGFzc2VzID4gMSkge1xuICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiT05FX09GX01VTFRJUExFXCIsIG51bGwsIG51bGwsIHNjaGVtYSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIG5vdDogZnVuY3Rpb24gKHJlcG9ydCwgc2NoZW1hLCBqc29uKSB7XG4gICAgICAgIC8vIGh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvbGF0ZXN0L2pzb24tc2NoZW1hLXZhbGlkYXRpb24uaHRtbCNyZmMuc2VjdGlvbi41LjUuNi4yXG4gICAgICAgIHZhciBzdWJSZXBvcnQgPSBuZXcgUmVwb3J0KHJlcG9ydCk7XG4gICAgICAgIGlmIChleHBvcnRzLnZhbGlkYXRlLmNhbGwodGhpcywgc3ViUmVwb3J0LCBzY2hlbWEubm90LCBqc29uKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiTk9UX1BBU1NFRFwiLCBudWxsLCBudWxsLCBzY2hlbWEpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBkZWZpbml0aW9uczogZnVuY3Rpb24gKCkgeyAvKnJlcG9ydCwgc2NoZW1hLCBqc29uKi9cbiAgICAgICAgLy8gaHR0cDovL2pzb24tc2NoZW1hLm9yZy9sYXRlc3QvanNvbi1zY2hlbWEtdmFsaWRhdGlvbi5odG1sI3JmYy5zZWN0aW9uLjUuNS43LjJcbiAgICAgICAgLy8gbm90aGluZyB0byBkbyBoZXJlXG4gICAgfSxcbiAgICBmb3JtYXQ6IGZ1bmN0aW9uIChyZXBvcnQsIHNjaGVtYSwganNvbikge1xuICAgICAgICAvLyBodHRwOi8vanNvbi1zY2hlbWEub3JnL2xhdGVzdC9qc29uLXNjaGVtYS12YWxpZGF0aW9uLmh0bWwjcmZjLnNlY3Rpb24uNy4yXG4gICAgICAgIHZhciBmb3JtYXRWYWxpZGF0b3JGbiA9IEZvcm1hdFZhbGlkYXRvcnNbc2NoZW1hLmZvcm1hdF07XG4gICAgICAgIGlmICh0eXBlb2YgZm9ybWF0VmFsaWRhdG9yRm4gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgaWYgKHNob3VsZFNraXBWYWxpZGF0ZSh0aGlzLnZhbGlkYXRlT3B0aW9ucywgW1wiSU5WQUxJRF9GT1JNQVRcIl0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZvcm1hdFZhbGlkYXRvckZuLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICAgIC8vIGFzeW5jIC0gbmVlZCB0byBjbG9uZSB0aGUgcGF0aCBoZXJlLCBiZWNhdXNlIGl0IHdpbGwgY2hhbmdlIGJ5IHRoZSB0aW1lIGFzeW5jIGZ1bmN0aW9uIHJlcG9ydHMgYmFja1xuICAgICAgICAgICAgICAgIHZhciBwYXRoQmVmb3JlQXN5bmMgPSBVdGlscy5jbG9uZShyZXBvcnQucGF0aCk7XG4gICAgICAgICAgICAgICAgcmVwb3J0LmFkZEFzeW5jVGFzayhmb3JtYXRWYWxpZGF0b3JGbiwgW2pzb25dLCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiYWNrdXAgPSByZXBvcnQucGF0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcG9ydC5wYXRoID0gcGF0aEJlZm9yZUFzeW5jO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiSU5WQUxJRF9GT1JNQVRcIiwgW3NjaGVtYS5mb3JtYXQsIGpzb25dLCBudWxsLCBzY2hlbWEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVwb3J0LnBhdGggPSBiYWNrdXA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gc3luY1xuICAgICAgICAgICAgICAgIGlmIChmb3JtYXRWYWxpZGF0b3JGbi5jYWxsKHRoaXMsIGpzb24pICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIklOVkFMSURfRk9STUFUXCIsIFtzY2hlbWEuZm9ybWF0LCBqc29uXSwgbnVsbCwgc2NoZW1hKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLmlnbm9yZVVua25vd25Gb3JtYXRzICE9PSB0cnVlKSB7XG4gICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJVTktOT1dOX0ZPUk1BVFwiLCBbc2NoZW1hLmZvcm1hdF0sIG51bGwsIHNjaGVtYSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG52YXIgcmVjdXJzZUFycmF5ID0gZnVuY3Rpb24gKHJlcG9ydCwgc2NoZW1hLCBqc29uKSB7XG4gICAgLy8gaHR0cDovL2pzb24tc2NoZW1hLm9yZy9sYXRlc3QvanNvbi1zY2hlbWEtdmFsaWRhdGlvbi5odG1sI3JmYy5zZWN0aW9uLjguMlxuXG4gICAgdmFyIGlkeCA9IGpzb24ubGVuZ3RoO1xuXG4gICAgLy8gSWYgXCJpdGVtc1wiIGlzIGFuIGFycmF5LCB0aGlzIHNpdHVhdGlvbiwgdGhlIHNjaGVtYSBkZXBlbmRzIG9uIHRoZSBpbmRleDpcbiAgICAvLyBpZiB0aGUgaW5kZXggaXMgbGVzcyB0aGFuLCBvciBlcXVhbCB0bywgdGhlIHNpemUgb2YgXCJpdGVtc1wiLFxuICAgIC8vIHRoZSBjaGlsZCBpbnN0YW5jZSBtdXN0IGJlIHZhbGlkIGFnYWluc3QgdGhlIGNvcnJlc3BvbmRpbmcgc2NoZW1hIGluIHRoZSBcIml0ZW1zXCIgYXJyYXk7XG4gICAgLy8gb3RoZXJ3aXNlLCBpdCBtdXN0IGJlIHZhbGlkIGFnYWluc3QgdGhlIHNjaGVtYSBkZWZpbmVkIGJ5IFwiYWRkaXRpb25hbEl0ZW1zXCIuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hLml0ZW1zKSkge1xuXG4gICAgICAgIHdoaWxlIChpZHgtLSkge1xuICAgICAgICAgICAgLy8gZXF1YWwgdG8gZG9lc24ndCBtYWtlIHNlbnNlIGhlcmVcbiAgICAgICAgICAgIGlmIChpZHggPCBzY2hlbWEuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmVwb3J0LnBhdGgucHVzaChpZHgpO1xuICAgICAgICAgICAgICAgIGV4cG9ydHMudmFsaWRhdGUuY2FsbCh0aGlzLCByZXBvcnQsIHNjaGVtYS5pdGVtc1tpZHhdLCBqc29uW2lkeF0pO1xuICAgICAgICAgICAgICAgIHJlcG9ydC5wYXRoLnBvcCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBtaWdodCBiZSBib29sZWFuLCBzbyBjaGVjayB0aGF0IGl0J3MgYW4gb2JqZWN0XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzY2hlbWEuYWRkaXRpb25hbEl0ZW1zID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcG9ydC5wYXRoLnB1c2goaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0cy52YWxpZGF0ZS5jYWxsKHRoaXMsIHJlcG9ydCwgc2NoZW1hLmFkZGl0aW9uYWxJdGVtcywganNvbltpZHhdKTtcbiAgICAgICAgICAgICAgICAgICAgcmVwb3J0LnBhdGgucG9wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBzY2hlbWEuaXRlbXMgPT09IFwib2JqZWN0XCIpIHtcblxuICAgICAgICAvLyBJZiBpdGVtcyBpcyBhIHNjaGVtYSwgdGhlbiB0aGUgY2hpbGQgaW5zdGFuY2UgbXVzdCBiZSB2YWxpZCBhZ2FpbnN0IHRoaXMgc2NoZW1hLFxuICAgICAgICAvLyByZWdhcmRsZXNzIG9mIGl0cyBpbmRleCwgYW5kIHJlZ2FyZGxlc3Mgb2YgdGhlIHZhbHVlIG9mIFwiYWRkaXRpb25hbEl0ZW1zXCIuXG4gICAgICAgIHdoaWxlIChpZHgtLSkge1xuICAgICAgICAgICAgcmVwb3J0LnBhdGgucHVzaChpZHgpO1xuICAgICAgICAgICAgZXhwb3J0cy52YWxpZGF0ZS5jYWxsKHRoaXMsIHJlcG9ydCwgc2NoZW1hLml0ZW1zLCBqc29uW2lkeF0pO1xuICAgICAgICAgICAgcmVwb3J0LnBhdGgucG9wKCk7XG4gICAgICAgIH1cblxuICAgIH1cbn07XG5cbnZhciByZWN1cnNlT2JqZWN0ID0gZnVuY3Rpb24gKHJlcG9ydCwgc2NoZW1hLCBqc29uKSB7XG4gICAgLy8gaHR0cDovL2pzb24tc2NoZW1hLm9yZy9sYXRlc3QvanNvbi1zY2hlbWEtdmFsaWRhdGlvbi5odG1sI3JmYy5zZWN0aW9uLjguM1xuXG4gICAgLy8gSWYgXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiIGlzIGFic2VudCwgaXQgaXMgY29uc2lkZXJlZCBwcmVzZW50IHdpdGggYW4gZW1wdHkgc2NoZW1hIGFzIGEgdmFsdWUuXG4gICAgLy8gSW4gYWRkaXRpb24sIGJvb2xlYW4gdmFsdWUgdHJ1ZSBpcyBjb25zaWRlcmVkIGVxdWl2YWxlbnQgdG8gYW4gZW1wdHkgc2NoZW1hLlxuICAgIHZhciBhZGRpdGlvbmFsUHJvcGVydGllcyA9IHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcztcbiAgICBpZiAoYWRkaXRpb25hbFByb3BlcnRpZXMgPT09IHRydWUgfHwgYWRkaXRpb25hbFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllcyA9IHt9O1xuICAgIH1cblxuICAgIC8vIHAgLSBUaGUgcHJvcGVydHkgc2V0IGZyb20gXCJwcm9wZXJ0aWVzXCIuXG4gICAgdmFyIHAgPSBzY2hlbWEucHJvcGVydGllcyA/IE9iamVjdC5rZXlzKHNjaGVtYS5wcm9wZXJ0aWVzKSA6IFtdO1xuXG4gICAgLy8gcHAgLSBUaGUgcHJvcGVydHkgc2V0IGZyb20gXCJwYXR0ZXJuUHJvcGVydGllc1wiLiBFbGVtZW50cyBvZiB0aGlzIHNldCB3aWxsIGJlIGNhbGxlZCByZWdleGVzIGZvciBjb252ZW5pZW5jZS5cbiAgICB2YXIgcHAgPSBzY2hlbWEucGF0dGVyblByb3BlcnRpZXMgPyBPYmplY3Qua2V5cyhzY2hlbWEucGF0dGVyblByb3BlcnRpZXMpIDogW107XG5cbiAgICAvLyBtIC0gVGhlIHByb3BlcnR5IG5hbWUgb2YgdGhlIGNoaWxkLlxuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoanNvbiksXG4gICAgICAgIGlkeCA9IGtleXMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGlkeC0tKSB7XG4gICAgICAgIHZhciBtID0ga2V5c1tpZHhdLFxuICAgICAgICAgICAgcHJvcGVydHlWYWx1ZSA9IGpzb25bbV07XG5cbiAgICAgICAgLy8gcyAtIFRoZSBzZXQgb2Ygc2NoZW1hcyBmb3IgdGhlIGNoaWxkIGluc3RhbmNlLlxuICAgICAgICB2YXIgcyA9IFtdO1xuXG4gICAgICAgIC8vIDEuIElmIHNldCBcInBcIiBjb250YWlucyB2YWx1ZSBcIm1cIiwgdGhlbiB0aGUgY29ycmVzcG9uZGluZyBzY2hlbWEgaW4gXCJwcm9wZXJ0aWVzXCIgaXMgYWRkZWQgdG8gXCJzXCIuXG4gICAgICAgIGlmIChwLmluZGV4T2YobSkgIT09IC0xKSB7XG4gICAgICAgICAgICBzLnB1c2goc2NoZW1hLnByb3BlcnRpZXNbbV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gMi4gRm9yIGVhY2ggcmVnZXggaW4gXCJwcFwiLCBpZiBpdCBtYXRjaGVzIFwibVwiIHN1Y2Nlc3NmdWxseSwgdGhlIGNvcnJlc3BvbmRpbmcgc2NoZW1hIGluIFwicGF0dGVyblByb3BlcnRpZXNcIiBpcyBhZGRlZCB0byBcInNcIi5cbiAgICAgICAgdmFyIGlkeDIgPSBwcC5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChpZHgyLS0pIHtcbiAgICAgICAgICAgIHZhciByZWdleFN0cmluZyA9IHBwW2lkeDJdO1xuICAgICAgICAgICAgaWYgKFJlZ0V4cChyZWdleFN0cmluZykudGVzdChtKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHMucHVzaChzY2hlbWEucGF0dGVyblByb3BlcnRpZXNbcmVnZXhTdHJpbmddKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDMuIFRoZSBzY2hlbWEgZGVmaW5lZCBieSBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCIgaXMgYWRkZWQgdG8gXCJzXCIgaWYgYW5kIG9ubHkgaWYsIGF0IHRoaXMgc3RhZ2UsIFwic1wiIGlzIGVtcHR5LlxuICAgICAgICBpZiAocy5sZW5ndGggPT09IDAgJiYgYWRkaXRpb25hbFByb3BlcnRpZXMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBzLnB1c2goYWRkaXRpb25hbFByb3BlcnRpZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2UgYXJlIHBhc3NpbmcgdGVzdHMgZXZlbiB3aXRob3V0IHRoaXMgYXNzZXJ0IGJlY2F1c2UgdGhpcyBpcyBjb3ZlcmVkIGJ5IHByb3BlcnRpZXMgY2hlY2tcbiAgICAgICAgLy8gaWYgcyBpcyBlbXB0eSBpbiB0aGlzIHN0YWdlLCBubyBhZGRpdGlvbmFsUHJvcGVydGllcyBhcmUgYWxsb3dlZFxuICAgICAgICAvLyByZXBvcnQuZXhwZWN0KHMubGVuZ3RoICE9PSAwLCAnRTAwMScsIG0pO1xuXG4gICAgICAgIC8vIEluc3RhbmNlIHByb3BlcnR5IHZhbHVlIG11c3QgcGFzcyBhbGwgc2NoZW1hcyBmcm9tIHNcbiAgICAgICAgaWR4MiA9IHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaWR4Mi0tKSB7XG4gICAgICAgICAgICByZXBvcnQucGF0aC5wdXNoKG0pO1xuICAgICAgICAgICAgZXhwb3J0cy52YWxpZGF0ZS5jYWxsKHRoaXMsIHJlcG9ydCwgc1tpZHgyXSwgcHJvcGVydHlWYWx1ZSk7XG4gICAgICAgICAgICByZXBvcnQucGF0aC5wb3AoKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmV4cG9ydHMuSnNvblZhbGlkYXRvcnMgPSBKc29uVmFsaWRhdG9ycztcblxuLyoqXG4gKlxuICogQHBhcmFtIHtSZXBvcnR9IHJlcG9ydFxuICogQHBhcmFtIHsqfSBzY2hlbWFcbiAqIEBwYXJhbSB7Kn0ganNvblxuICovXG5leHBvcnRzLnZhbGlkYXRlID0gZnVuY3Rpb24gKHJlcG9ydCwgc2NoZW1hLCBqc29uKSB7XG5cbiAgICByZXBvcnQuY29tbW9uRXJyb3JNZXNzYWdlID0gXCJKU09OX09CSkVDVF9WQUxJREFUSU9OX0ZBSUxFRFwiO1xuXG4gICAgLy8gY2hlY2sgaWYgc2NoZW1hIGlzIGFuIG9iamVjdFxuICAgIHZhciB0byA9IFV0aWxzLndoYXRJcyhzY2hlbWEpO1xuICAgIGlmICh0byAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJTQ0hFTUFfTk9UX0FOX09CSkVDVFwiLCBbdG9dLCBudWxsLCBzY2hlbWEpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gY2hlY2sgaWYgc2NoZW1hIGlzIGVtcHR5LCBldmVyeXRoaW5nIGlzIHZhbGlkIGFnYWluc3QgZW1wdHkgc2NoZW1hXG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhzY2hlbWEpO1xuICAgIGlmIChrZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyB0aGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHJlY3Vyc2l2ZWx5LCBzbyB3ZSBuZWVkIHRvIHJlbWVtYmVyIG91ciByb290XG4gICAgdmFyIGlzUm9vdCA9IGZhbHNlO1xuICAgIGlmICghcmVwb3J0LnJvb3RTY2hlbWEpIHtcbiAgICAgICAgcmVwb3J0LnJvb3RTY2hlbWEgPSBzY2hlbWE7XG4gICAgICAgIGlzUm9vdCA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gZm9sbG93IHNjaGVtYS4kcmVmIGtleXNcbiAgICBpZiAoc2NoZW1hLiRyZWYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBhdm9pZCBpbmZpbml0ZSBsb29wIHdpdGggbWF4UmVmc1xuICAgICAgICB2YXIgbWF4UmVmcyA9IDk5O1xuICAgICAgICB3aGlsZSAoc2NoZW1hLiRyZWYgJiYgbWF4UmVmcyA+IDApIHtcbiAgICAgICAgICAgIGlmICghc2NoZW1hLl9fJHJlZlJlc29sdmVkKSB7XG4gICAgICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiUkVGX1VOUkVTT0xWRURcIiwgW3NjaGVtYS4kcmVmXSwgbnVsbCwgc2NoZW1hKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2NoZW1hLl9fJHJlZlJlc29sdmVkID09PSBzY2hlbWEpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2NoZW1hID0gc2NoZW1hLl9fJHJlZlJlc29sdmVkO1xuICAgICAgICAgICAgICAgIGtleXMgPSBPYmplY3Qua2V5cyhzY2hlbWEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWF4UmVmcy0tO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXhSZWZzID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDaXJjdWxhciBkZXBlbmRlbmN5IGJ5ICRyZWYgcmVmZXJlbmNlcyFcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB0eXBlIGNoZWNraW5nIGZpcnN0XG4gICAgdmFyIGpzb25UeXBlID0gVXRpbHMud2hhdElzKGpzb24pO1xuICAgIGlmIChzY2hlbWEudHlwZSkge1xuICAgICAgICBrZXlzLnNwbGljZShrZXlzLmluZGV4T2YoXCJ0eXBlXCIpLCAxKTtcbiAgICAgICAgSnNvblZhbGlkYXRvcnMudHlwZS5jYWxsKHRoaXMsIHJlcG9ydCwgc2NoZW1hLCBqc29uKTtcbiAgICAgICAgaWYgKHJlcG9ydC5lcnJvcnMubGVuZ3RoICYmIHRoaXMub3B0aW9ucy5icmVha09uRmlyc3RFcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gbm93IGl0ZXJhdGUgYWxsIHRoZSBrZXlzIGluIHNjaGVtYSBhbmQgZXhlY3V0ZSB2YWxpZGF0aW9uIG1ldGhvZHNcbiAgICB2YXIgaWR4ID0ga2V5cy5sZW5ndGg7XG4gICAgd2hpbGUgKGlkeC0tKSB7XG4gICAgICAgIGlmIChKc29uVmFsaWRhdG9yc1trZXlzW2lkeF1dKSB7XG4gICAgICAgICAgICBKc29uVmFsaWRhdG9yc1trZXlzW2lkeF1dLmNhbGwodGhpcywgcmVwb3J0LCBzY2hlbWEsIGpzb24pO1xuICAgICAgICAgICAgaWYgKHJlcG9ydC5lcnJvcnMubGVuZ3RoICYmIHRoaXMub3B0aW9ucy5icmVha09uRmlyc3RFcnJvcikgeyBicmVhazsgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHJlcG9ydC5lcnJvcnMubGVuZ3RoID09PSAwIHx8IHRoaXMub3B0aW9ucy5icmVha09uRmlyc3RFcnJvciA9PT0gZmFsc2UpIHtcbiAgICAgICAgaWYgKGpzb25UeXBlID09PSBcImFycmF5XCIpIHtcbiAgICAgICAgICAgIHJlY3Vyc2VBcnJheS5jYWxsKHRoaXMsIHJlcG9ydCwgc2NoZW1hLCBqc29uKTtcbiAgICAgICAgfSBlbHNlIGlmIChqc29uVHlwZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgcmVjdXJzZU9iamVjdC5jYWxsKHRoaXMsIHJlcG9ydCwgc2NoZW1hLCBqc29uKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLmN1c3RvbVZhbGlkYXRvciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5jdXN0b21WYWxpZGF0b3IuY2FsbCh0aGlzLCByZXBvcnQsIHNjaGVtYSwganNvbik7XG4gICAgfVxuXG4gICAgLy8gd2UgZG9uJ3QgbmVlZCB0aGUgcm9vdCBwb2ludGVyIGFueW1vcmVcbiAgICBpZiAoaXNSb290KSB7XG4gICAgICAgIHJlcG9ydC5yb290U2NoZW1hID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8vIHJldHVybiB2YWxpZCBqdXN0IHRvIGJlIGFibGUgdG8gYnJlYWsgYXQgc29tZSBjb2RlIHBvaW50c1xuICAgIHJldHVybiByZXBvcnQuZXJyb3JzLmxlbmd0aCA9PT0gMDtcblxufTtcbiJdLCJuYW1lcyI6WyJGb3JtYXRWYWxpZGF0b3JzIiwicmVxdWlyZSIsIlJlcG9ydCIsIlV0aWxzIiwic2hvdWxkU2tpcFZhbGlkYXRlIiwib3B0aW9ucyIsImVycm9ycyIsIkFycmF5IiwiaXNBcnJheSIsImluY2x1ZGVFcnJvcnMiLCJsZW5ndGgiLCJzb21lIiwiZXJyIiwiaW5jbHVkZXMiLCJKc29uVmFsaWRhdG9ycyIsIm11bHRpcGxlT2YiLCJyZXBvcnQiLCJzY2hlbWEiLCJqc29uIiwidmFsaWRhdGVPcHRpb25zIiwic3RyaW5nTXVsdGlwbGVPZiIsIlN0cmluZyIsInNjYWxlIiwiTWF0aCIsInBvdyIsImluZGV4T2YiLCJ3aGF0SXMiLCJhZGRFcnJvciIsIm1heGltdW0iLCJleGNsdXNpdmVNYXhpbXVtIiwibWluaW11bSIsImV4Y2x1c2l2ZU1pbmltdW0iLCJtYXhMZW5ndGgiLCJ1Y3MyZGVjb2RlIiwibWluTGVuZ3RoIiwicGF0dGVybiIsIlJlZ0V4cCIsInRlc3QiLCJhZGRpdGlvbmFsSXRlbXMiLCJpdGVtcyIsIm1heEl0ZW1zIiwibWluSXRlbXMiLCJ1bmlxdWVJdGVtcyIsIm1hdGNoZXMiLCJpc1VuaXF1ZUFycmF5IiwibWF4UHJvcGVydGllcyIsImtleXNDb3VudCIsIk9iamVjdCIsImtleXMiLCJtaW5Qcm9wZXJ0aWVzIiwicmVxdWlyZWQiLCJpZHgiLCJyZXF1aXJlZFByb3BlcnR5TmFtZSIsInVuZGVmaW5lZCIsImFkZGl0aW9uYWxQcm9wZXJ0aWVzIiwicHJvcGVydGllcyIsInBhdHRlcm5Qcm9wZXJ0aWVzIiwiY2FsbCIsInMiLCJwIiwicHAiLCJkaWZmZXJlbmNlIiwicmVnRXhwIiwiaWR4MiIsInNwbGljZSIsImlkeDMiLCJhc3N1bWVBZGRpdGlvbmFsIiwiaW8iLCJpZHg0IiwiZGVwZW5kZW5jaWVzIiwiZGVwZW5kZW5jeU5hbWUiLCJkZXBlbmRlbmN5RGVmaW5pdGlvbiIsImV4cG9ydHMiLCJ2YWxpZGF0ZSIsImVudW0iLCJtYXRjaCIsImNhc2VJbnNlbnNpdGl2ZU1hdGNoIiwiYXJlRXF1YWwiLCJjYXNlSW5zZW5zaXRpdmVDb21wYXJpc29uIiwiZXJyb3IiLCJlbnVtQ2FzZUluc2Vuc2l0aXZlQ29tcGFyaXNvbiIsInR5cGUiLCJqc29uVHlwZSIsImFsbE9mIiwidmFsaWRhdGVSZXN1bHQiLCJicmVha09uRmlyc3RFcnJvciIsImFueU9mIiwic3ViUmVwb3J0cyIsInBhc3NlZCIsInN1YlJlcG9ydCIsInB1c2giLCJvbmVPZiIsInBhc3NlcyIsIm1heEVycm9ycyIsIm5vdCIsImRlZmluaXRpb25zIiwiZm9ybWF0IiwiZm9ybWF0VmFsaWRhdG9yRm4iLCJwYXRoQmVmb3JlQXN5bmMiLCJjbG9uZSIsInBhdGgiLCJhZGRBc3luY1Rhc2siLCJyZXN1bHQiLCJiYWNrdXAiLCJpZ25vcmVVbmtub3duRm9ybWF0cyIsInJlY3Vyc2VBcnJheSIsInBvcCIsInJlY3Vyc2VPYmplY3QiLCJtIiwicHJvcGVydHlWYWx1ZSIsInJlZ2V4U3RyaW5nIiwiY29tbW9uRXJyb3JNZXNzYWdlIiwidG8iLCJpc1Jvb3QiLCJyb290U2NoZW1hIiwiJHJlZiIsIm1heFJlZnMiLCJfXyRyZWZSZXNvbHZlZCIsIkVycm9yIiwiY3VzdG9tVmFsaWRhdG9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/z-schema/src/JsonValidation.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/z-schema/src/Polyfills.js":
/*!************************************************!*\
  !*** ./node_modules/z-schema/src/Polyfills.js ***!
  \************************************************/
/***/ (() => {

eval("// Number.isFinite polyfill\n// http://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.isfinite\nif (typeof Number.isFinite !== \"function\") {\n    Number.isFinite = function isFinite(value) {\n        // 1. If Type(number) is not Number, return false.\n        if (typeof value !== \"number\") {\n            return false;\n        }\n        // 2. If number is NaN, +, or , return false.\n        if (value !== value || value === Infinity || value === -Infinity) {\n            return false;\n        }\n        // 3. Otherwise, return true.\n        return true;\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uYW50ZXMtcHVibGljLWRhdGEtZGFzaGJvYXJkLy4vbm9kZV9tb2R1bGVzL3otc2NoZW1hL3NyYy9Qb2x5ZmlsbHMuanM/ZmI0NyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBOdW1iZXIuaXNGaW5pdGUgcG9seWZpbGxcbi8vIGh0dHA6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLW51bWJlci5pc2Zpbml0ZVxuaWYgKHR5cGVvZiBOdW1iZXIuaXNGaW5pdGUgIT09IFwiZnVuY3Rpb25cIikge1xuICAgIE51bWJlci5pc0Zpbml0ZSA9IGZ1bmN0aW9uIGlzRmluaXRlKHZhbHVlKSB7XG4gICAgICAgIC8vIDEuIElmIFR5cGUobnVtYmVyKSBpcyBub3QgTnVtYmVyLCByZXR1cm4gZmFsc2UuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyAyLiBJZiBudW1iZXIgaXMgTmFOLCAr4oieLCBvciDiiJLiiJ4sIHJldHVybiBmYWxzZS5cbiAgICAgICAgaWYgKHZhbHVlICE9PSB2YWx1ZSB8fCB2YWx1ZSA9PT0gSW5maW5pdHkgfHwgdmFsdWUgPT09IC1JbmZpbml0eSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuIE90aGVyd2lzZSwgcmV0dXJuIHRydWUuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG59XG4iXSwibmFtZXMiOlsiTnVtYmVyIiwiaXNGaW5pdGUiLCJ2YWx1ZSIsIkluZmluaXR5Il0sIm1hcHBpbmdzIjoiQUFBQSwyQkFBMkI7QUFDM0IsMkVBQTJFO0FBQzNFLElBQUksT0FBT0EsT0FBT0MsUUFBUSxLQUFLLFlBQVk7SUFDdkNELE9BQU9DLFFBQVEsR0FBRyxTQUFTQSxTQUFTQyxLQUFLO1FBQ3JDLGtEQUFrRDtRQUNsRCxJQUFJLE9BQU9BLFVBQVUsVUFBVTtZQUMzQixPQUFPO1FBQ1g7UUFDQSxnREFBZ0Q7UUFDaEQsSUFBSUEsVUFBVUEsU0FBU0EsVUFBVUMsWUFBWUQsVUFBVSxDQUFDQyxVQUFVO1lBQzlELE9BQU87UUFDWDtRQUNBLDZCQUE2QjtRQUM3QixPQUFPO0lBQ1g7QUFDSiIsImZpbGUiOiIocnNjKS8uL25vZGVfbW9kdWxlcy96LXNjaGVtYS9zcmMvUG9seWZpbGxzLmpzIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/z-schema/src/Polyfills.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/z-schema/src/Report.js":
/*!*********************************************!*\
  !*** ./node_modules/z-schema/src/Report.js ***!
  \*********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\nvar get = __webpack_require__(/*! lodash.get */ \"(rsc)/./node_modules/lodash.get/index.js\");\nvar Errors = __webpack_require__(/*! ./Errors */ \"(rsc)/./node_modules/z-schema/src/Errors.js\");\nvar Utils = __webpack_require__(/*! ./Utils */ \"(rsc)/./node_modules/z-schema/src/Utils.js\");\n/**\n * @class\n *\n * @param {Report|object} parentOrOptions\n * @param {object} [reportOptions]\n */ function Report(parentOrOptions, reportOptions) {\n    this.parentReport = parentOrOptions instanceof Report ? parentOrOptions : undefined;\n    this.options = parentOrOptions instanceof Report ? parentOrOptions.options : parentOrOptions || {};\n    this.reportOptions = reportOptions || {};\n    this.errors = [];\n    /**\n     * @type {string[]}\n     */ this.path = [];\n    this.asyncTasks = [];\n    this.rootSchema = undefined;\n    this.commonErrorMessage = undefined;\n    this.json = undefined;\n}\n/**\n * @returns {boolean}\n */ Report.prototype.isValid = function() {\n    if (this.asyncTasks.length > 0) {\n        throw new Error(\"Async tasks pending, can't answer isValid\");\n    }\n    return this.errors.length === 0;\n};\n/**\n *\n * @param {*} fn\n * @param {*} args\n * @param {*} asyncTaskResultProcessFn\n */ Report.prototype.addAsyncTask = function(fn, args, asyncTaskResultProcessFn) {\n    this.asyncTasks.push([\n        fn,\n        args,\n        asyncTaskResultProcessFn\n    ]);\n};\nReport.prototype.getAncestor = function(id) {\n    if (!this.parentReport) {\n        return undefined;\n    }\n    if (this.parentReport.getSchemaId() === id) {\n        return this.parentReport;\n    }\n    return this.parentReport.getAncestor(id);\n};\n/**\n *\n * @param {*} timeout\n * @param {function(*, *)} callback\n *\n * @returns {void}\n */ Report.prototype.processAsyncTasks = function(timeout, callback) {\n    var validationTimeout = timeout || 2000, tasksCount = this.asyncTasks.length, idx = tasksCount, timedOut = false, self = this;\n    function finish() {\n        process.nextTick(function() {\n            var valid = self.errors.length === 0, err = valid ? null : self.errors;\n            callback(err, valid);\n        });\n    }\n    function respond(asyncTaskResultProcessFn) {\n        return function(asyncTaskResult) {\n            if (timedOut) {\n                return;\n            }\n            asyncTaskResultProcessFn(asyncTaskResult);\n            if (--tasksCount === 0) {\n                finish();\n            }\n        };\n    }\n    // finish if tasks are completed or there are any errors and breaking on first error was requested\n    if (tasksCount === 0 || this.errors.length > 0 && this.options.breakOnFirstError) {\n        finish();\n        return;\n    }\n    while(idx--){\n        var task = this.asyncTasks[idx];\n        task[0].apply(null, task[1].concat(respond(task[2])));\n    }\n    setTimeout(function() {\n        if (tasksCount > 0) {\n            timedOut = true;\n            self.addError(\"ASYNC_TIMEOUT\", [\n                tasksCount,\n                validationTimeout\n            ]);\n            callback(self.errors, false);\n        }\n    }, validationTimeout);\n};\n/**\n *\n * @param {*} returnPathAsString\n *\n * @return {string[]|string}\n */ Report.prototype.getPath = function(returnPathAsString) {\n    /**\n     * @type {string[]|string}\n     */ var path = [];\n    if (this.parentReport) {\n        path = path.concat(this.parentReport.path);\n    }\n    path = path.concat(this.path);\n    if (returnPathAsString !== true) {\n        // Sanitize the path segments (http://tools.ietf.org/html/rfc6901#section-4)\n        path = \"#/\" + path.map(function(segment) {\n            segment = segment.toString();\n            if (Utils.isAbsoluteUri(segment)) {\n                return \"uri(\" + segment + \")\";\n            }\n            return segment.replace(/\\~/g, \"~0\").replace(/\\//g, \"~1\");\n        }).join(\"/\");\n    }\n    return path;\n};\nReport.prototype.getSchemaId = function() {\n    if (!this.rootSchema) {\n        return null;\n    }\n    // get the error path as an array\n    var path = [];\n    if (this.parentReport) {\n        path = path.concat(this.parentReport.path);\n    }\n    path = path.concat(this.path);\n    // try to find id in the error path\n    while(path.length > 0){\n        var obj = get(this.rootSchema, path);\n        if (obj && obj.id) {\n            return obj.id;\n        }\n        path.pop();\n    }\n    // return id of the root\n    return this.rootSchema.id;\n};\n/**\n *\n * @param {*} errorCode\n * @param {*} params\n *\n * @return {boolean}\n */ Report.prototype.hasError = function(errorCode, params) {\n    var idx = this.errors.length;\n    while(idx--){\n        if (this.errors[idx].code === errorCode) {\n            // assume match\n            var match = true;\n            // check the params too\n            var idx2 = this.errors[idx].params.length;\n            while(idx2--){\n                if (this.errors[idx].params[idx2] !== params[idx2]) {\n                    match = false;\n                }\n            }\n            // if match, return true\n            if (match) {\n                return match;\n            }\n        }\n    }\n    return false;\n};\n/**\n *\n * @param {*} errorCode\n * @param {*} params\n * @param {Report[]|Report} [subReports]\n * @param {*} [schema]\n *\n * @return {void}\n */ Report.prototype.addError = function(errorCode, params, subReports, schema) {\n    if (!errorCode) {\n        throw new Error(\"No errorCode passed into addError()\");\n    }\n    this.addCustomError(errorCode, Errors[errorCode], params, subReports, schema);\n};\nReport.prototype.getJson = function() {\n    var self = this;\n    while(self.json === undefined){\n        self = self.parentReport;\n        if (self === undefined) {\n            return undefined;\n        }\n    }\n    return self.json;\n};\n/**\n *\n * @param {*} errorCode\n * @param {*} errorMessage\n * @param {*[]} params\n * @param {Report[]|Report} subReports\n * @param {*} schema\n *\n * @returns {void}\n */ Report.prototype.addCustomError = function(errorCode, errorMessage, params, subReports, schema) {\n    if (this.errors.length >= this.reportOptions.maxErrors) {\n        return;\n    }\n    if (!errorMessage) {\n        throw new Error(\"No errorMessage known for code \" + errorCode);\n    }\n    params = params || [];\n    var idx = params.length;\n    while(idx--){\n        var whatIs = Utils.whatIs(params[idx]);\n        var param = whatIs === \"object\" || whatIs === \"null\" ? JSON.stringify(params[idx]) : params[idx];\n        errorMessage = errorMessage.replace(\"{\" + idx + \"}\", param);\n    }\n    var err = {\n        code: errorCode,\n        params: params,\n        message: errorMessage,\n        path: this.getPath(this.options.reportPathAsArray),\n        schemaId: this.getSchemaId()\n    };\n    err[Utils.schemaSymbol] = schema;\n    err[Utils.jsonSymbol] = this.getJson();\n    if (schema && typeof schema === \"string\") {\n        err.description = schema;\n    } else if (schema && typeof schema === \"object\") {\n        if (schema.title) {\n            err.title = schema.title;\n        }\n        if (schema.description) {\n            err.description = schema.description;\n        }\n    }\n    if (subReports != null) {\n        if (!Array.isArray(subReports)) {\n            subReports = [\n                subReports\n            ];\n        }\n        err.inner = [];\n        idx = subReports.length;\n        while(idx--){\n            var subReport = subReports[idx], idx2 = subReport.errors.length;\n            while(idx2--){\n                err.inner.push(subReport.errors[idx2]);\n            }\n        }\n        if (err.inner.length === 0) {\n            err.inner = undefined;\n        }\n    }\n    this.errors.push(err);\n};\nmodule.exports = Report;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvei1zY2hlbWEvc3JjL1JlcG9ydC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUViLElBQUlBLE1BQVNDLG1CQUFPQSxDQUFDLDREQUFZO0FBQ2pDLElBQUlDLFNBQVNELG1CQUFPQSxDQUFDLDZEQUFVO0FBQy9CLElBQUlFLFFBQVNGLG1CQUFPQSxDQUFDLDJEQUFTO0FBRTlCOzs7OztDQUtDLEdBQ0QsU0FBU0csT0FBT0MsZUFBZSxFQUFFQyxhQUFhO0lBQzFDLElBQUksQ0FBQ0MsWUFBWSxHQUFHRiwyQkFBMkJELFNBQ3ZCQyxrQkFDQUc7SUFFeEIsSUFBSSxDQUFDQyxPQUFPLEdBQUdKLDJCQUEyQkQsU0FDdkJDLGdCQUFnQkksT0FBTyxHQUN2QkosbUJBQW1CLENBQUM7SUFFdkMsSUFBSSxDQUFDQyxhQUFhLEdBQUdBLGlCQUFpQixDQUFDO0lBRXZDLElBQUksQ0FBQ0ksTUFBTSxHQUFHLEVBQUU7SUFDaEI7O0tBRUMsR0FDRCxJQUFJLENBQUNDLElBQUksR0FBRyxFQUFFO0lBQ2QsSUFBSSxDQUFDQyxVQUFVLEdBQUcsRUFBRTtJQUVwQixJQUFJLENBQUNDLFVBQVUsR0FBR0w7SUFDbEIsSUFBSSxDQUFDTSxrQkFBa0IsR0FBR047SUFDMUIsSUFBSSxDQUFDTyxJQUFJLEdBQUdQO0FBQ2hCO0FBRUE7O0NBRUMsR0FDREosT0FBT1ksU0FBUyxDQUFDQyxPQUFPLEdBQUc7SUFDdkIsSUFBSSxJQUFJLENBQUNMLFVBQVUsQ0FBQ00sTUFBTSxHQUFHLEdBQUc7UUFDNUIsTUFBTSxJQUFJQyxNQUFNO0lBQ3BCO0lBQ0EsT0FBTyxJQUFJLENBQUNULE1BQU0sQ0FBQ1EsTUFBTSxLQUFLO0FBQ2xDO0FBRUE7Ozs7O0NBS0MsR0FDRGQsT0FBT1ksU0FBUyxDQUFDSSxZQUFZLEdBQUcsU0FBVUMsRUFBRSxFQUFFQyxJQUFJLEVBQUVDLHdCQUF3QjtJQUN4RSxJQUFJLENBQUNYLFVBQVUsQ0FBQ1ksSUFBSSxDQUFDO1FBQUNIO1FBQUlD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Q3hCc0IsSUFBSTRDLEtBQUssR0FBRzVFO1FBQ2hCO0lBQ0o7SUFFQSxJQUFJLENBQUNFLE1BQU0sQ0FBQ2MsSUFBSSxDQUFDZ0I7QUFDckI7QUFFQThDLE9BQU9DLE9BQU8sR0FBR25GIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmFudGVzLXB1YmxpYy1kYXRhLWRhc2hib2FyZC8uL25vZGVfbW9kdWxlcy96LXNjaGVtYS9zcmMvUmVwb3J0LmpzP2I0MjIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBnZXQgICAgPSByZXF1aXJlKFwibG9kYXNoLmdldFwiKTtcbnZhciBFcnJvcnMgPSByZXF1aXJlKFwiLi9FcnJvcnNcIik7XG52YXIgVXRpbHMgID0gcmVxdWlyZShcIi4vVXRpbHNcIik7XG5cbi8qKlxuICogQGNsYXNzXG4gKlxuICogQHBhcmFtIHtSZXBvcnR8b2JqZWN0fSBwYXJlbnRPck9wdGlvbnNcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcmVwb3J0T3B0aW9uc11cbiAqL1xuZnVuY3Rpb24gUmVwb3J0KHBhcmVudE9yT3B0aW9ucywgcmVwb3J0T3B0aW9ucykge1xuICAgIHRoaXMucGFyZW50UmVwb3J0ID0gcGFyZW50T3JPcHRpb25zIGluc3RhbmNlb2YgUmVwb3J0ID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRPck9wdGlvbnMgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZDtcblxuICAgIHRoaXMub3B0aW9ucyA9IHBhcmVudE9yT3B0aW9ucyBpbnN0YW5jZW9mIFJlcG9ydCA/XG4gICAgICAgICAgICAgICAgICAgICAgIHBhcmVudE9yT3B0aW9ucy5vcHRpb25zIDpcbiAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50T3JPcHRpb25zIHx8IHt9O1xuXG4gICAgdGhpcy5yZXBvcnRPcHRpb25zID0gcmVwb3J0T3B0aW9ucyB8fCB7fTtcblxuICAgIHRoaXMuZXJyb3JzID0gW107XG4gICAgLyoqXG4gICAgICogQHR5cGUge3N0cmluZ1tdfVxuICAgICAqL1xuICAgIHRoaXMucGF0aCA9IFtdO1xuICAgIHRoaXMuYXN5bmNUYXNrcyA9IFtdO1xuXG4gICAgdGhpcy5yb290U2NoZW1hID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuY29tbW9uRXJyb3JNZXNzYWdlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuanNvbiA9IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuUmVwb3J0LnByb3RvdHlwZS5pc1ZhbGlkID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmFzeW5jVGFza3MubGVuZ3RoID4gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBc3luYyB0YXNrcyBwZW5kaW5nLCBjYW4ndCBhbnN3ZXIgaXNWYWxpZFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZXJyb3JzLmxlbmd0aCA9PT0gMDtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7Kn0gZm5cbiAqIEBwYXJhbSB7Kn0gYXJnc1xuICogQHBhcmFtIHsqfSBhc3luY1Rhc2tSZXN1bHRQcm9jZXNzRm5cbiAqL1xuUmVwb3J0LnByb3RvdHlwZS5hZGRBc3luY1Rhc2sgPSBmdW5jdGlvbiAoZm4sIGFyZ3MsIGFzeW5jVGFza1Jlc3VsdFByb2Nlc3NGbikge1xuICAgIHRoaXMuYXN5bmNUYXNrcy5wdXNoKFtmbiwgYXJncywgYXN5bmNUYXNrUmVzdWx0UHJvY2Vzc0ZuXSk7XG59O1xuXG5SZXBvcnQucHJvdG90eXBlLmdldEFuY2VzdG9yID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgaWYgKCF0aGlzLnBhcmVudFJlcG9ydCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAodGhpcy5wYXJlbnRSZXBvcnQuZ2V0U2NoZW1hSWQoKSA9PT0gaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50UmVwb3J0O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wYXJlbnRSZXBvcnQuZ2V0QW5jZXN0b3IoaWQpO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHsqfSB0aW1lb3V0XG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCosICopfSBjYWxsYmFja1xuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5SZXBvcnQucHJvdG90eXBlLnByb2Nlc3NBc3luY1Rhc2tzID0gZnVuY3Rpb24gKHRpbWVvdXQsIGNhbGxiYWNrKSB7XG5cbiAgICB2YXIgdmFsaWRhdGlvblRpbWVvdXQgPSB0aW1lb3V0IHx8IDIwMDAsXG4gICAgICAgIHRhc2tzQ291bnQgICAgICAgID0gdGhpcy5hc3luY1Rhc2tzLmxlbmd0aCxcbiAgICAgICAgaWR4ICAgICAgICAgICAgICAgPSB0YXNrc0NvdW50LFxuICAgICAgICB0aW1lZE91dCAgICAgICAgICA9IGZhbHNlLFxuICAgICAgICBzZWxmICAgICAgICAgICAgICA9IHRoaXM7XG5cbiAgICBmdW5jdGlvbiBmaW5pc2goKSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHZhbGlkID0gc2VsZi5lcnJvcnMubGVuZ3RoID09PSAwLFxuICAgICAgICAgICAgICAgIGVyciA9IHZhbGlkID8gbnVsbCA6IHNlbGYuZXJyb3JzO1xuICAgICAgICAgICAgY2FsbGJhY2soZXJyLCB2YWxpZCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc3BvbmQoYXN5bmNUYXNrUmVzdWx0UHJvY2Vzc0ZuKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoYXN5bmNUYXNrUmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAodGltZWRPdXQpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgICBhc3luY1Rhc2tSZXN1bHRQcm9jZXNzRm4oYXN5bmNUYXNrUmVzdWx0KTtcbiAgICAgICAgICAgIGlmICgtLXRhc2tzQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICBmaW5pc2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBmaW5pc2ggaWYgdGFza3MgYXJlIGNvbXBsZXRlZCBvciB0aGVyZSBhcmUgYW55IGVycm9ycyBhbmQgYnJlYWtpbmcgb24gZmlyc3QgZXJyb3Igd2FzIHJlcXVlc3RlZFxuICAgIGlmICh0YXNrc0NvdW50ID09PSAwIHx8ICh0aGlzLmVycm9ycy5sZW5ndGggPiAwICYmIHRoaXMub3B0aW9ucy5icmVha09uRmlyc3RFcnJvcikpIHtcbiAgICAgICAgZmluaXNoKCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB3aGlsZSAoaWR4LS0pIHtcbiAgICAgICAgdmFyIHRhc2sgPSB0aGlzLmFzeW5jVGFza3NbaWR4XTtcbiAgICAgICAgdGFza1swXS5hcHBseShudWxsLCB0YXNrWzFdLmNvbmNhdChyZXNwb25kKHRhc2tbMl0pKSk7XG4gICAgfVxuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0YXNrc0NvdW50ID4gMCkge1xuICAgICAgICAgICAgdGltZWRPdXQgPSB0cnVlO1xuICAgICAgICAgICAgc2VsZi5hZGRFcnJvcihcIkFTWU5DX1RJTUVPVVRcIiwgW3Rhc2tzQ291bnQsIHZhbGlkYXRpb25UaW1lb3V0XSk7XG4gICAgICAgICAgICBjYWxsYmFjayhzZWxmLmVycm9ycywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfSwgdmFsaWRhdGlvblRpbWVvdXQpO1xuXG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0geyp9IHJldHVyblBhdGhBc1N0cmluZ1xuICpcbiAqIEByZXR1cm4ge3N0cmluZ1tdfHN0cmluZ31cbiAqL1xuUmVwb3J0LnByb3RvdHlwZS5nZXRQYXRoID0gZnVuY3Rpb24gKHJldHVyblBhdGhBc1N0cmluZykge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtzdHJpbmdbXXxzdHJpbmd9XG4gICAgICovXG4gICAgdmFyIHBhdGggPSBbXTtcbiAgICBpZiAodGhpcy5wYXJlbnRSZXBvcnQpIHtcbiAgICAgICAgcGF0aCA9IHBhdGguY29uY2F0KHRoaXMucGFyZW50UmVwb3J0LnBhdGgpO1xuICAgIH1cbiAgICBwYXRoID0gcGF0aC5jb25jYXQodGhpcy5wYXRoKTtcblxuICAgIGlmIChyZXR1cm5QYXRoQXNTdHJpbmcgIT09IHRydWUpIHtcbiAgICAgICAgLy8gU2FuaXRpemUgdGhlIHBhdGggc2VnbWVudHMgKGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY5MDEjc2VjdGlvbi00KVxuICAgICAgICBwYXRoID0gXCIjL1wiICsgcGF0aC5tYXAoZnVuY3Rpb24gKHNlZ21lbnQpIHtcbiAgICAgICAgICAgIHNlZ21lbnQgPSBzZWdtZW50LnRvU3RyaW5nKCk7XG5cbiAgICAgICAgICAgIGlmIChVdGlscy5pc0Fic29sdXRlVXJpKHNlZ21lbnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwidXJpKFwiICsgc2VnbWVudCArIFwiKVwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gc2VnbWVudC5yZXBsYWNlKC9cXH4vZywgXCJ+MFwiKS5yZXBsYWNlKC9cXC8vZywgXCJ+MVwiKTtcbiAgICAgICAgfSkuam9pbihcIi9cIik7XG4gICAgfVxuICAgIHJldHVybiBwYXRoO1xufTtcblxuUmVwb3J0LnByb3RvdHlwZS5nZXRTY2hlbWFJZCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICghdGhpcy5yb290U2NoZW1hKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIGdldCB0aGUgZXJyb3IgcGF0aCBhcyBhbiBhcnJheVxuICAgIHZhciBwYXRoID0gW107XG4gICAgaWYgKHRoaXMucGFyZW50UmVwb3J0KSB7XG4gICAgICAgIHBhdGggPSBwYXRoLmNvbmNhdCh0aGlzLnBhcmVudFJlcG9ydC5wYXRoKTtcbiAgICB9XG4gICAgcGF0aCA9IHBhdGguY29uY2F0KHRoaXMucGF0aCk7XG5cbiAgICAvLyB0cnkgdG8gZmluZCBpZCBpbiB0aGUgZXJyb3IgcGF0aFxuICAgIHdoaWxlIChwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIG9iaiA9IGdldCh0aGlzLnJvb3RTY2hlbWEsIHBhdGgpO1xuICAgICAgICBpZiAob2JqICYmIG9iai5pZCkgeyByZXR1cm4gb2JqLmlkOyB9XG4gICAgICAgIHBhdGgucG9wKCk7XG4gICAgfVxuXG4gICAgLy8gcmV0dXJuIGlkIG9mIHRoZSByb290XG4gICAgcmV0dXJuIHRoaXMucm9vdFNjaGVtYS5pZDtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7Kn0gZXJyb3JDb2RlXG4gKiBAcGFyYW0geyp9IHBhcmFtc1xuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cblJlcG9ydC5wcm90b3R5cGUuaGFzRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3JDb2RlLCBwYXJhbXMpIHtcbiAgICB2YXIgaWR4ID0gdGhpcy5lcnJvcnMubGVuZ3RoO1xuICAgIHdoaWxlIChpZHgtLSkge1xuICAgICAgICBpZiAodGhpcy5lcnJvcnNbaWR4XS5jb2RlID09PSBlcnJvckNvZGUpIHtcbiAgICAgICAgICAgIC8vIGFzc3VtZSBtYXRjaFxuICAgICAgICAgICAgdmFyIG1hdGNoID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gY2hlY2sgdGhlIHBhcmFtcyB0b29cbiAgICAgICAgICAgIHZhciBpZHgyID0gdGhpcy5lcnJvcnNbaWR4XS5wYXJhbXMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKGlkeDItLSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmVycm9yc1tpZHhdLnBhcmFtc1tpZHgyXSAhPT0gcGFyYW1zW2lkeDJdKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiBtYXRjaCwgcmV0dXJuIHRydWVcbiAgICAgICAgICAgIGlmIChtYXRjaCkgeyByZXR1cm4gbWF0Y2g7IH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0geyp9IGVycm9yQ29kZVxuICogQHBhcmFtIHsqfSBwYXJhbXNcbiAqIEBwYXJhbSB7UmVwb3J0W118UmVwb3J0fSBbc3ViUmVwb3J0c11cbiAqIEBwYXJhbSB7Kn0gW3NjaGVtYV1cbiAqXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5SZXBvcnQucHJvdG90eXBlLmFkZEVycm9yID0gZnVuY3Rpb24gKGVycm9yQ29kZSwgcGFyYW1zLCBzdWJSZXBvcnRzLCBzY2hlbWEpIHtcbiAgICBpZiAoIWVycm9yQ29kZSkgeyB0aHJvdyBuZXcgRXJyb3IoXCJObyBlcnJvckNvZGUgcGFzc2VkIGludG8gYWRkRXJyb3IoKVwiKTsgfVxuXG4gICAgdGhpcy5hZGRDdXN0b21FcnJvcihlcnJvckNvZGUsIEVycm9yc1tlcnJvckNvZGVdLCBwYXJhbXMsIHN1YlJlcG9ydHMsIHNjaGVtYSk7XG59O1xuXG5SZXBvcnQucHJvdG90eXBlLmdldEpzb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHdoaWxlIChzZWxmLmpzb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzZWxmID0gc2VsZi5wYXJlbnRSZXBvcnQ7XG4gICAgICAgIGlmIChzZWxmID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNlbGYuanNvbjtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7Kn0gZXJyb3JDb2RlXG4gKiBAcGFyYW0geyp9IGVycm9yTWVzc2FnZVxuICogQHBhcmFtIHsqW119IHBhcmFtc1xuICogQHBhcmFtIHtSZXBvcnRbXXxSZXBvcnR9IHN1YlJlcG9ydHNcbiAqIEBwYXJhbSB7Kn0gc2NoZW1hXG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblJlcG9ydC5wcm90b3R5cGUuYWRkQ3VzdG9tRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3JDb2RlLCBlcnJvck1lc3NhZ2UsIHBhcmFtcywgc3ViUmVwb3J0cywgc2NoZW1hKSB7XG4gICAgaWYgKHRoaXMuZXJyb3JzLmxlbmd0aCA+PSB0aGlzLnJlcG9ydE9wdGlvbnMubWF4RXJyb3JzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWVycm9yTWVzc2FnZSkgeyB0aHJvdyBuZXcgRXJyb3IoXCJObyBlcnJvck1lc3NhZ2Uga25vd24gZm9yIGNvZGUgXCIgKyBlcnJvckNvZGUpOyB9XG5cbiAgICBwYXJhbXMgPSBwYXJhbXMgfHwgW107XG5cbiAgICB2YXIgaWR4ID0gcGFyYW1zLmxlbmd0aDtcbiAgICB3aGlsZSAoaWR4LS0pIHtcbiAgICAgICAgdmFyIHdoYXRJcyA9IFV0aWxzLndoYXRJcyhwYXJhbXNbaWR4XSk7XG4gICAgICAgIHZhciBwYXJhbSA9ICh3aGF0SXMgPT09IFwib2JqZWN0XCIgfHwgd2hhdElzID09PSBcIm51bGxcIikgPyBKU09OLnN0cmluZ2lmeShwYXJhbXNbaWR4XSkgOiBwYXJhbXNbaWR4XTtcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gZXJyb3JNZXNzYWdlLnJlcGxhY2UoXCJ7XCIgKyBpZHggKyBcIn1cIiwgcGFyYW0pO1xuICAgIH1cblxuICAgIHZhciBlcnIgPSB7XG4gICAgICAgIGNvZGU6IGVycm9yQ29kZSxcbiAgICAgICAgcGFyYW1zOiBwYXJhbXMsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yTWVzc2FnZSxcbiAgICAgICAgcGF0aDogdGhpcy5nZXRQYXRoKHRoaXMub3B0aW9ucy5yZXBvcnRQYXRoQXNBcnJheSksXG4gICAgICAgIHNjaGVtYUlkOiB0aGlzLmdldFNjaGVtYUlkKClcbiAgICB9O1xuXG4gICAgZXJyW1V0aWxzLnNjaGVtYVN5bWJvbF0gPSBzY2hlbWE7XG4gICAgZXJyW1V0aWxzLmpzb25TeW1ib2xdID0gdGhpcy5nZXRKc29uKCk7XG5cbiAgICBpZiAoc2NoZW1hICYmIHR5cGVvZiBzY2hlbWEgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgZXJyLmRlc2NyaXB0aW9uID0gc2NoZW1hO1xuICAgIH0gZWxzZSBpZiAoc2NoZW1hICYmIHR5cGVvZiBzY2hlbWEgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgaWYgKHNjaGVtYS50aXRsZSkge1xuICAgICAgICAgICAgZXJyLnRpdGxlID0gc2NoZW1hLnRpdGxlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY2hlbWEuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIGVyci5kZXNjcmlwdGlvbiA9IHNjaGVtYS5kZXNjcmlwdGlvbjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdWJSZXBvcnRzICE9IG51bGwpIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHN1YlJlcG9ydHMpKSB7XG4gICAgICAgICAgICBzdWJSZXBvcnRzID0gW3N1YlJlcG9ydHNdO1xuICAgICAgICB9XG4gICAgICAgIGVyci5pbm5lciA9IFtdO1xuICAgICAgICBpZHggPSBzdWJSZXBvcnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGlkeC0tKSB7XG4gICAgICAgICAgICB2YXIgc3ViUmVwb3J0ID0gc3ViUmVwb3J0c1tpZHhdLFxuICAgICAgICAgICAgICAgIGlkeDIgPSBzdWJSZXBvcnQuZXJyb3JzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlIChpZHgyLS0pIHtcbiAgICAgICAgICAgICAgICBlcnIuaW5uZXIucHVzaChzdWJSZXBvcnQuZXJyb3JzW2lkeDJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyLmlubmVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZXJyLmlubmVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5lcnJvcnMucHVzaChlcnIpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZXBvcnQ7XG4iXSwibmFtZXMiOlsiZ2V0IiwicmVxdWlyZSIsIkVycm9ycyIsIlV0aWxzIiwiUmVwb3J0IiwicGFyZW50T3JPcHRpb25zIiwicmVwb3J0T3B0aW9ucyIsInBhcmVudFJlcG9ydCIsInVuZGVmaW5lZCIsIm9wdGlvbnMiLCJlcnJvcnMiLCJwYXRoIiwiYXN5bmNUYXNrcyIsInJvb3RTY2hlbWEiLCJjb21tb25FcnJvck1lc3NhZ2UiLCJqc29uIiwicHJvdG90eXBlIiwiaXNWYWxpZCIsImxlbmd0aCIsIkVycm9yIiwiYWRkQXN5bmNUYXNrIiwiZm4iLCJhcmdzIiwiYXN5bmNUYXNrUmVzdWx0UHJvY2Vzc0ZuIiwicHVzaCIsImdldEFuY2VzdG9yIiwiaWQiLCJnZXRTY2hlbWFJZCIsInByb2Nlc3NBc3luY1Rhc2tzIiwidGltZW91dCIsImNhbGxiYWNrIiwidmFsaWRhdGlvblRpbWVvdXQiLCJ0YXNrc0NvdW50IiwiaWR4IiwidGltZWRPdXQiLCJzZWxmIiwiZmluaXNoIiwicHJvY2VzcyIsIm5leHRUaWNrIiwidmFsaWQiLCJlcnIiLCJyZXNwb25kIiwiYXN5bmNUYXNrUmVzdWx0IiwiYnJlYWtPbkZpcnN0RXJyb3IiLCJ0YXNrIiwiYXBwbHkiLCJjb25jYXQiLCJzZXRUaW1lb3V0IiwiYWRkRXJyb3IiLCJnZXRQYXRoIiwicmV0dXJuUGF0aEFzU3RyaW5nIiwibWFwIiwic2VnbWVudCIsInRvU3RyaW5nIiwiaXNBYnNvbHV0ZVVyaSIsInJlcGxhY2UiLCJqb2luIiwib2JqIiwicG9wIiwiaGFzRXJyb3IiLCJlcnJvckNvZGUiLCJwYXJhbXMiLCJjb2RlIiwibWF0Y2giLCJpZHgyIiwic3ViUmVwb3J0cyIsInNjaGVtYSIsImFkZEN1c3RvbUVycm9yIiwiZ2V0SnNvbiIsImVycm9yTWVzc2FnZSIsIm1heEVycm9ycyIsIndoYXRJcyIsInBhcmFtIiwiSlNPTiIsInN0cmluZ2lmeSIsIm1lc3NhZ2UiLCJyZXBvcnRQYXRoQXNBcnJheSIsInNjaGVtYUlkIiwic2NoZW1hU3ltYm9sIiwianNvblN5bWJvbCIsImRlc2NyaXB0aW9uIiwidGl0bGUiLCJBcnJheSIsImlzQXJyYXkiLCJpbm5lciIsInN1YlJlcG9ydCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/z-schema/src/Report.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/z-schema/src/SchemaCache.js":
/*!**************************************************!*\
  !*** ./node_modules/z-schema/src/SchemaCache.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nvar isequal = __webpack_require__(/*! lodash.isequal */ \"(rsc)/./node_modules/lodash.isequal/index.js\");\nvar Report = __webpack_require__(/*! ./Report */ \"(rsc)/./node_modules/z-schema/src/Report.js\");\nvar SchemaCompilation = __webpack_require__(/*! ./SchemaCompilation */ \"(rsc)/./node_modules/z-schema/src/SchemaCompilation.js\");\nvar SchemaValidation = __webpack_require__(/*! ./SchemaValidation */ \"(rsc)/./node_modules/z-schema/src/SchemaValidation.js\");\nvar Utils = __webpack_require__(/*! ./Utils */ \"(rsc)/./node_modules/z-schema/src/Utils.js\");\nfunction decodeJSONPointer(str) {\n    // http://tools.ietf.org/html/draft-ietf-appsawg-json-pointer-07#section-3\n    return decodeURIComponent(str).replace(/~[0-1]/g, function(x) {\n        return x === \"~1\" ? \"/\" : \"~\";\n    });\n}\nfunction getRemotePath(uri) {\n    var io = uri.indexOf(\"#\");\n    return io === -1 ? uri : uri.slice(0, io);\n}\nfunction getQueryPath(uri) {\n    var io = uri.indexOf(\"#\");\n    var res = io === -1 ? undefined : uri.slice(io + 1);\n    // WARN: do not slice slash, #/ means take root and go down from it\n    // if (res && res[0] === \"/\") { res = res.slice(1); }\n    return res;\n}\nfunction findId(schema, id) {\n    // process only arrays and objects\n    if (typeof schema !== \"object\" || schema === null) {\n        return;\n    }\n    // no id means root so return itself\n    if (!id) {\n        return schema;\n    }\n    if (schema.id) {\n        if (schema.id === id || schema.id[0] === \"#\" && schema.id.substring(1) === id) {\n            return schema;\n        }\n    }\n    var idx, result;\n    if (Array.isArray(schema)) {\n        idx = schema.length;\n        while(idx--){\n            result = findId(schema[idx], id);\n            if (result) {\n                return result;\n            }\n        }\n    } else {\n        var keys = Object.keys(schema);\n        idx = keys.length;\n        while(idx--){\n            var k = keys[idx];\n            if (k.indexOf(\"__$\") === 0) {\n                continue;\n            }\n            result = findId(schema[k], id);\n            if (result) {\n                return result;\n            }\n        }\n    }\n}\n/**\n *\n * @param {*} uri\n * @param {*} schema\n *\n * @returns {void}\n */ exports.cacheSchemaByUri = function(uri, schema) {\n    var remotePath = getRemotePath(uri);\n    if (remotePath) {\n        this.cache[remotePath] = schema;\n    }\n};\n/**\n *\n * @param {*} uri\n *\n * @returns {void}\n */ exports.removeFromCacheByUri = function(uri) {\n    var remotePath = getRemotePath(uri);\n    if (remotePath) {\n        delete this.cache[remotePath];\n    }\n};\n/**\n *\n * @param {*} uri\n *\n * @returns {boolean}\n */ exports.checkCacheForUri = function(uri) {\n    var remotePath = getRemotePath(uri);\n    return remotePath ? this.cache[remotePath] != null : false;\n};\nexports.getSchema = function(report, schema) {\n    if (typeof schema === \"object\") {\n        schema = exports.getSchemaByReference.call(this, report, schema);\n    }\n    if (typeof schema === \"string\") {\n        schema = exports.getSchemaByUri.call(this, report, schema);\n    }\n    return schema;\n};\nexports.getSchemaByReference = function(report, key) {\n    var i = this.referenceCache.length;\n    while(i--){\n        if (isequal(this.referenceCache[i][0], key)) {\n            return this.referenceCache[i][1];\n        }\n    }\n    // not found\n    var schema = Utils.cloneDeep(key);\n    this.referenceCache.push([\n        key,\n        schema\n    ]);\n    return schema;\n};\nexports.getSchemaByUri = function(report, uri, root) {\n    var remotePath = getRemotePath(uri), queryPath = getQueryPath(uri), result = remotePath ? this.cache[remotePath] : root;\n    if (result && remotePath) {\n        // we need to avoid compiling schemas in a recursive loop\n        var compileRemote = result !== root;\n        // now we need to compile and validate resolved schema (in case it's not already)\n        if (compileRemote) {\n            report.path.push(remotePath);\n            var remoteReport;\n            var anscestorReport = report.getAncestor(result.id);\n            if (anscestorReport) {\n                remoteReport = anscestorReport;\n            } else {\n                remoteReport = new Report(report);\n                if (SchemaCompilation.compileSchema.call(this, remoteReport, result)) {\n                    var savedOptions = this.options;\n                    try {\n                        // If custom validationOptions were provided to setRemoteReference(),\n                        // use them instead of the default options\n                        this.options = result.__$validationOptions || this.options;\n                        SchemaValidation.validateSchema.call(this, remoteReport, result);\n                    } finally{\n                        this.options = savedOptions;\n                    }\n                }\n            }\n            var remoteReportIsValid = remoteReport.isValid();\n            if (!remoteReportIsValid) {\n                report.addError(\"REMOTE_NOT_VALID\", [\n                    uri\n                ], remoteReport);\n            }\n            report.path.pop();\n            if (!remoteReportIsValid) {\n                return undefined;\n            }\n        }\n    }\n    if (result && queryPath) {\n        var parts = queryPath.split(\"/\");\n        for(var idx = 0, lim = parts.length; result && idx < lim; idx++){\n            var key = decodeJSONPointer(parts[idx]);\n            if (idx === 0) {\n                result = findId(result, key);\n            } else {\n                result = result[key];\n            }\n        }\n    }\n    return result;\n};\nexports.getRemotePath = getRemotePath;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvei1zY2hlbWEvc3JjL1NjaGVtYUNhY2hlLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBRWIsSUFBSUEsVUFBc0JDLG1CQUFPQSxDQUFDLG9FQUFnQjtBQUNsRCxJQUFJQyxTQUFzQkQsbUJBQU9BLENBQUMsNkRBQVU7QUFDNUMsSUFBSUUsb0JBQXNCRixtQkFBT0EsQ0FBQyxtRkFBcUI7QUFDdkQsSUFBSUcsbUJBQXNCSCxtQkFBT0EsQ0FBQyxpRkFBb0I7QUFDdEQsSUFBSUksUUFBc0JKLG1CQUFPQSxDQUFDLDJEQUFTO0FBRTNDLFNBQVNLLGtCQUFrQkMsR0FBRztJQUMxQiwwRUFBMEU7SUFDMUUsT0FBT0MsbUJBQW1CRCxLQUFLRSxPQUFPLENBQUMsV0FBVyxTQUFVQyxDQUFDO1FBQ3pELE9BQU9BLE1BQU0sT0FBTyxNQUFNO0lBQzlCO0FBQ0o7QUFFQSxTQUFTQyxjQUFjQyxHQUFHO0lBQ3RCLElBQUlDLEtBQUtELElBQUlFLE9BQU8sQ0FBQztJQUNyQixPQUFPRCxPQUFPLENBQUMsSUFBSUQsTUFBTUEsSUFBSUcsS0FBSyxDQUFDLEdBQUdGO0FBQzFDO0FBRUEsU0FBU0csYUFBYUosR0FBRztJQUNyQixJQUFJQyxLQUFLRCxJQUFJRSxPQUFPLENBQUM7SUFDckIsSUFBSUcsTUFBTUosT0FBTyxDQUFDLElBQUlLLFlBQVlOLElBQUlHLEtBQUssQ0FBQ0YsS0FBSztJQUNqRCxtRUFBbUU7SUFDbkUscURBQXFEO0lBQ3JELE9BQU9JO0FBQ1g7QUFFQSxTQUFTRSxPQUFPQyxNQUFNLEVBQUVDLEVBQUU7SUFDdEIsa0NBQWtDO0lBQ2xDLElBQUksT0FBT0QsV0FBVyxZQUFZQSxXQUFXLE1BQU07UUFDL0M7SUFDSjtJQUVBLG9DQUFvQztJQUNwQyxJQUFJLENBQUNDLElBQUk7UUFDTCxPQUFPRDtJQUNYO0lBRUEsSUFBSUEsT0FBT0MsRUFBRSxFQUFFO1FBQ1gsSUFBSUQsT0FBT0MsRUFBRSxLQUFLQSxNQUFNRCxPQUFPQyxFQUFF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QUFNLENBQUNrQixJQUFJO1lBQ3hCO1FBQ0o7SUFDSjtJQUVBLE9BQU9sQjtBQUNYO0FBRUFPLHFCQUFxQixHQUFHcEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uYW50ZXMtcHVibGljLWRhdGEtZGFzaGJvYXJkLy4vbm9kZV9tb2R1bGVzL3otc2NoZW1hL3NyYy9TY2hlbWFDYWNoZS5qcz81ZTgzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgaXNlcXVhbCAgICAgICAgICAgICA9IHJlcXVpcmUoXCJsb2Rhc2guaXNlcXVhbFwiKTtcbnZhciBSZXBvcnQgICAgICAgICAgICAgID0gcmVxdWlyZShcIi4vUmVwb3J0XCIpO1xudmFyIFNjaGVtYUNvbXBpbGF0aW9uICAgPSByZXF1aXJlKFwiLi9TY2hlbWFDb21waWxhdGlvblwiKTtcbnZhciBTY2hlbWFWYWxpZGF0aW9uICAgID0gcmVxdWlyZShcIi4vU2NoZW1hVmFsaWRhdGlvblwiKTtcbnZhciBVdGlscyAgICAgICAgICAgICAgID0gcmVxdWlyZShcIi4vVXRpbHNcIik7XG5cbmZ1bmN0aW9uIGRlY29kZUpTT05Qb2ludGVyKHN0cikge1xuICAgIC8vIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL2RyYWZ0LWlldGYtYXBwc2F3Zy1qc29uLXBvaW50ZXItMDcjc2VjdGlvbi0zXG4gICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzdHIpLnJlcGxhY2UoL35bMC0xXS9nLCBmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4geCA9PT0gXCJ+MVwiID8gXCIvXCIgOiBcIn5cIjtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0UmVtb3RlUGF0aCh1cmkpIHtcbiAgICB2YXIgaW8gPSB1cmkuaW5kZXhPZihcIiNcIik7XG4gICAgcmV0dXJuIGlvID09PSAtMSA/IHVyaSA6IHVyaS5zbGljZSgwLCBpbyk7XG59XG5cbmZ1bmN0aW9uIGdldFF1ZXJ5UGF0aCh1cmkpIHtcbiAgICB2YXIgaW8gPSB1cmkuaW5kZXhPZihcIiNcIik7XG4gICAgdmFyIHJlcyA9IGlvID09PSAtMSA/IHVuZGVmaW5lZCA6IHVyaS5zbGljZShpbyArIDEpO1xuICAgIC8vIFdBUk46IGRvIG5vdCBzbGljZSBzbGFzaCwgIy8gbWVhbnMgdGFrZSByb290IGFuZCBnbyBkb3duIGZyb20gaXRcbiAgICAvLyBpZiAocmVzICYmIHJlc1swXSA9PT0gXCIvXCIpIHsgcmVzID0gcmVzLnNsaWNlKDEpOyB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gZmluZElkKHNjaGVtYSwgaWQpIHtcbiAgICAvLyBwcm9jZXNzIG9ubHkgYXJyYXlzIGFuZCBvYmplY3RzXG4gICAgaWYgKHR5cGVvZiBzY2hlbWEgIT09IFwib2JqZWN0XCIgfHwgc2NoZW1hID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBubyBpZCBtZWFucyByb290IHNvIHJldHVybiBpdHNlbGZcbiAgICBpZiAoIWlkKSB7XG4gICAgICAgIHJldHVybiBzY2hlbWE7XG4gICAgfVxuXG4gICAgaWYgKHNjaGVtYS5pZCkge1xuICAgICAgICBpZiAoc2NoZW1hLmlkID09PSBpZCB8fCBzY2hlbWEuaWRbMF0gPT09IFwiI1wiICYmIHNjaGVtYS5pZC5zdWJzdHJpbmcoMSkgPT09IGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZW1hO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGlkeCwgcmVzdWx0O1xuICAgIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYSkpIHtcbiAgICAgICAgaWR4ID0gc2NoZW1hLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGlkeC0tKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBmaW5kSWQoc2NoZW1hW2lkeF0sIGlkKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHsgcmV0dXJuIHJlc3VsdDsgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhzY2hlbWEpO1xuICAgICAgICBpZHggPSBrZXlzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGlkeC0tKSB7XG4gICAgICAgICAgICB2YXIgayA9IGtleXNbaWR4XTtcbiAgICAgICAgICAgIGlmIChrLmluZGV4T2YoXCJfXyRcIikgPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdCA9IGZpbmRJZChzY2hlbWFba10sIGlkKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHsgcmV0dXJuIHJlc3VsdDsgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0geyp9IHVyaVxuICogQHBhcmFtIHsqfSBzY2hlbWFcbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0cy5jYWNoZVNjaGVtYUJ5VXJpID0gZnVuY3Rpb24gKHVyaSwgc2NoZW1hKSB7XG4gICAgdmFyIHJlbW90ZVBhdGggPSBnZXRSZW1vdGVQYXRoKHVyaSk7XG4gICAgaWYgKHJlbW90ZVBhdGgpIHtcbiAgICAgICAgdGhpcy5jYWNoZVtyZW1vdGVQYXRoXSA9IHNjaGVtYTtcbiAgICB9XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0geyp9IHVyaVxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnRzLnJlbW92ZUZyb21DYWNoZUJ5VXJpID0gZnVuY3Rpb24gKHVyaSkge1xuICAgIHZhciByZW1vdGVQYXRoID0gZ2V0UmVtb3RlUGF0aCh1cmkpO1xuICAgIGlmIChyZW1vdGVQYXRoKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmNhY2hlW3JlbW90ZVBhdGhdO1xuICAgIH1cbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7Kn0gdXJpXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydHMuY2hlY2tDYWNoZUZvclVyaSA9IGZ1bmN0aW9uICh1cmkpIHtcbiAgICB2YXIgcmVtb3RlUGF0aCA9IGdldFJlbW90ZVBhdGgodXJpKTtcbiAgICByZXR1cm4gcmVtb3RlUGF0aCA/IHRoaXMuY2FjaGVbcmVtb3RlUGF0aF0gIT0gbnVsbCA6IGZhbHNlO1xufTtcblxuZXhwb3J0cy5nZXRTY2hlbWEgPSBmdW5jdGlvbiAocmVwb3J0LCBzY2hlbWEpIHtcbiAgICBpZiAodHlwZW9mIHNjaGVtYSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBzY2hlbWEgPSBleHBvcnRzLmdldFNjaGVtYUJ5UmVmZXJlbmNlLmNhbGwodGhpcywgcmVwb3J0LCBzY2hlbWEpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNjaGVtYSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBzY2hlbWEgPSBleHBvcnRzLmdldFNjaGVtYUJ5VXJpLmNhbGwodGhpcywgcmVwb3J0LCBzY2hlbWEpO1xuICAgIH1cbiAgICByZXR1cm4gc2NoZW1hO1xufTtcblxuZXhwb3J0cy5nZXRTY2hlbWFCeVJlZmVyZW5jZSA9IGZ1bmN0aW9uIChyZXBvcnQsIGtleSkge1xuICAgIHZhciBpID0gdGhpcy5yZWZlcmVuY2VDYWNoZS5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgICBpZiAoaXNlcXVhbCh0aGlzLnJlZmVyZW5jZUNhY2hlW2ldWzBdLCBrZXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZWZlcmVuY2VDYWNoZVtpXVsxXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBub3QgZm91bmRcbiAgICB2YXIgc2NoZW1hID0gVXRpbHMuY2xvbmVEZWVwKGtleSk7XG4gICAgdGhpcy5yZWZlcmVuY2VDYWNoZS5wdXNoKFtrZXksIHNjaGVtYV0pO1xuICAgIHJldHVybiBzY2hlbWE7XG59O1xuXG5leHBvcnRzLmdldFNjaGVtYUJ5VXJpID0gZnVuY3Rpb24gKHJlcG9ydCwgdXJpLCByb290KSB7XG4gICAgdmFyIHJlbW90ZVBhdGggPSBnZXRSZW1vdGVQYXRoKHVyaSksXG4gICAgICAgIHF1ZXJ5UGF0aCA9IGdldFF1ZXJ5UGF0aCh1cmkpLFxuICAgICAgICByZXN1bHQgPSByZW1vdGVQYXRoID8gdGhpcy5jYWNoZVtyZW1vdGVQYXRoXSA6IHJvb3Q7XG5cbiAgICBpZiAocmVzdWx0ICYmIHJlbW90ZVBhdGgpIHtcbiAgICAgICAgLy8gd2UgbmVlZCB0byBhdm9pZCBjb21waWxpbmcgc2NoZW1hcyBpbiBhIHJlY3Vyc2l2ZSBsb29wXG4gICAgICAgIHZhciBjb21waWxlUmVtb3RlID0gcmVzdWx0ICE9PSByb290O1xuICAgICAgICAvLyBub3cgd2UgbmVlZCB0byBjb21waWxlIGFuZCB2YWxpZGF0ZSByZXNvbHZlZCBzY2hlbWEgKGluIGNhc2UgaXQncyBub3QgYWxyZWFkeSlcbiAgICAgICAgaWYgKGNvbXBpbGVSZW1vdGUpIHtcblxuICAgICAgICAgICAgcmVwb3J0LnBhdGgucHVzaChyZW1vdGVQYXRoKTtcblxuICAgICAgICAgICAgdmFyIHJlbW90ZVJlcG9ydDtcblxuICAgICAgICAgICAgdmFyIGFuc2Nlc3RvclJlcG9ydCA9IHJlcG9ydC5nZXRBbmNlc3RvcihyZXN1bHQuaWQpO1xuICAgICAgICAgICAgaWYgKGFuc2Nlc3RvclJlcG9ydCkge1xuICAgICAgICAgICAgICAgIHJlbW90ZVJlcG9ydCA9IGFuc2Nlc3RvclJlcG9ydDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVtb3RlUmVwb3J0ID0gbmV3IFJlcG9ydChyZXBvcnQpO1xuICAgICAgICAgICAgICAgIGlmIChTY2hlbWFDb21waWxhdGlvbi5jb21waWxlU2NoZW1hLmNhbGwodGhpcywgcmVtb3RlUmVwb3J0LCByZXN1bHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzYXZlZE9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBjdXN0b20gdmFsaWRhdGlvbk9wdGlvbnMgd2VyZSBwcm92aWRlZCB0byBzZXRSZW1vdGVSZWZlcmVuY2UoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVzZSB0aGVtIGluc3RlYWQgb2YgdGhlIGRlZmF1bHQgb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gcmVzdWx0Ll9fJHZhbGlkYXRpb25PcHRpb25zIHx8IHRoaXMub3B0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgICAgIFNjaGVtYVZhbGlkYXRpb24udmFsaWRhdGVTY2hlbWEuY2FsbCh0aGlzLCByZW1vdGVSZXBvcnQsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBzYXZlZE9wdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmVtb3RlUmVwb3J0SXNWYWxpZCA9IHJlbW90ZVJlcG9ydC5pc1ZhbGlkKCk7XG4gICAgICAgICAgICBpZiAoIXJlbW90ZVJlcG9ydElzVmFsaWQpIHtcbiAgICAgICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJSRU1PVEVfTk9UX1ZBTElEXCIsIFt1cmldLCByZW1vdGVSZXBvcnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXBvcnQucGF0aC5wb3AoKTtcblxuICAgICAgICAgICAgaWYgKCFyZW1vdGVSZXBvcnRJc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChyZXN1bHQgJiYgcXVlcnlQYXRoKSB7XG4gICAgICAgIHZhciBwYXJ0cyA9IHF1ZXJ5UGF0aC5zcGxpdChcIi9cIik7XG4gICAgICAgIGZvciAodmFyIGlkeCA9IDAsIGxpbSA9IHBhcnRzLmxlbmd0aDsgcmVzdWx0ICYmIGlkeCA8IGxpbTsgaWR4KyspIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBkZWNvZGVKU09OUG9pbnRlcihwYXJ0c1tpZHhdKTtcbiAgICAgICAgICAgIGlmIChpZHggPT09IDApIHsgLy8gaXQncyBhbiBpZFxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZpbmRJZChyZXN1bHQsIGtleSk7XG4gICAgICAgICAgICB9IGVsc2UgeyAvLyBpdCdzIGEgcGF0aCBiZWhpbmQgaWRcbiAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHRba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG5leHBvcnRzLmdldFJlbW90ZVBhdGggPSBnZXRSZW1vdGVQYXRoO1xuIl0sIm5hbWVzIjpbImlzZXF1YWwiLCJyZXF1aXJlIiwiUmVwb3J0IiwiU2NoZW1hQ29tcGlsYXRpb24iLCJTY2hlbWFWYWxpZGF0aW9uIiwiVXRpbHMiLCJkZWNvZGVKU09OUG9pbnRlciIsInN0ciIsImRlY29kZVVSSUNvbXBvbmVudCIsInJlcGxhY2UiLCJ4IiwiZ2V0UmVtb3RlUGF0aCIsInVyaSIsImlvIiwiaW5kZXhPZiIsInNsaWNlIiwiZ2V0UXVlcnlQYXRoIiwicmVzIiwidW5kZWZpbmVkIiwiZmluZElkIiwic2NoZW1hIiwiaWQiLCJzdWJzdHJpbmciLCJpZHgiLCJyZXN1bHQiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJrZXlzIiwiT2JqZWN0IiwiayIsImV4cG9ydHMiLCJjYWNoZVNjaGVtYUJ5VXJpIiwicmVtb3RlUGF0aCIsImNhY2hlIiwicmVtb3ZlRnJvbUNhY2hlQnlVcmkiLCJjaGVja0NhY2hlRm9yVXJpIiwiZ2V0U2NoZW1hIiwicmVwb3J0IiwiZ2V0U2NoZW1hQnlSZWZlcmVuY2UiLCJjYWxsIiwiZ2V0U2NoZW1hQnlVcmkiLCJrZXkiLCJpIiwicmVmZXJlbmNlQ2FjaGUiLCJjbG9uZURlZXAiLCJwdXNoIiwicm9vdCIsInF1ZXJ5UGF0aCIsImNvbXBpbGVSZW1vdGUiLCJwYXRoIiwicmVtb3RlUmVwb3J0IiwiYW5zY2VzdG9yUmVwb3J0IiwiZ2V0QW5jZXN0b3IiLCJjb21waWxlU2NoZW1hIiwic2F2ZWRPcHRpb25zIiwib3B0aW9ucyIsIl9fJHZhbGlkYXRpb25PcHRpb25zIiwidmFsaWRhdGVTY2hlbWEiLCJyZW1vdGVSZXBvcnRJc1ZhbGlkIiwiaXNWYWxpZCIsImFkZEVycm9yIiwicG9wIiwicGFydHMiLCJzcGxpdCIsImxpbSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/z-schema/src/SchemaCache.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/z-schema/src/SchemaCompilation.js":
/*!********************************************************!*\
  !*** ./node_modules/z-schema/src/SchemaCompilation.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nvar Report = __webpack_require__(/*! ./Report */ \"(rsc)/./node_modules/z-schema/src/Report.js\");\nvar SchemaCache = __webpack_require__(/*! ./SchemaCache */ \"(rsc)/./node_modules/z-schema/src/SchemaCache.js\");\nvar Utils = __webpack_require__(/*! ./Utils */ \"(rsc)/./node_modules/z-schema/src/Utils.js\");\nfunction mergeReference(scope, ref) {\n    if (Utils.isAbsoluteUri(ref)) {\n        return ref;\n    }\n    var joinedScope = scope.join(\"\"), isScopeAbsolute = Utils.isAbsoluteUri(joinedScope), isScopeRelative = Utils.isRelativeUri(joinedScope), isRefRelative = Utils.isRelativeUri(ref), toRemove;\n    if (isScopeAbsolute && isRefRelative) {\n        toRemove = joinedScope.match(/\\/[^\\/]*$/);\n        if (toRemove) {\n            joinedScope = joinedScope.slice(0, toRemove.index + 1);\n        }\n    } else if (isScopeRelative && isRefRelative) {\n        joinedScope = \"\";\n    } else {\n        toRemove = joinedScope.match(/[^#/]+$/);\n        if (toRemove) {\n            joinedScope = joinedScope.slice(0, toRemove.index);\n        }\n    }\n    var res = joinedScope + ref;\n    res = res.replace(/##/, \"#\");\n    return res;\n}\nfunction collectReferences(obj, results, scope, path) {\n    results = results || [];\n    scope = scope || [];\n    path = path || [];\n    if (typeof obj !== \"object\" || obj === null) {\n        return results;\n    }\n    if (typeof obj.id === \"string\") {\n        scope.push(obj.id);\n    }\n    if (typeof obj.$ref === \"string\" && typeof obj.__$refResolved === \"undefined\") {\n        results.push({\n            ref: mergeReference(scope, obj.$ref),\n            key: \"$ref\",\n            obj: obj,\n            path: path.slice(0)\n        });\n    }\n    if (typeof obj.$schema === \"string\" && typeof obj.__$schemaResolved === \"undefined\") {\n        results.push({\n            ref: mergeReference(scope, obj.$schema),\n            key: \"$schema\",\n            obj: obj,\n            path: path.slice(0)\n        });\n    }\n    var idx;\n    if (Array.isArray(obj)) {\n        idx = obj.length;\n        while(idx--){\n            path.push(idx.toString());\n            collectReferences(obj[idx], results, scope, path);\n            path.pop();\n        }\n    } else {\n        var keys = Object.keys(obj);\n        idx = keys.length;\n        while(idx--){\n            // do not recurse through resolved references and other z-schema props\n            if (keys[idx].indexOf(\"__$\") === 0) {\n                continue;\n            }\n            path.push(keys[idx]);\n            collectReferences(obj[keys[idx]], results, scope, path);\n            path.pop();\n        }\n    }\n    if (typeof obj.id === \"string\") {\n        scope.pop();\n    }\n    return results;\n}\nvar compileArrayOfSchemasLoop = function(mainReport, arr) {\n    var idx = arr.length, compiledCount = 0;\n    while(idx--){\n        // try to compile each schema separately\n        var report = new Report(mainReport);\n        var isValid = exports.compileSchema.call(this, report, arr[idx]);\n        if (isValid) {\n            compiledCount++;\n        }\n        // copy errors to report\n        mainReport.errors = mainReport.errors.concat(report.errors);\n    }\n    return compiledCount;\n};\nfunction findId(arr, id) {\n    var idx = arr.length;\n    while(idx--){\n        if (arr[idx].id === id) {\n            return arr[idx];\n        }\n    }\n    return null;\n}\nvar compileArrayOfSchemas = function(report, arr) {\n    var compiled = 0, lastLoopCompiled;\n    do {\n        // remove all UNRESOLVABLE_REFERENCE errors before compiling array again\n        var idx = report.errors.length;\n        while(idx--){\n            if (report.errors[idx].code === \"UNRESOLVABLE_REFERENCE\") {\n                report.errors.splice(idx, 1);\n            }\n        }\n        // remember how many were compiled in the last loop\n        lastLoopCompiled = compiled;\n        // count how many are compiled now\n        compiled = compileArrayOfSchemasLoop.call(this, report, arr);\n        // fix __$missingReferences if possible\n        idx = arr.length;\n        while(idx--){\n            var sch = arr[idx];\n            if (sch.__$missingReferences) {\n                var idx2 = sch.__$missingReferences.length;\n                while(idx2--){\n                    var refObj = sch.__$missingReferences[idx2];\n                    var response = findId(arr, refObj.ref);\n                    if (response) {\n                        // this might create circular references\n                        refObj.obj[\"__\" + refObj.key + \"Resolved\"] = response;\n                        // it's resolved now so delete it\n                        sch.__$missingReferences.splice(idx2, 1);\n                    }\n                }\n                if (sch.__$missingReferences.length === 0) {\n                    delete sch.__$missingReferences;\n                }\n            }\n        }\n    // keep repeating if not all compiled and at least one more was compiled in the last loop\n    }while (compiled !== arr.length && compiled !== lastLoopCompiled);\n    return report.isValid();\n};\nexports.compileSchema = function(report, schema) {\n    report.commonErrorMessage = \"SCHEMA_COMPILATION_FAILED\";\n    // if schema is a string, assume it's a uri\n    if (typeof schema === \"string\") {\n        var loadedSchema = SchemaCache.getSchemaByUri.call(this, report, schema);\n        if (!loadedSchema) {\n            report.addError(\"SCHEMA_NOT_REACHABLE\", [\n                schema\n            ]);\n            return false;\n        }\n        schema = loadedSchema;\n    }\n    // if schema is an array, assume it's an array of schemas\n    if (Array.isArray(schema)) {\n        return compileArrayOfSchemas.call(this, report, schema);\n    }\n    // if we have an id than it should be cached already (if this instance has compiled it)\n    if (schema.__$compiled && schema.id && SchemaCache.checkCacheForUri.call(this, schema.id) === false) {\n        schema.__$compiled = undefined;\n    }\n    // do not re-compile schemas\n    if (schema.__$compiled) {\n        return true;\n    }\n    if (schema.id && typeof schema.id === \"string\") {\n        // add this to our schemaCache (before compilation in case we have references including id)\n        SchemaCache.cacheSchemaByUri.call(this, schema.id, schema);\n    }\n    // this method can be called recursively, so we need to remember our root\n    var isRoot = false;\n    if (!report.rootSchema) {\n        report.rootSchema = schema;\n        isRoot = true;\n    }\n    // delete all __$missingReferences from previous compilation attempts\n    var isValidExceptReferences = report.isValid();\n    delete schema.__$missingReferences;\n    // collect all references that need to be resolved - $ref and $schema\n    var refs = collectReferences.call(this, schema), idx = refs.length;\n    while(idx--){\n        // resolve all the collected references into __xxxResolved pointer\n        var refObj = refs[idx];\n        var response = SchemaCache.getSchemaByUri.call(this, report, refObj.ref, schema);\n        // we can try to use custom schemaReader if available\n        if (!response) {\n            var schemaReader = this.getSchemaReader();\n            if (schemaReader) {\n                // it's supposed to return a valid schema\n                var s = schemaReader(refObj.ref);\n                if (s) {\n                    // it needs to have the id\n                    s.id = refObj.ref;\n                    // try to compile the schema\n                    var subreport = new Report(report);\n                    if (!exports.compileSchema.call(this, subreport, s)) {\n                        // copy errors to report\n                        report.errors = report.errors.concat(subreport.errors);\n                    } else {\n                        response = SchemaCache.getSchemaByUri.call(this, report, refObj.ref, schema);\n                    }\n                }\n            }\n        }\n        if (!response) {\n            var hasNotValid = report.hasError(\"REMOTE_NOT_VALID\", [\n                refObj.ref\n            ]);\n            var isAbsolute = Utils.isAbsoluteUri(refObj.ref);\n            var isDownloaded = false;\n            var ignoreUnresolvableRemotes = this.options.ignoreUnresolvableReferences === true;\n            if (isAbsolute) {\n                // we shouldn't add UNRESOLVABLE_REFERENCE for schemas we already have downloaded\n                // and set through setRemoteReference method\n                isDownloaded = SchemaCache.checkCacheForUri.call(this, refObj.ref);\n            }\n            if (hasNotValid) {\n            // already has REMOTE_NOT_VALID error for this one\n            } else if (ignoreUnresolvableRemotes && isAbsolute) {\n            // ignoreUnresolvableRemotes is on and remote isAbsolute\n            } else if (isDownloaded) {\n            // remote is downloaded, so no UNRESOLVABLE_REFERENCE\n            } else {\n                Array.prototype.push.apply(report.path, refObj.path);\n                report.addError(\"UNRESOLVABLE_REFERENCE\", [\n                    refObj.ref\n                ]);\n                report.path = report.path.slice(0, -refObj.path.length);\n                // pusblish unresolved references out\n                if (isValidExceptReferences) {\n                    schema.__$missingReferences = schema.__$missingReferences || [];\n                    schema.__$missingReferences.push(refObj);\n                }\n            }\n        }\n        // this might create circular references\n        refObj.obj[\"__\" + refObj.key + \"Resolved\"] = response;\n    }\n    var isValid = report.isValid();\n    if (isValid) {\n        schema.__$compiled = true;\n    } else {\n        if (schema.id && typeof schema.id === \"string\") {\n            // remove this schema from schemaCache because it failed to compile\n            SchemaCache.removeFromCacheByUri.call(this, schema.id);\n        }\n    }\n    // we don't need the root pointer anymore\n    if (isRoot) {\n        report.rootSchema = undefined;\n    }\n    return isValid;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvei1zY2hlbWEvc3JjL1NjaGVtYUNvbXBpbGF0aW9uLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBRWIsSUFBSUEsU0FBY0MsbUJBQU9BLENBQUMsNkRBQVU7QUFDcEMsSUFBSUMsY0FBY0QsbUJBQU9BLENBQUMsdUVBQWU7QUFDekMsSUFBSUUsUUFBY0YsbUJBQU9BLENBQUMsMkRBQVM7QUFFbkMsU0FBU0csZUFBZUMsS0FBSyxFQUFFQyxHQUFHO0lBQzlCLElBQUlILE1BQU1JLGFBQWEsQ0FBQ0QsTUFBTTtRQUMxQixPQUFPQTtJQUNYO0lBRUEsSUFBSUUsY0FBY0gsTUFBTUksSUFBSSxDQUFDLEtBQ3pCQyxrQkFBa0JQLE1BQU1JLGFBQWEsQ0FBQ0MsY0FDdENHLGtCQUFrQlIsTUFBTVMsYUFBYSxDQUFDSixjQUN0Q0ssZ0JBQWdCVixNQUFNUyxhQUFhLENBQUNOLE1BQ3BDUTtJQUVKLElBQUlKLG1CQUFtQkcsZUFBZTtRQUNsQ0MsV0FBV04sWUFBWU8sS0FBSyxDQUFDO1FBQzdCLElBQUlELFVBQVU7WUFDVk4sY0FBY0EsWUFBWVEsS0FBSyxDQUFDLEdBQUdGLFNBQVNHLEtBQUssR0FBRztRQUN4RDtJQUNKLE9BQU8sSUFBSU4sbUJBQW1CRSxlQUFlO1FBQ3pDTCxjQUFjO0lBQ2xCLE9BQU87UUFDSE0sV0FBV04sWUFBWU8sS0FBSyxDQUFDO1FBQzdCLElBQUlELFVBQVU7WUFDVk4sY0FBY0EsWUFBWVEsS0FBSyxDQUFDLEdBQUdGLFNBQVNHLEtBQUs7UUFDckQ7SUFDSjtJQUVBLElBQUlDLE1BQU1WLGNBQWNGO0lBQ3hCWSxNQUFNQSxJQUFJQyxPQUFPLENBQUMsTUFBTTtJQUN4QixPQUFPRDtBQUNYO0FBRUEsU0FBU0Usa0JBQWtCQyxHQUFHLEVBQUVDLE9BQU8sRUFBRWpCLEtBQUssRUFBRWtCLElBQUk7SUFDaERELFVBQVVBLFdBQVcsRUFBRTtJQUN2QmpCLFFBQVFBLFNBQVMsRUFBRTtJQUNuQmtCLE9BQU9BLFFBQVEs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TzRCLFVBQVUsR0FBR0g7SUFDeEI7SUFFQSxPQUFPeEI7QUFFWCIsInNvdXJjZXMiOlsid2VicGFjazovL25hbnRlcy1wdWJsaWMtZGF0YS1kYXNoYm9hcmQvLi9ub2RlX21vZHVsZXMvei1zY2hlbWEvc3JjL1NjaGVtYUNvbXBpbGF0aW9uLmpzP2E0NDkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBSZXBvcnQgICAgICA9IHJlcXVpcmUoXCIuL1JlcG9ydFwiKTtcbnZhciBTY2hlbWFDYWNoZSA9IHJlcXVpcmUoXCIuL1NjaGVtYUNhY2hlXCIpO1xudmFyIFV0aWxzICAgICAgID0gcmVxdWlyZShcIi4vVXRpbHNcIik7XG5cbmZ1bmN0aW9uIG1lcmdlUmVmZXJlbmNlKHNjb3BlLCByZWYpIHtcbiAgICBpZiAoVXRpbHMuaXNBYnNvbHV0ZVVyaShyZWYpKSB7XG4gICAgICAgIHJldHVybiByZWY7XG4gICAgfVxuXG4gICAgdmFyIGpvaW5lZFNjb3BlID0gc2NvcGUuam9pbihcIlwiKSxcbiAgICAgICAgaXNTY29wZUFic29sdXRlID0gVXRpbHMuaXNBYnNvbHV0ZVVyaShqb2luZWRTY29wZSksXG4gICAgICAgIGlzU2NvcGVSZWxhdGl2ZSA9IFV0aWxzLmlzUmVsYXRpdmVVcmkoam9pbmVkU2NvcGUpLFxuICAgICAgICBpc1JlZlJlbGF0aXZlID0gVXRpbHMuaXNSZWxhdGl2ZVVyaShyZWYpLFxuICAgICAgICB0b1JlbW92ZTtcblxuICAgIGlmIChpc1Njb3BlQWJzb2x1dGUgJiYgaXNSZWZSZWxhdGl2ZSkge1xuICAgICAgICB0b1JlbW92ZSA9IGpvaW5lZFNjb3BlLm1hdGNoKC9cXC9bXlxcL10qJC8pO1xuICAgICAgICBpZiAodG9SZW1vdmUpIHtcbiAgICAgICAgICAgIGpvaW5lZFNjb3BlID0gam9pbmVkU2NvcGUuc2xpY2UoMCwgdG9SZW1vdmUuaW5kZXggKyAxKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNTY29wZVJlbGF0aXZlICYmIGlzUmVmUmVsYXRpdmUpIHtcbiAgICAgICAgam9pbmVkU2NvcGUgPSBcIlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRvUmVtb3ZlID0gam9pbmVkU2NvcGUubWF0Y2goL1teIy9dKyQvKTtcbiAgICAgICAgaWYgKHRvUmVtb3ZlKSB7XG4gICAgICAgICAgICBqb2luZWRTY29wZSA9IGpvaW5lZFNjb3BlLnNsaWNlKDAsIHRvUmVtb3ZlLmluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciByZXMgPSBqb2luZWRTY29wZSArIHJlZjtcbiAgICByZXMgPSByZXMucmVwbGFjZSgvIyMvLCBcIiNcIik7XG4gICAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gY29sbGVjdFJlZmVyZW5jZXMob2JqLCByZXN1bHRzLCBzY29wZSwgcGF0aCkge1xuICAgIHJlc3VsdHMgPSByZXN1bHRzIHx8IFtdO1xuICAgIHNjb3BlID0gc2NvcGUgfHwgW107XG4gICAgcGF0aCA9IHBhdGggfHwgW107XG5cbiAgICBpZiAodHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIiB8fCBvYmogPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvYmouaWQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgc2NvcGUucHVzaChvYmouaWQpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb2JqLiRyZWYgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIG9iai5fXyRyZWZSZXNvbHZlZCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgcmVmOiBtZXJnZVJlZmVyZW5jZShzY29wZSwgb2JqLiRyZWYpLFxuICAgICAgICAgICAga2V5OiBcIiRyZWZcIixcbiAgICAgICAgICAgIG9iajogb2JqLFxuICAgICAgICAgICAgcGF0aDogcGF0aC5zbGljZSgwKVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYmouJHNjaGVtYSA9PT0gXCJzdHJpbmdcIiAmJiB0eXBlb2Ygb2JqLl9fJHNjaGVtYVJlc29sdmVkID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICByZWY6IG1lcmdlUmVmZXJlbmNlKHNjb3BlLCBvYmouJHNjaGVtYSksXG4gICAgICAgICAgICBrZXk6IFwiJHNjaGVtYVwiLFxuICAgICAgICAgICAgb2JqOiBvYmosXG4gICAgICAgICAgICBwYXRoOiBwYXRoLnNsaWNlKDApXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBpZHg7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICBpZHggPSBvYmoubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaWR4LS0pIHtcbiAgICAgICAgICAgIHBhdGgucHVzaChpZHgudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBjb2xsZWN0UmVmZXJlbmNlcyhvYmpbaWR4XSwgcmVzdWx0cywgc2NvcGUsIHBhdGgpO1xuICAgICAgICAgICAgcGF0aC5wb3AoKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICAgICAgaWR4ID0ga2V5cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChpZHgtLSkge1xuICAgICAgICAgICAgLy8gZG8gbm90IHJlY3Vyc2UgdGhyb3VnaCByZXNvbHZlZCByZWZlcmVuY2VzIGFuZCBvdGhlciB6LXNjaGVtYSBwcm9wc1xuICAgICAgICAgICAgaWYgKGtleXNbaWR4XS5pbmRleE9mKFwiX18kXCIpID09PSAwKSB7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICBwYXRoLnB1c2goa2V5c1tpZHhdKTtcbiAgICAgICAgICAgIGNvbGxlY3RSZWZlcmVuY2VzKG9ialtrZXlzW2lkeF1dLCByZXN1bHRzLCBzY29wZSwgcGF0aCk7XG4gICAgICAgICAgICBwYXRoLnBvcCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvYmouaWQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgc2NvcGUucG9wKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdHM7XG59XG5cbnZhciBjb21waWxlQXJyYXlPZlNjaGVtYXNMb29wID0gZnVuY3Rpb24gKG1haW5SZXBvcnQsIGFycikge1xuICAgIHZhciBpZHggPSBhcnIubGVuZ3RoLFxuICAgICAgICBjb21waWxlZENvdW50ID0gMDtcblxuICAgIHdoaWxlIChpZHgtLSkge1xuXG4gICAgICAgIC8vIHRyeSB0byBjb21waWxlIGVhY2ggc2NoZW1hIHNlcGFyYXRlbHlcbiAgICAgICAgdmFyIHJlcG9ydCA9IG5ldyBSZXBvcnQobWFpblJlcG9ydCk7XG4gICAgICAgIHZhciBpc1ZhbGlkID0gZXhwb3J0cy5jb21waWxlU2NoZW1hLmNhbGwodGhpcywgcmVwb3J0LCBhcnJbaWR4XSk7XG4gICAgICAgIGlmIChpc1ZhbGlkKSB7IGNvbXBpbGVkQ291bnQrKzsgfVxuXG4gICAgICAgIC8vIGNvcHkgZXJyb3JzIHRvIHJlcG9ydFxuICAgICAgICBtYWluUmVwb3J0LmVycm9ycyA9IG1haW5SZXBvcnQuZXJyb3JzLmNvbmNhdChyZXBvcnQuZXJyb3JzKTtcblxuICAgIH1cblxuICAgIHJldHVybiBjb21waWxlZENvdW50O1xufTtcblxuZnVuY3Rpb24gZmluZElkKGFyciwgaWQpIHtcbiAgICB2YXIgaWR4ID0gYXJyLmxlbmd0aDtcbiAgICB3aGlsZSAoaWR4LS0pIHtcbiAgICAgICAgaWYgKGFycltpZHhdLmlkID09PSBpZCkge1xuICAgICAgICAgICAgcmV0dXJuIGFycltpZHhdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuXG52YXIgY29tcGlsZUFycmF5T2ZTY2hlbWFzID0gZnVuY3Rpb24gKHJlcG9ydCwgYXJyKSB7XG5cbiAgICB2YXIgY29tcGlsZWQgPSAwLFxuICAgICAgICBsYXN0TG9vcENvbXBpbGVkO1xuXG4gICAgZG8ge1xuXG4gICAgICAgIC8vIHJlbW92ZSBhbGwgVU5SRVNPTFZBQkxFX1JFRkVSRU5DRSBlcnJvcnMgYmVmb3JlIGNvbXBpbGluZyBhcnJheSBhZ2FpblxuICAgICAgICB2YXIgaWR4ID0gcmVwb3J0LmVycm9ycy5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChpZHgtLSkge1xuICAgICAgICAgICAgaWYgKHJlcG9ydC5lcnJvcnNbaWR4XS5jb2RlID09PSBcIlVOUkVTT0xWQUJMRV9SRUZFUkVOQ0VcIikge1xuICAgICAgICAgICAgICAgIHJlcG9ydC5lcnJvcnMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW1lbWJlciBob3cgbWFueSB3ZXJlIGNvbXBpbGVkIGluIHRoZSBsYXN0IGxvb3BcbiAgICAgICAgbGFzdExvb3BDb21waWxlZCA9IGNvbXBpbGVkO1xuXG4gICAgICAgIC8vIGNvdW50IGhvdyBtYW55IGFyZSBjb21waWxlZCBub3dcbiAgICAgICAgY29tcGlsZWQgPSBjb21waWxlQXJyYXlPZlNjaGVtYXNMb29wLmNhbGwodGhpcywgcmVwb3J0LCBhcnIpO1xuXG4gICAgICAgIC8vIGZpeCBfXyRtaXNzaW5nUmVmZXJlbmNlcyBpZiBwb3NzaWJsZVxuICAgICAgICBpZHggPSBhcnIubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaWR4LS0pIHtcbiAgICAgICAgICAgIHZhciBzY2ggPSBhcnJbaWR4XTtcbiAgICAgICAgICAgIGlmIChzY2guX18kbWlzc2luZ1JlZmVyZW5jZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgaWR4MiA9IHNjaC5fXyRtaXNzaW5nUmVmZXJlbmNlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGlkeDItLSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVmT2JqID0gc2NoLl9fJG1pc3NpbmdSZWZlcmVuY2VzW2lkeDJdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBmaW5kSWQoYXJyLCByZWZPYmoucmVmKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIG1pZ2h0IGNyZWF0ZSBjaXJjdWxhciByZWZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICAgICAgICByZWZPYmoub2JqW1wiX19cIiArIHJlZk9iai5rZXkgKyBcIlJlc29sdmVkXCJdID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIHJlc29sdmVkIG5vdyBzbyBkZWxldGUgaXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjaC5fXyRtaXNzaW5nUmVmZXJlbmNlcy5zcGxpY2UoaWR4MiwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNjaC5fXyRtaXNzaW5nUmVmZXJlbmNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNjaC5fXyRtaXNzaW5nUmVmZXJlbmNlcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBrZWVwIHJlcGVhdGluZyBpZiBub3QgYWxsIGNvbXBpbGVkIGFuZCBhdCBsZWFzdCBvbmUgbW9yZSB3YXMgY29tcGlsZWQgaW4gdGhlIGxhc3QgbG9vcFxuICAgIH0gd2hpbGUgKGNvbXBpbGVkICE9PSBhcnIubGVuZ3RoICYmIGNvbXBpbGVkICE9PSBsYXN0TG9vcENvbXBpbGVkKTtcblxuICAgIHJldHVybiByZXBvcnQuaXNWYWxpZCgpO1xuXG59O1xuXG5leHBvcnRzLmNvbXBpbGVTY2hlbWEgPSBmdW5jdGlvbiAocmVwb3J0LCBzY2hlbWEpIHtcblxuICAgIHJlcG9ydC5jb21tb25FcnJvck1lc3NhZ2UgPSBcIlNDSEVNQV9DT01QSUxBVElPTl9GQUlMRURcIjtcblxuICAgIC8vIGlmIHNjaGVtYSBpcyBhIHN0cmluZywgYXNzdW1lIGl0J3MgYSB1cmlcbiAgICBpZiAodHlwZW9mIHNjaGVtYSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICB2YXIgbG9hZGVkU2NoZW1hID0gU2NoZW1hQ2FjaGUuZ2V0U2NoZW1hQnlVcmkuY2FsbCh0aGlzLCByZXBvcnQsIHNjaGVtYSk7XG4gICAgICAgIGlmICghbG9hZGVkU2NoZW1hKSB7XG4gICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJTQ0hFTUFfTk9UX1JFQUNIQUJMRVwiLCBbc2NoZW1hXSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgc2NoZW1hID0gbG9hZGVkU2NoZW1hO1xuICAgIH1cblxuICAgIC8vIGlmIHNjaGVtYSBpcyBhbiBhcnJheSwgYXNzdW1lIGl0J3MgYW4gYXJyYXkgb2Ygc2NoZW1hc1xuICAgIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYSkpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBpbGVBcnJheU9mU2NoZW1hcy5jYWxsKHRoaXMsIHJlcG9ydCwgc2NoZW1hKTtcbiAgICB9XG5cbiAgICAvLyBpZiB3ZSBoYXZlIGFuIGlkIHRoYW4gaXQgc2hvdWxkIGJlIGNhY2hlZCBhbHJlYWR5IChpZiB0aGlzIGluc3RhbmNlIGhhcyBjb21waWxlZCBpdClcbiAgICBpZiAoc2NoZW1hLl9fJGNvbXBpbGVkICYmIHNjaGVtYS5pZCAmJiBTY2hlbWFDYWNoZS5jaGVja0NhY2hlRm9yVXJpLmNhbGwodGhpcywgc2NoZW1hLmlkKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgc2NoZW1hLl9fJGNvbXBpbGVkID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8vIGRvIG5vdCByZS1jb21waWxlIHNjaGVtYXNcbiAgICBpZiAoc2NoZW1hLl9fJGNvbXBpbGVkKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmIChzY2hlbWEuaWQgJiYgdHlwZW9mIHNjaGVtYS5pZCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAvLyBhZGQgdGhpcyB0byBvdXIgc2NoZW1hQ2FjaGUgKGJlZm9yZSBjb21waWxhdGlvbiBpbiBjYXNlIHdlIGhhdmUgcmVmZXJlbmNlcyBpbmNsdWRpbmcgaWQpXG4gICAgICAgIFNjaGVtYUNhY2hlLmNhY2hlU2NoZW1hQnlVcmkuY2FsbCh0aGlzLCBzY2hlbWEuaWQsIHNjaGVtYSk7XG4gICAgfVxuXG4gICAgLy8gdGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCByZWN1cnNpdmVseSwgc28gd2UgbmVlZCB0byByZW1lbWJlciBvdXIgcm9vdFxuICAgIHZhciBpc1Jvb3QgPSBmYWxzZTtcbiAgICBpZiAoIXJlcG9ydC5yb290U2NoZW1hKSB7XG4gICAgICAgIHJlcG9ydC5yb290U2NoZW1hID0gc2NoZW1hO1xuICAgICAgICBpc1Jvb3QgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIGRlbGV0ZSBhbGwgX18kbWlzc2luZ1JlZmVyZW5jZXMgZnJvbSBwcmV2aW91cyBjb21waWxhdGlvbiBhdHRlbXB0c1xuICAgIHZhciBpc1ZhbGlkRXhjZXB0UmVmZXJlbmNlcyA9IHJlcG9ydC5pc1ZhbGlkKCk7XG4gICAgZGVsZXRlIHNjaGVtYS5fXyRtaXNzaW5nUmVmZXJlbmNlcztcblxuICAgIC8vIGNvbGxlY3QgYWxsIHJlZmVyZW5jZXMgdGhhdCBuZWVkIHRvIGJlIHJlc29sdmVkIC0gJHJlZiBhbmQgJHNjaGVtYVxuICAgIHZhciByZWZzID0gY29sbGVjdFJlZmVyZW5jZXMuY2FsbCh0aGlzLCBzY2hlbWEpLFxuICAgICAgICBpZHggPSByZWZzLmxlbmd0aDtcbiAgICB3aGlsZSAoaWR4LS0pIHtcbiAgICAgICAgLy8gcmVzb2x2ZSBhbGwgdGhlIGNvbGxlY3RlZCByZWZlcmVuY2VzIGludG8gX194eHhSZXNvbHZlZCBwb2ludGVyXG4gICAgICAgIHZhciByZWZPYmogPSByZWZzW2lkeF07XG4gICAgICAgIHZhciByZXNwb25zZSA9IFNjaGVtYUNhY2hlLmdldFNjaGVtYUJ5VXJpLmNhbGwodGhpcywgcmVwb3J0LCByZWZPYmoucmVmLCBzY2hlbWEpO1xuXG4gICAgICAgIC8vIHdlIGNhbiB0cnkgdG8gdXNlIGN1c3RvbSBzY2hlbWFSZWFkZXIgaWYgYXZhaWxhYmxlXG4gICAgICAgIGlmICghcmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHZhciBzY2hlbWFSZWFkZXIgPSB0aGlzLmdldFNjaGVtYVJlYWRlcigpO1xuICAgICAgICAgICAgaWYgKHNjaGVtYVJlYWRlcikge1xuICAgICAgICAgICAgICAgIC8vIGl0J3Mgc3VwcG9zZWQgdG8gcmV0dXJuIGEgdmFsaWQgc2NoZW1hXG4gICAgICAgICAgICAgICAgdmFyIHMgPSBzY2hlbWFSZWFkZXIocmVmT2JqLnJlZik7XG4gICAgICAgICAgICAgICAgaWYgKHMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaXQgbmVlZHMgdG8gaGF2ZSB0aGUgaWRcbiAgICAgICAgICAgICAgICAgICAgcy5pZCA9IHJlZk9iai5yZWY7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRyeSB0byBjb21waWxlIHRoZSBzY2hlbWFcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN1YnJlcG9ydCA9IG5ldyBSZXBvcnQocmVwb3J0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFleHBvcnRzLmNvbXBpbGVTY2hlbWEuY2FsbCh0aGlzLCBzdWJyZXBvcnQsIHMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb3B5IGVycm9ycyB0byByZXBvcnRcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcG9ydC5lcnJvcnMgPSByZXBvcnQuZXJyb3JzLmNvbmNhdChzdWJyZXBvcnQuZXJyb3JzKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gU2NoZW1hQ2FjaGUuZ2V0U2NoZW1hQnlVcmkuY2FsbCh0aGlzLCByZXBvcnQsIHJlZk9iai5yZWYsIHNjaGVtYSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXJlc3BvbnNlKSB7XG5cbiAgICAgICAgICAgIHZhciBoYXNOb3RWYWxpZCA9IHJlcG9ydC5oYXNFcnJvcihcIlJFTU9URV9OT1RfVkFMSURcIiwgW3JlZk9iai5yZWZdKTtcbiAgICAgICAgICAgIHZhciBpc0Fic29sdXRlID0gVXRpbHMuaXNBYnNvbHV0ZVVyaShyZWZPYmoucmVmKTtcbiAgICAgICAgICAgIHZhciBpc0Rvd25sb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBpZ25vcmVVbnJlc29sdmFibGVSZW1vdGVzID0gdGhpcy5vcHRpb25zLmlnbm9yZVVucmVzb2x2YWJsZVJlZmVyZW5jZXMgPT09IHRydWU7XG5cbiAgICAgICAgICAgIGlmIChpc0Fic29sdXRlKSB7XG4gICAgICAgICAgICAgICAgLy8gd2Ugc2hvdWxkbid0IGFkZCBVTlJFU09MVkFCTEVfUkVGRVJFTkNFIGZvciBzY2hlbWFzIHdlIGFscmVhZHkgaGF2ZSBkb3dubG9hZGVkXG4gICAgICAgICAgICAgICAgLy8gYW5kIHNldCB0aHJvdWdoIHNldFJlbW90ZVJlZmVyZW5jZSBtZXRob2RcbiAgICAgICAgICAgICAgICBpc0Rvd25sb2FkZWQgPSBTY2hlbWFDYWNoZS5jaGVja0NhY2hlRm9yVXJpLmNhbGwodGhpcywgcmVmT2JqLnJlZik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChoYXNOb3RWYWxpZCkge1xuICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgaGFzIFJFTU9URV9OT1RfVkFMSUQgZXJyb3IgZm9yIHRoaXMgb25lXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlnbm9yZVVucmVzb2x2YWJsZVJlbW90ZXMgJiYgaXNBYnNvbHV0ZSkge1xuICAgICAgICAgICAgICAgIC8vIGlnbm9yZVVucmVzb2x2YWJsZVJlbW90ZXMgaXMgb24gYW5kIHJlbW90ZSBpc0Fic29sdXRlXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzRG93bmxvYWRlZCkge1xuICAgICAgICAgICAgICAgIC8vIHJlbW90ZSBpcyBkb3dubG9hZGVkLCBzbyBubyBVTlJFU09MVkFCTEVfUkVGRVJFTkNFXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHJlcG9ydC5wYXRoLCByZWZPYmoucGF0aCk7XG4gICAgICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiVU5SRVNPTFZBQkxFX1JFRkVSRU5DRVwiLCBbcmVmT2JqLnJlZl0pO1xuICAgICAgICAgICAgICAgIHJlcG9ydC5wYXRoID0gcmVwb3J0LnBhdGguc2xpY2UoMCwgLXJlZk9iai5wYXRoLmxlbmd0aCk7XG5cbiAgICAgICAgICAgICAgICAvLyBwdXNibGlzaCB1bnJlc29sdmVkIHJlZmVyZW5jZXMgb3V0XG4gICAgICAgICAgICAgICAgaWYgKGlzVmFsaWRFeGNlcHRSZWZlcmVuY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYS5fXyRtaXNzaW5nUmVmZXJlbmNlcyA9IHNjaGVtYS5fXyRtaXNzaW5nUmVmZXJlbmNlcyB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hLl9fJG1pc3NpbmdSZWZlcmVuY2VzLnB1c2gocmVmT2JqKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhpcyBtaWdodCBjcmVhdGUgY2lyY3VsYXIgcmVmZXJlbmNlc1xuICAgICAgICByZWZPYmoub2JqW1wiX19cIiArIHJlZk9iai5rZXkgKyBcIlJlc29sdmVkXCJdID0gcmVzcG9uc2U7XG4gICAgfVxuXG4gICAgdmFyIGlzVmFsaWQgPSByZXBvcnQuaXNWYWxpZCgpO1xuICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICAgIHNjaGVtYS5fXyRjb21waWxlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHNjaGVtYS5pZCAmJiB0eXBlb2Ygc2NoZW1hLmlkID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgdGhpcyBzY2hlbWEgZnJvbSBzY2hlbWFDYWNoZSBiZWNhdXNlIGl0IGZhaWxlZCB0byBjb21waWxlXG4gICAgICAgICAgICBTY2hlbWFDYWNoZS5yZW1vdmVGcm9tQ2FjaGVCeVVyaS5jYWxsKHRoaXMsIHNjaGVtYS5pZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB3ZSBkb24ndCBuZWVkIHRoZSByb290IHBvaW50ZXIgYW55bW9yZVxuICAgIGlmIChpc1Jvb3QpIHtcbiAgICAgICAgcmVwb3J0LnJvb3RTY2hlbWEgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGlzVmFsaWQ7XG5cbn07XG4iXSwibmFtZXMiOlsiUmVwb3J0IiwicmVxdWlyZSIsIlNjaGVtYUNhY2hlIiwiVXRpbHMiLCJtZXJnZVJlZmVyZW5jZSIsInNjb3BlIiwicmVmIiwiaXNBYnNvbHV0ZVVyaSIsImpvaW5lZFNjb3BlIiwiam9pbiIsImlzU2NvcGVBYnNvbHV0ZSIsImlzU2NvcGVSZWxhdGl2ZSIsImlzUmVsYXRpdmVVcmkiLCJpc1JlZlJlbGF0aXZlIiwidG9SZW1vdmUiLCJtYXRjaCIsInNsaWNlIiwiaW5kZXgiLCJyZXMiLCJyZXBsYWNlIiwiY29sbGVjdFJlZmVyZW5jZXMiLCJvYmoiLCJyZXN1bHRzIiwicGF0aCIsImlkIiwicHVzaCIsIiRyZWYiLCJfXyRyZWZSZXNvbHZlZCIsImtleSIsIiRzY2hlbWEiLCJfXyRzY2hlbWFSZXNvbHZlZCIsImlkeCIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsInRvU3RyaW5nIiwicG9wIiwia2V5cyIsIk9iamVjdCIsImluZGV4T2YiLCJjb21waWxlQXJyYXlPZlNjaGVtYXNMb29wIiwibWFpblJlcG9ydCIsImFyciIsImNvbXBpbGVkQ291bnQiLCJyZXBvcnQiLCJpc1ZhbGlkIiwiZXhwb3J0cyIsImNvbXBpbGVTY2hlbWEiLCJjYWxsIiwiZXJyb3JzIiwiY29uY2F0IiwiZmluZElkIiwiY29tcGlsZUFycmF5T2ZTY2hlbWFzIiwiY29tcGlsZWQiLCJsYXN0TG9vcENvbXBpbGVkIiwiY29kZSIsInNwbGljZSIsInNjaCIsIl9fJG1pc3NpbmdSZWZlcmVuY2VzIiwiaWR4MiIsInJlZk9iaiIsInJlc3BvbnNlIiwic2NoZW1hIiwiY29tbW9uRXJyb3JNZXNzYWdlIiwibG9hZGVkU2NoZW1hIiwiZ2V0U2NoZW1hQnlVcmkiLCJhZGRFcnJvciIsIl9fJGNvbXBpbGVkIiwiY2hlY2tDYWNoZUZvclVyaSIsInVuZGVmaW5lZCIsImNhY2hlU2NoZW1hQnlVcmkiLCJpc1Jvb3QiLCJyb290U2NoZW1hIiwiaXNWYWxpZEV4Y2VwdFJlZmVyZW5jZXMiLCJyZWZzIiwic2NoZW1hUmVhZGVyIiwiZ2V0U2NoZW1hUmVhZGVyIiwicyIsInN1YnJlcG9ydCIsImhhc05vdFZhbGlkIiwiaGFzRXJyb3IiLCJpc0Fic29sdXRlIiwiaXNEb3dubG9hZGVkIiwiaWdub3JlVW5yZXNvbHZhYmxlUmVtb3RlcyIsIm9wdGlvbnMiLCJpZ25vcmVVbnJlc29sdmFibGVSZWZlcmVuY2VzIiwicHJvdG90eXBlIiwiYXBwbHkiLCJyZW1vdmVGcm9tQ2FjaGVCeVVyaSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/z-schema/src/SchemaCompilation.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/z-schema/src/SchemaValidation.js":
/*!*******************************************************!*\
  !*** ./node_modules/z-schema/src/SchemaValidation.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nvar FormatValidators = __webpack_require__(/*! ./FormatValidators */ \"(rsc)/./node_modules/z-schema/src/FormatValidators.js\"), JsonValidation = __webpack_require__(/*! ./JsonValidation */ \"(rsc)/./node_modules/z-schema/src/JsonValidation.js\"), Report = __webpack_require__(/*! ./Report */ \"(rsc)/./node_modules/z-schema/src/Report.js\"), Utils = __webpack_require__(/*! ./Utils */ \"(rsc)/./node_modules/z-schema/src/Utils.js\");\nvar SchemaValidators = {\n    $ref: function(report, schema) {\n        // http://tools.ietf.org/html/draft-ietf-appsawg-json-pointer-07\n        // http://tools.ietf.org/html/draft-pbryan-zyp-json-ref-03\n        if (typeof schema.$ref !== \"string\") {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"$ref\",\n                \"string\"\n            ]);\n        }\n    },\n    $schema: function(report, schema) {\n        // http://json-schema.org/latest/json-schema-core.html#rfc.section.6\n        if (typeof schema.$schema !== \"string\") {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"$schema\",\n                \"string\"\n            ]);\n        }\n    },\n    multipleOf: function(report, schema) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.1.1.1\n        if (typeof schema.multipleOf !== \"number\") {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"multipleOf\",\n                \"number\"\n            ]);\n        } else if (schema.multipleOf <= 0) {\n            report.addError(\"KEYWORD_MUST_BE\", [\n                \"multipleOf\",\n                \"strictly greater than 0\"\n            ]);\n        }\n    },\n    maximum: function(report, schema) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.1.2.1\n        if (typeof schema.maximum !== \"number\") {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"maximum\",\n                \"number\"\n            ]);\n        }\n    },\n    exclusiveMaximum: function(report, schema) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.1.2.1\n        if (typeof schema.exclusiveMaximum !== \"boolean\") {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"exclusiveMaximum\",\n                \"boolean\"\n            ]);\n        } else if (schema.maximum === undefined) {\n            report.addError(\"KEYWORD_DEPENDENCY\", [\n                \"exclusiveMaximum\",\n                \"maximum\"\n            ]);\n        }\n    },\n    minimum: function(report, schema) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.1.3.1\n        if (typeof schema.minimum !== \"number\") {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"minimum\",\n                \"number\"\n            ]);\n        }\n    },\n    exclusiveMinimum: function(report, schema) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.1.3.1\n        if (typeof schema.exclusiveMinimum !== \"boolean\") {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"exclusiveMinimum\",\n                \"boolean\"\n            ]);\n        } else if (schema.minimum === undefined) {\n            report.addError(\"KEYWORD_DEPENDENCY\", [\n                \"exclusiveMinimum\",\n                \"minimum\"\n            ]);\n        }\n    },\n    maxLength: function(report, schema) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.2.1.1\n        if (Utils.whatIs(schema.maxLength) !== \"integer\") {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"maxLength\",\n                \"integer\"\n            ]);\n        } else if (schema.maxLength < 0) {\n            report.addError(\"KEYWORD_MUST_BE\", [\n                \"maxLength\",\n                \"greater than, or equal to 0\"\n            ]);\n        }\n    },\n    minLength: function(report, schema) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.2.2.1\n        if (Utils.whatIs(schema.minLength) !== \"integer\") {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"minLength\",\n                \"integer\"\n            ]);\n        } else if (schema.minLength < 0) {\n            report.addError(\"KEYWORD_MUST_BE\", [\n                \"minLength\",\n                \"greater than, or equal to 0\"\n            ]);\n        }\n    },\n    pattern: function(report, schema) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.2.3.1\n        if (typeof schema.pattern !== \"string\") {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"pattern\",\n                \"string\"\n            ]);\n        } else {\n            try {\n                RegExp(schema.pattern);\n            } catch (e) {\n                report.addError(\"KEYWORD_PATTERN\", [\n                    \"pattern\",\n                    schema.pattern\n                ]);\n            }\n        }\n    },\n    additionalItems: function(report, schema) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.3.1.1\n        var type = Utils.whatIs(schema.additionalItems);\n        if (type !== \"boolean\" && type !== \"object\") {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"additionalItems\",\n                [\n                    \"boolean\",\n                    \"object\"\n                ]\n            ]);\n        } else if (type === \"object\") {\n            report.path.push(\"additionalItems\");\n            exports.validateSchema.call(this, report, schema.additionalItems);\n            report.path.pop();\n        }\n    },\n    items: function(report, schema) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.3.1.1\n        var type = Utils.whatIs(schema.items);\n        if (type === \"object\") {\n            report.path.push(\"items\");\n            exports.validateSchema.call(this, report, schema.items);\n            report.path.pop();\n        } else if (type === \"array\") {\n            var idx = schema.items.length;\n            while(idx--){\n                report.path.push(\"items\");\n                report.path.push(idx.toString());\n                exports.validateSchema.call(this, report, schema.items[idx]);\n                report.path.pop();\n                report.path.pop();\n            }\n        } else {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"items\",\n                [\n                    \"array\",\n                    \"object\"\n                ]\n            ]);\n        }\n        // custom - strict mode\n        if (this.options.forceAdditional === true && schema.additionalItems === undefined && Array.isArray(schema.items)) {\n            report.addError(\"KEYWORD_UNDEFINED_STRICT\", [\n                \"additionalItems\"\n            ]);\n        }\n        // custome - assume defined false mode\n        if (this.options.assumeAdditional && schema.additionalItems === undefined && Array.isArray(schema.items)) {\n            schema.additionalItems = false;\n        }\n    },\n    maxItems: function(report, schema) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.3.2.1\n        if (typeof schema.maxItems !== \"number\") {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"maxItems\",\n                \"integer\"\n            ]);\n        } else if (schema.maxItems < 0) {\n            report.addError(\"KEYWORD_MUST_BE\", [\n                \"maxItems\",\n                \"greater than, or equal to 0\"\n            ]);\n        }\n    },\n    minItems: function(report, schema) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.3.3.1\n        if (Utils.whatIs(schema.minItems) !== \"integer\") {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"minItems\",\n                \"integer\"\n            ]);\n        } else if (schema.minItems < 0) {\n            report.addError(\"KEYWORD_MUST_BE\", [\n                \"minItems\",\n                \"greater than, or equal to 0\"\n            ]);\n        }\n    },\n    uniqueItems: function(report, schema) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.3.4.1\n        if (typeof schema.uniqueItems !== \"boolean\") {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"uniqueItems\",\n                \"boolean\"\n            ]);\n        }\n    },\n    maxProperties: function(report, schema) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.4.1.1\n        if (Utils.whatIs(schema.maxProperties) !== \"integer\") {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"maxProperties\",\n                \"integer\"\n            ]);\n        } else if (schema.maxProperties < 0) {\n            report.addError(\"KEYWORD_MUST_BE\", [\n                \"maxProperties\",\n                \"greater than, or equal to 0\"\n            ]);\n        }\n    },\n    minProperties: function(report, schema) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.4.2.1\n        if (Utils.whatIs(schema.minProperties) !== \"integer\") {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"minProperties\",\n                \"integer\"\n            ]);\n        } else if (schema.minProperties < 0) {\n            report.addError(\"KEYWORD_MUST_BE\", [\n                \"minProperties\",\n                \"greater than, or equal to 0\"\n            ]);\n        }\n    },\n    required: function(report, schema) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.4.3.1\n        if (Utils.whatIs(schema.required) !== \"array\") {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"required\",\n                \"array\"\n            ]);\n        } else if (schema.required.length === 0) {\n            report.addError(\"KEYWORD_MUST_BE\", [\n                \"required\",\n                \"an array with at least one element\"\n            ]);\n        } else {\n            var idx = schema.required.length;\n            while(idx--){\n                if (typeof schema.required[idx] !== \"string\") {\n                    report.addError(\"KEYWORD_VALUE_TYPE\", [\n                        \"required\",\n                        \"string\"\n                    ]);\n                }\n            }\n            if (Utils.isUniqueArray(schema.required) === false) {\n                report.addError(\"KEYWORD_MUST_BE\", [\n                    \"required\",\n                    \"an array with unique items\"\n                ]);\n            }\n        }\n    },\n    additionalProperties: function(report, schema) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.4.4.1\n        var type = Utils.whatIs(schema.additionalProperties);\n        if (type !== \"boolean\" && type !== \"object\") {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"additionalProperties\",\n                [\n                    \"boolean\",\n                    \"object\"\n                ]\n            ]);\n        } else if (type === \"object\") {\n            report.path.push(\"additionalProperties\");\n            exports.validateSchema.call(this, report, schema.additionalProperties);\n            report.path.pop();\n        }\n    },\n    properties: function(report, schema) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.4.4.1\n        if (Utils.whatIs(schema.properties) !== \"object\") {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"properties\",\n                \"object\"\n            ]);\n            return;\n        }\n        var keys = Object.keys(schema.properties), idx = keys.length;\n        while(idx--){\n            var key = keys[idx], val = schema.properties[key];\n            report.path.push(\"properties\");\n            report.path.push(key);\n            exports.validateSchema.call(this, report, val);\n            report.path.pop();\n            report.path.pop();\n        }\n        // custom - strict mode\n        if (this.options.forceAdditional === true && schema.additionalProperties === undefined) {\n            report.addError(\"KEYWORD_UNDEFINED_STRICT\", [\n                \"additionalProperties\"\n            ]);\n        }\n        // custome - assume defined false mode\n        if (this.options.assumeAdditional && schema.additionalProperties === undefined) {\n            schema.additionalProperties = false;\n        }\n        // custom - forceProperties\n        if (this.options.forceProperties === true && keys.length === 0) {\n            report.addError(\"CUSTOM_MODE_FORCE_PROPERTIES\", [\n                \"properties\"\n            ]);\n        }\n    },\n    patternProperties: function(report, schema) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.4.4.1\n        if (Utils.whatIs(schema.patternProperties) !== \"object\") {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"patternProperties\",\n                \"object\"\n            ]);\n            return;\n        }\n        var keys = Object.keys(schema.patternProperties), idx = keys.length;\n        while(idx--){\n            var key = keys[idx], val = schema.patternProperties[key];\n            try {\n                RegExp(key);\n            } catch (e) {\n                report.addError(\"KEYWORD_PATTERN\", [\n                    \"patternProperties\",\n                    key\n                ]);\n            }\n            report.path.push(\"patternProperties\");\n            report.path.push(key.toString());\n            exports.validateSchema.call(this, report, val);\n            report.path.pop();\n            report.path.pop();\n        }\n        // custom - forceProperties\n        if (this.options.forceProperties === true && keys.length === 0) {\n            report.addError(\"CUSTOM_MODE_FORCE_PROPERTIES\", [\n                \"patternProperties\"\n            ]);\n        }\n    },\n    dependencies: function(report, schema) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.4.5.1\n        if (Utils.whatIs(schema.dependencies) !== \"object\") {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"dependencies\",\n                \"object\"\n            ]);\n        } else {\n            var keys = Object.keys(schema.dependencies), idx = keys.length;\n            while(idx--){\n                var schemaKey = keys[idx], schemaDependency = schema.dependencies[schemaKey], type = Utils.whatIs(schemaDependency);\n                if (type === \"object\") {\n                    report.path.push(\"dependencies\");\n                    report.path.push(schemaKey);\n                    exports.validateSchema.call(this, report, schemaDependency);\n                    report.path.pop();\n                    report.path.pop();\n                } else if (type === \"array\") {\n                    var idx2 = schemaDependency.length;\n                    if (idx2 === 0) {\n                        report.addError(\"KEYWORD_MUST_BE\", [\n                            \"dependencies\",\n                            \"not empty array\"\n                        ]);\n                    }\n                    while(idx2--){\n                        if (typeof schemaDependency[idx2] !== \"string\") {\n                            report.addError(\"KEYWORD_VALUE_TYPE\", [\n                                \"dependensices\",\n                                \"string\"\n                            ]);\n                        }\n                    }\n                    if (Utils.isUniqueArray(schemaDependency) === false) {\n                        report.addError(\"KEYWORD_MUST_BE\", [\n                            \"dependencies\",\n                            \"an array with unique items\"\n                        ]);\n                    }\n                } else {\n                    report.addError(\"KEYWORD_VALUE_TYPE\", [\n                        \"dependencies\",\n                        \"object or array\"\n                    ]);\n                }\n            }\n        }\n    },\n    enum: function(report, schema) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.5.1.1\n        if (Array.isArray(schema.enum) === false) {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"enum\",\n                \"array\"\n            ]);\n        } else if (schema.enum.length === 0) {\n            report.addError(\"KEYWORD_MUST_BE\", [\n                \"enum\",\n                \"an array with at least one element\"\n            ]);\n        } else if (Utils.isUniqueArray(schema.enum) === false) {\n            report.addError(\"KEYWORD_MUST_BE\", [\n                \"enum\",\n                \"an array with unique elements\"\n            ]);\n        }\n    },\n    type: function(report, schema) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.5.2.1\n        var primitiveTypes = [\n            \"array\",\n            \"boolean\",\n            \"integer\",\n            \"number\",\n            \"null\",\n            \"object\",\n            \"string\"\n        ], primitiveTypeStr = primitiveTypes.join(\",\"), isArray = Array.isArray(schema.type);\n        if (isArray) {\n            var idx = schema.type.length;\n            while(idx--){\n                if (primitiveTypes.indexOf(schema.type[idx]) === -1) {\n                    report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                        \"type\",\n                        primitiveTypeStr\n                    ]);\n                }\n            }\n            if (Utils.isUniqueArray(schema.type) === false) {\n                report.addError(\"KEYWORD_MUST_BE\", [\n                    \"type\",\n                    \"an object with unique properties\"\n                ]);\n            }\n        } else if (typeof schema.type === \"string\") {\n            if (primitiveTypes.indexOf(schema.type) === -1) {\n                report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                    \"type\",\n                    primitiveTypeStr\n                ]);\n            }\n        } else {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"type\",\n                [\n                    \"string\",\n                    \"array\"\n                ]\n            ]);\n        }\n        if (this.options.noEmptyStrings === true) {\n            if (schema.type === \"string\" || isArray && schema.type.indexOf(\"string\") !== -1) {\n                if (schema.minLength === undefined && schema.enum === undefined && schema.format === undefined) {\n                    schema.minLength = 1;\n                }\n            }\n        }\n        if (this.options.noEmptyArrays === true) {\n            if (schema.type === \"array\" || isArray && schema.type.indexOf(\"array\") !== -1) {\n                if (schema.minItems === undefined) {\n                    schema.minItems = 1;\n                }\n            }\n        }\n        if (this.options.forceProperties === true) {\n            if (schema.type === \"object\" || isArray && schema.type.indexOf(\"object\") !== -1) {\n                if (schema.properties === undefined && schema.patternProperties === undefined) {\n                    report.addError(\"KEYWORD_UNDEFINED_STRICT\", [\n                        \"properties\"\n                    ]);\n                }\n            }\n        }\n        if (this.options.forceItems === true) {\n            if (schema.type === \"array\" || isArray && schema.type.indexOf(\"array\") !== -1) {\n                if (schema.items === undefined) {\n                    report.addError(\"KEYWORD_UNDEFINED_STRICT\", [\n                        \"items\"\n                    ]);\n                }\n            }\n        }\n        if (this.options.forceMinItems === true) {\n            if (schema.type === \"array\" || isArray && schema.type.indexOf(\"array\") !== -1) {\n                if (schema.minItems === undefined) {\n                    report.addError(\"KEYWORD_UNDEFINED_STRICT\", [\n                        \"minItems\"\n                    ]);\n                }\n            }\n        }\n        if (this.options.forceMaxItems === true) {\n            if (schema.type === \"array\" || isArray && schema.type.indexOf(\"array\") !== -1) {\n                if (schema.maxItems === undefined) {\n                    report.addError(\"KEYWORD_UNDEFINED_STRICT\", [\n                        \"maxItems\"\n                    ]);\n                }\n            }\n        }\n        if (this.options.forceMinLength === true) {\n            if (schema.type === \"string\" || isArray && schema.type.indexOf(\"string\") !== -1) {\n                if (schema.minLength === undefined && schema.format === undefined && schema.enum === undefined && schema.pattern === undefined) {\n                    report.addError(\"KEYWORD_UNDEFINED_STRICT\", [\n                        \"minLength\"\n                    ]);\n                }\n            }\n        }\n        if (this.options.forceMaxLength === true) {\n            if (schema.type === \"string\" || isArray && schema.type.indexOf(\"string\") !== -1) {\n                if (schema.maxLength === undefined && schema.format === undefined && schema.enum === undefined && schema.pattern === undefined) {\n                    report.addError(\"KEYWORD_UNDEFINED_STRICT\", [\n                        \"maxLength\"\n                    ]);\n                }\n            }\n        }\n    },\n    allOf: function(report, schema) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.5.3.1\n        if (Array.isArray(schema.allOf) === false) {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"allOf\",\n                \"array\"\n            ]);\n        } else if (schema.allOf.length === 0) {\n            report.addError(\"KEYWORD_MUST_BE\", [\n                \"allOf\",\n                \"an array with at least one element\"\n            ]);\n        } else {\n            var idx = schema.allOf.length;\n            while(idx--){\n                report.path.push(\"allOf\");\n                report.path.push(idx.toString());\n                exports.validateSchema.call(this, report, schema.allOf[idx]);\n                report.path.pop();\n                report.path.pop();\n            }\n        }\n    },\n    anyOf: function(report, schema) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.5.4.1\n        if (Array.isArray(schema.anyOf) === false) {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"anyOf\",\n                \"array\"\n            ]);\n        } else if (schema.anyOf.length === 0) {\n            report.addError(\"KEYWORD_MUST_BE\", [\n                \"anyOf\",\n                \"an array with at least one element\"\n            ]);\n        } else {\n            var idx = schema.anyOf.length;\n            while(idx--){\n                report.path.push(\"anyOf\");\n                report.path.push(idx.toString());\n                exports.validateSchema.call(this, report, schema.anyOf[idx]);\n                report.path.pop();\n                report.path.pop();\n            }\n        }\n    },\n    oneOf: function(report, schema) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.5.5.1\n        if (Array.isArray(schema.oneOf) === false) {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"oneOf\",\n                \"array\"\n            ]);\n        } else if (schema.oneOf.length === 0) {\n            report.addError(\"KEYWORD_MUST_BE\", [\n                \"oneOf\",\n                \"an array with at least one element\"\n            ]);\n        } else {\n            var idx = schema.oneOf.length;\n            while(idx--){\n                report.path.push(\"oneOf\");\n                report.path.push(idx.toString());\n                exports.validateSchema.call(this, report, schema.oneOf[idx]);\n                report.path.pop();\n                report.path.pop();\n            }\n        }\n    },\n    not: function(report, schema) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.5.6.1\n        if (Utils.whatIs(schema.not) !== \"object\") {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"not\",\n                \"object\"\n            ]);\n        } else {\n            report.path.push(\"not\");\n            exports.validateSchema.call(this, report, schema.not);\n            report.path.pop();\n        }\n    },\n    definitions: function(report, schema) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.5.7.1\n        if (Utils.whatIs(schema.definitions) !== \"object\") {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"definitions\",\n                \"object\"\n            ]);\n        } else {\n            var keys = Object.keys(schema.definitions), idx = keys.length;\n            while(idx--){\n                var key = keys[idx], val = schema.definitions[key];\n                report.path.push(\"definitions\");\n                report.path.push(key);\n                exports.validateSchema.call(this, report, val);\n                report.path.pop();\n                report.path.pop();\n            }\n        }\n    },\n    format: function(report, schema) {\n        if (typeof schema.format !== \"string\") {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"format\",\n                \"string\"\n            ]);\n        } else {\n            if (FormatValidators[schema.format] === undefined && this.options.ignoreUnknownFormats !== true) {\n                report.addError(\"UNKNOWN_FORMAT\", [\n                    schema.format\n                ]);\n            }\n        }\n    },\n    id: function(report, schema) {\n        // http://json-schema.org/latest/json-schema-core.html#rfc.section.7.2\n        if (typeof schema.id !== \"string\") {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"id\",\n                \"string\"\n            ]);\n        }\n    },\n    title: function(report, schema) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.6.1\n        if (typeof schema.title !== \"string\") {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"title\",\n                \"string\"\n            ]);\n        }\n    },\n    description: function(report, schema) {\n        // http://json-schema.org/latest/json-schema-validation.html#rfc.section.6.1\n        if (typeof schema.description !== \"string\") {\n            report.addError(\"KEYWORD_TYPE_EXPECTED\", [\n                \"description\",\n                \"string\"\n            ]);\n        }\n    },\n    \"default\": function() {\n    // http://json-schema.org/latest/json-schema-validation.html#rfc.section.6.2\n    // There are no restrictions placed on the value of this keyword.\n    }\n};\n/**\n *\n * @param {Report} report\n * @param {*[]} arr\n *\n * @returns {boolean}\n */ var validateArrayOfSchemas = function(report, arr) {\n    var idx = arr.length;\n    while(idx--){\n        exports.validateSchema.call(this, report, arr[idx]);\n    }\n    return report.isValid();\n};\n/**\n *\n * @param {Report} report\n * @param {*} schema\n */ exports.validateSchema = function(report, schema) {\n    report.commonErrorMessage = \"SCHEMA_VALIDATION_FAILED\";\n    // if schema is an array, assume it's an array of schemas\n    if (Array.isArray(schema)) {\n        return validateArrayOfSchemas.call(this, report, schema);\n    }\n    // do not revalidate schema that has already been validated once\n    if (schema.__$validated) {\n        return true;\n    }\n    // if $schema is present, this schema should validate against that $schema\n    var hasParentSchema = schema.$schema && schema.id !== schema.$schema;\n    if (hasParentSchema) {\n        if (schema.__$schemaResolved && schema.__$schemaResolved !== schema) {\n            var subReport = new Report(report);\n            var valid = JsonValidation.validate.call(this, subReport, schema.__$schemaResolved, schema);\n            if (valid === false) {\n                report.addError(\"PARENT_SCHEMA_VALIDATION_FAILED\", null, subReport);\n            }\n        } else {\n            if (this.options.ignoreUnresolvableReferences !== true) {\n                report.addError(\"REF_UNRESOLVED\", [\n                    schema.$schema\n                ]);\n            }\n        }\n    }\n    if (this.options.noTypeless === true) {\n        // issue #36 - inherit type to anyOf, oneOf, allOf if noTypeless is defined\n        if (schema.type !== undefined) {\n            var schemas = [];\n            if (Array.isArray(schema.anyOf)) {\n                schemas = schemas.concat(schema.anyOf);\n            }\n            if (Array.isArray(schema.oneOf)) {\n                schemas = schemas.concat(schema.oneOf);\n            }\n            if (Array.isArray(schema.allOf)) {\n                schemas = schemas.concat(schema.allOf);\n            }\n            schemas.forEach(function(sch) {\n                if (!sch.type) {\n                    sch.type = schema.type;\n                }\n            });\n        }\n        // end issue #36\n        if (schema.enum === undefined && schema.type === undefined && schema.anyOf === undefined && schema.oneOf === undefined && schema.not === undefined && schema.$ref === undefined) {\n            report.addError(\"KEYWORD_UNDEFINED_STRICT\", [\n                \"type\"\n            ]);\n        }\n    }\n    var keys = Object.keys(schema), idx = keys.length;\n    while(idx--){\n        var key = keys[idx];\n        if (key.indexOf(\"__\") === 0) {\n            continue;\n        }\n        if (SchemaValidators[key] !== undefined) {\n            SchemaValidators[key].call(this, report, schema);\n        } else if (!hasParentSchema) {\n            if (this.options.noExtraKeywords === true) {\n                report.addError(\"KEYWORD_UNEXPECTED\", [\n                    key\n                ]);\n            }\n        }\n    }\n    if (this.options.pedanticCheck === true) {\n        if (schema.enum) {\n            // break recursion\n            var tmpSchema = Utils.clone(schema);\n            delete tmpSchema.enum;\n            delete tmpSchema.default;\n            report.path.push(\"enum\");\n            idx = schema.enum.length;\n            while(idx--){\n                report.path.push(idx.toString());\n                JsonValidation.validate.call(this, report, tmpSchema, schema.enum[idx]);\n                report.path.pop();\n            }\n            report.path.pop();\n        }\n        if (schema.default) {\n            report.path.push(\"default\");\n            JsonValidation.validate.call(this, report, schema, schema.default);\n            report.path.pop();\n        }\n    }\n    var isValid = report.isValid();\n    if (isValid) {\n        schema.__$validated = true;\n    }\n    return isValid;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvei1zY2hlbWEvc3JjL1NjaGVtYVZhbGlkYXRpb24uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFFYixJQUFJQSxtQkFBbUJDLG1CQUFPQSxDQUFDLGlGQUFvQixHQUMvQ0MsaUJBQW1CRCxtQkFBT0EsQ0FBQyw2RUFBa0IsR0FDN0NFLFNBQW1CRixtQkFBT0EsQ0FBQyw2REFBVSxHQUNyQ0csUUFBbUJILG1CQUFPQSxDQUFDLDJEQUFTO0FBRXhDLElBQUlJLG1CQUFtQjtJQUNuQkMsTUFBTSxTQUFVQyxNQUFNLEVBQUVDLE1BQU07UUFDMUIsZ0VBQWdFO1FBQ2hFLDBEQUEwRDtRQUMxRCxJQUFJLE9BQU9BLE9BQU9GLElBQUksS0FBSyxVQUFVO1lBQ2pDQyxPQUFPRSxRQUFRLENBQUMseUJBQXlCO2dCQUFDO2dCQUFRO2FBQVM7UUFDL0Q7SUFDSjtJQUNBQyxTQUFTLFNBQVVILE1BQU0sRUFBRUMsTUFBTTtRQUM3QixvRUFBb0U7UUFDcEUsSUFBSSxPQUFPQSxPQUFPRSxPQUFPLEtBQUssVUFBVTtZQUNwQ0gsT0FBT0UsUUFBUSxDQUFDLHlCQUF5QjtnQkFBQztnQkFBVzthQUFTO1FBQ2xFO0lBQ0o7SUFDQUUsWUFBWSxTQUFVSixNQUFNLEVBQUVDLE1BQU07UUFDaEMsZ0ZBQWdGO1FBQ2hGLElBQUksT0FBT0EsT0FBT0csVUFBVSxLQUFLLFVBQVU7WUFDdkNKLE9BQU9FLFFBQVEsQ0FBQyx5QkFBeUI7Z0JBQUM7Z0JBQWM7YUFBUztRQUNyRSxPQUFPLElBQUlELE9BQU9HLFVBQVUsSUFBSSxHQUFHO1lBQy9CSixPQUFPRSxRQUFRLENBQUMsbUJBQW1CO2dCQUFDO2dCQUFjO2FBQTBCO1FBQ2hGO0lBQ0o7SUFDQUcsU0FBUyxTQUFVTCxNQUFNLEVBQUVDLE1BQU07UUFDN0IsZ0ZBQWdGO1FBQ2hGLElBQUksT0FBT0EsT0FBT0ksT0FBTyxLQUFLLFVBQVU7WUFDcENMLE9BQU9FLFFBQVEsQ0FBQyx5QkFBeUI7Z0JBQUM7Z0JBQVc7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QU8yRixVQUFVeEMsSUFBSTtZQUNyQixPQUFPd0MsVUFBVUUsT0FBTztZQUV4QjlGLE9BQU9rQixJQUFJLENBQUNDLElBQUksQ0FBQztZQUNqQk0sTUFBTXhCLE9BQU9tRCxJQUFJLENBQUMxQixNQUFNO1lBQ3hCLE1BQU9ELE1BQU87Z0JBQ1Z6QixPQUFPa0IsSUFBSSxDQUFDQyxJQUFJLENBQUNNLElBQUlFLFFBQVE7Z0JBQzdCaEMsZUFBZXdGLFFBQVEsQ0FBQzdELElBQUksQ0FBQyxJQUFJLEVBQUV0QixRQUFRNEYsV0FBVzNGLE9BQU9tRCxJQUFJLENBQUMzQixJQUFJO2dCQUN0RXpCLE9BQU9rQixJQUFJLENBQUNLLEdBQUc7WUFDbkI7WUFDQXZCLE9BQU9rQixJQUFJLENBQUNLLEdBQUc7UUFDbkI7UUFFQSxJQUFJdEIsT0FBTzZGLE9BQU8sRUFBRTtZQUNoQjlGLE9BQU9rQixJQUFJLENBQUNDLElBQUksQ0FBQztZQUNqQnhCLGVBQWV3RixRQUFRLENBQUM3RCxJQUFJLENBQUMsSUFBSSxFQUFFdEIsUUFBUUMsUUFBUUEsT0FBTzZGLE9BQU87WUFDakU5RixPQUFPa0IsSUFBSSxDQUFDSyxHQUFHO1FBQ25CO0lBQ0o7SUFFQSxJQUFJcUQsVUFBVTVFLE9BQU80RSxPQUFPO0lBQzVCLElBQUlBLFNBQVM7UUFDVDNFLE9BQU82RSxZQUFZLEdBQUc7SUFDMUI7SUFDQSxPQUFPRjtBQUNYIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmFudGVzLXB1YmxpYy1kYXRhLWRhc2hib2FyZC8uL25vZGVfbW9kdWxlcy96LXNjaGVtYS9zcmMvU2NoZW1hVmFsaWRhdGlvbi5qcz8xMDE1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgRm9ybWF0VmFsaWRhdG9ycyA9IHJlcXVpcmUoXCIuL0Zvcm1hdFZhbGlkYXRvcnNcIiksXG4gICAgSnNvblZhbGlkYXRpb24gICA9IHJlcXVpcmUoXCIuL0pzb25WYWxpZGF0aW9uXCIpLFxuICAgIFJlcG9ydCAgICAgICAgICAgPSByZXF1aXJlKFwiLi9SZXBvcnRcIiksXG4gICAgVXRpbHMgICAgICAgICAgICA9IHJlcXVpcmUoXCIuL1V0aWxzXCIpO1xuXG52YXIgU2NoZW1hVmFsaWRhdG9ycyA9IHtcbiAgICAkcmVmOiBmdW5jdGlvbiAocmVwb3J0LCBzY2hlbWEpIHtcbiAgICAgICAgLy8gaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvZHJhZnQtaWV0Zi1hcHBzYXdnLWpzb24tcG9pbnRlci0wN1xuICAgICAgICAvLyBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9kcmFmdC1wYnJ5YW4tenlwLWpzb24tcmVmLTAzXG4gICAgICAgIGlmICh0eXBlb2Ygc2NoZW1hLiRyZWYgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIktFWVdPUkRfVFlQRV9FWFBFQ1RFRFwiLCBbXCIkcmVmXCIsIFwic3RyaW5nXCJdKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgJHNjaGVtYTogZnVuY3Rpb24gKHJlcG9ydCwgc2NoZW1hKSB7XG4gICAgICAgIC8vIGh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvbGF0ZXN0L2pzb24tc2NoZW1hLWNvcmUuaHRtbCNyZmMuc2VjdGlvbi42XG4gICAgICAgIGlmICh0eXBlb2Ygc2NoZW1hLiRzY2hlbWEgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIktFWVdPUkRfVFlQRV9FWFBFQ1RFRFwiLCBbXCIkc2NoZW1hXCIsIFwic3RyaW5nXCJdKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbXVsdGlwbGVPZjogZnVuY3Rpb24gKHJlcG9ydCwgc2NoZW1hKSB7XG4gICAgICAgIC8vIGh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvbGF0ZXN0L2pzb24tc2NoZW1hLXZhbGlkYXRpb24uaHRtbCNyZmMuc2VjdGlvbi41LjEuMS4xXG4gICAgICAgIGlmICh0eXBlb2Ygc2NoZW1hLm11bHRpcGxlT2YgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIktFWVdPUkRfVFlQRV9FWFBFQ1RFRFwiLCBbXCJtdWx0aXBsZU9mXCIsIFwibnVtYmVyXCJdKTtcbiAgICAgICAgfSBlbHNlIGlmIChzY2hlbWEubXVsdGlwbGVPZiA8PSAwKSB7XG4gICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJLRVlXT1JEX01VU1RfQkVcIiwgW1wibXVsdGlwbGVPZlwiLCBcInN0cmljdGx5IGdyZWF0ZXIgdGhhbiAwXCJdKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbWF4aW11bTogZnVuY3Rpb24gKHJlcG9ydCwgc2NoZW1hKSB7XG4gICAgICAgIC8vIGh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvbGF0ZXN0L2pzb24tc2NoZW1hLXZhbGlkYXRpb24uaHRtbCNyZmMuc2VjdGlvbi41LjEuMi4xXG4gICAgICAgIGlmICh0eXBlb2Ygc2NoZW1hLm1heGltdW0gIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIktFWVdPUkRfVFlQRV9FWFBFQ1RFRFwiLCBbXCJtYXhpbXVtXCIsIFwibnVtYmVyXCJdKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZXhjbHVzaXZlTWF4aW11bTogZnVuY3Rpb24gKHJlcG9ydCwgc2NoZW1hKSB7XG4gICAgICAgIC8vIGh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvbGF0ZXN0L2pzb24tc2NoZW1hLXZhbGlkYXRpb24uaHRtbCNyZmMuc2VjdGlvbi41LjEuMi4xXG4gICAgICAgIGlmICh0eXBlb2Ygc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW0gIT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJLRVlXT1JEX1RZUEVfRVhQRUNURURcIiwgW1wiZXhjbHVzaXZlTWF4aW11bVwiLCBcImJvb2xlYW5cIl0pO1xuICAgICAgICB9IGVsc2UgaWYgKHNjaGVtYS5tYXhpbXVtID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIktFWVdPUkRfREVQRU5ERU5DWVwiLCBbXCJleGNsdXNpdmVNYXhpbXVtXCIsIFwibWF4aW11bVwiXSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIG1pbmltdW06IGZ1bmN0aW9uIChyZXBvcnQsIHNjaGVtYSkge1xuICAgICAgICAvLyBodHRwOi8vanNvbi1zY2hlbWEub3JnL2xhdGVzdC9qc29uLXNjaGVtYS12YWxpZGF0aW9uLmh0bWwjcmZjLnNlY3Rpb24uNS4xLjMuMVxuICAgICAgICBpZiAodHlwZW9mIHNjaGVtYS5taW5pbXVtICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJLRVlXT1JEX1RZUEVfRVhQRUNURURcIiwgW1wibWluaW11bVwiLCBcIm51bWJlclwiXSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGV4Y2x1c2l2ZU1pbmltdW06IGZ1bmN0aW9uIChyZXBvcnQsIHNjaGVtYSkge1xuICAgICAgICAvLyBodHRwOi8vanNvbi1zY2hlbWEub3JnL2xhdGVzdC9qc29uLXNjaGVtYS12YWxpZGF0aW9uLmh0bWwjcmZjLnNlY3Rpb24uNS4xLjMuMVxuICAgICAgICBpZiAodHlwZW9mIHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtICE9PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiS0VZV09SRF9UWVBFX0VYUEVDVEVEXCIsIFtcImV4Y2x1c2l2ZU1pbmltdW1cIiwgXCJib29sZWFuXCJdKTtcbiAgICAgICAgfSBlbHNlIGlmIChzY2hlbWEubWluaW11bSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJLRVlXT1JEX0RFUEVOREVOQ1lcIiwgW1wiZXhjbHVzaXZlTWluaW11bVwiLCBcIm1pbmltdW1cIl0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBtYXhMZW5ndGg6IGZ1bmN0aW9uIChyZXBvcnQsIHNjaGVtYSkge1xuICAgICAgICAvLyBodHRwOi8vanNvbi1zY2hlbWEub3JnL2xhdGVzdC9qc29uLXNjaGVtYS12YWxpZGF0aW9uLmh0bWwjcmZjLnNlY3Rpb24uNS4yLjEuMVxuICAgICAgICBpZiAoVXRpbHMud2hhdElzKHNjaGVtYS5tYXhMZW5ndGgpICE9PSBcImludGVnZXJcIikge1xuICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiS0VZV09SRF9UWVBFX0VYUEVDVEVEXCIsIFtcIm1heExlbmd0aFwiLCBcImludGVnZXJcIl0pO1xuICAgICAgICB9IGVsc2UgaWYgKHNjaGVtYS5tYXhMZW5ndGggPCAwKSB7XG4gICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJLRVlXT1JEX01VU1RfQkVcIiwgW1wibWF4TGVuZ3RoXCIsIFwiZ3JlYXRlciB0aGFuLCBvciBlcXVhbCB0byAwXCJdKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbWluTGVuZ3RoOiBmdW5jdGlvbiAocmVwb3J0LCBzY2hlbWEpIHtcbiAgICAgICAgLy8gaHR0cDovL2pzb24tc2NoZW1hLm9yZy9sYXRlc3QvanNvbi1zY2hlbWEtdmFsaWRhdGlvbi5odG1sI3JmYy5zZWN0aW9uLjUuMi4yLjFcbiAgICAgICAgaWYgKFV0aWxzLndoYXRJcyhzY2hlbWEubWluTGVuZ3RoKSAhPT0gXCJpbnRlZ2VyXCIpIHtcbiAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIktFWVdPUkRfVFlQRV9FWFBFQ1RFRFwiLCBbXCJtaW5MZW5ndGhcIiwgXCJpbnRlZ2VyXCJdKTtcbiAgICAgICAgfSBlbHNlIGlmIChzY2hlbWEubWluTGVuZ3RoIDwgMCkge1xuICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiS0VZV09SRF9NVVNUX0JFXCIsIFtcIm1pbkxlbmd0aFwiLCBcImdyZWF0ZXIgdGhhbiwgb3IgZXF1YWwgdG8gMFwiXSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHBhdHRlcm46IGZ1bmN0aW9uIChyZXBvcnQsIHNjaGVtYSkge1xuICAgICAgICAvLyBodHRwOi8vanNvbi1zY2hlbWEub3JnL2xhdGVzdC9qc29uLXNjaGVtYS12YWxpZGF0aW9uLmh0bWwjcmZjLnNlY3Rpb24uNS4yLjMuMVxuICAgICAgICBpZiAodHlwZW9mIHNjaGVtYS5wYXR0ZXJuICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJLRVlXT1JEX1RZUEVfRVhQRUNURURcIiwgW1wicGF0dGVyblwiLCBcInN0cmluZ1wiXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIFJlZ0V4cChzY2hlbWEucGF0dGVybik7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiS0VZV09SRF9QQVRURVJOXCIsIFtcInBhdHRlcm5cIiwgc2NoZW1hLnBhdHRlcm5dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgYWRkaXRpb25hbEl0ZW1zOiBmdW5jdGlvbiAocmVwb3J0LCBzY2hlbWEpIHtcbiAgICAgICAgLy8gaHR0cDovL2pzb24tc2NoZW1hLm9yZy9sYXRlc3QvanNvbi1zY2hlbWEtdmFsaWRhdGlvbi5odG1sI3JmYy5zZWN0aW9uLjUuMy4xLjFcbiAgICAgICAgdmFyIHR5cGUgPSBVdGlscy53aGF0SXMoc2NoZW1hLmFkZGl0aW9uYWxJdGVtcyk7XG4gICAgICAgIGlmICh0eXBlICE9PSBcImJvb2xlYW5cIiAmJiB0eXBlICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJLRVlXT1JEX1RZUEVfRVhQRUNURURcIiwgW1wiYWRkaXRpb25hbEl0ZW1zXCIsIFtcImJvb2xlYW5cIiwgXCJvYmplY3RcIl1dKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICByZXBvcnQucGF0aC5wdXNoKFwiYWRkaXRpb25hbEl0ZW1zXCIpO1xuICAgICAgICAgICAgZXhwb3J0cy52YWxpZGF0ZVNjaGVtYS5jYWxsKHRoaXMsIHJlcG9ydCwgc2NoZW1hLmFkZGl0aW9uYWxJdGVtcyk7XG4gICAgICAgICAgICByZXBvcnQucGF0aC5wb3AoKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgaXRlbXM6IGZ1bmN0aW9uIChyZXBvcnQsIHNjaGVtYSkge1xuICAgICAgICAvLyBodHRwOi8vanNvbi1zY2hlbWEub3JnL2xhdGVzdC9qc29uLXNjaGVtYS12YWxpZGF0aW9uLmh0bWwjcmZjLnNlY3Rpb24uNS4zLjEuMVxuICAgICAgICB2YXIgdHlwZSA9IFV0aWxzLndoYXRJcyhzY2hlbWEuaXRlbXMpO1xuXG4gICAgICAgIGlmICh0eXBlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICByZXBvcnQucGF0aC5wdXNoKFwiaXRlbXNcIik7XG4gICAgICAgICAgICBleHBvcnRzLnZhbGlkYXRlU2NoZW1hLmNhbGwodGhpcywgcmVwb3J0LCBzY2hlbWEuaXRlbXMpO1xuICAgICAgICAgICAgcmVwb3J0LnBhdGgucG9wKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJhcnJheVwiKSB7XG4gICAgICAgICAgICB2YXIgaWR4ID0gc2NoZW1hLml0ZW1zLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlIChpZHgtLSkge1xuICAgICAgICAgICAgICAgIHJlcG9ydC5wYXRoLnB1c2goXCJpdGVtc1wiKTtcbiAgICAgICAgICAgICAgICByZXBvcnQucGF0aC5wdXNoKGlkeC50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICBleHBvcnRzLnZhbGlkYXRlU2NoZW1hLmNhbGwodGhpcywgcmVwb3J0LCBzY2hlbWEuaXRlbXNbaWR4XSk7XG4gICAgICAgICAgICAgICAgcmVwb3J0LnBhdGgucG9wKCk7XG4gICAgICAgICAgICAgICAgcmVwb3J0LnBhdGgucG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJLRVlXT1JEX1RZUEVfRVhQRUNURURcIiwgW1wiaXRlbXNcIiwgW1wiYXJyYXlcIiwgXCJvYmplY3RcIl1dKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGN1c3RvbSAtIHN0cmljdCBtb2RlXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZm9yY2VBZGRpdGlvbmFsID09PSB0cnVlICYmIHNjaGVtYS5hZGRpdGlvbmFsSXRlbXMgPT09IHVuZGVmaW5lZCAmJiBBcnJheS5pc0FycmF5KHNjaGVtYS5pdGVtcykpIHtcbiAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIktFWVdPUkRfVU5ERUZJTkVEX1NUUklDVFwiLCBbXCJhZGRpdGlvbmFsSXRlbXNcIl0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIGN1c3RvbWUgLSBhc3N1bWUgZGVmaW5lZCBmYWxzZSBtb2RlXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYXNzdW1lQWRkaXRpb25hbCAmJiBzY2hlbWEuYWRkaXRpb25hbEl0ZW1zID09PSB1bmRlZmluZWQgJiYgQXJyYXkuaXNBcnJheShzY2hlbWEuaXRlbXMpKSB7XG4gICAgICAgICAgICBzY2hlbWEuYWRkaXRpb25hbEl0ZW1zID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIG1heEl0ZW1zOiBmdW5jdGlvbiAocmVwb3J0LCBzY2hlbWEpIHtcbiAgICAgICAgLy8gaHR0cDovL2pzb24tc2NoZW1hLm9yZy9sYXRlc3QvanNvbi1zY2hlbWEtdmFsaWRhdGlvbi5odG1sI3JmYy5zZWN0aW9uLjUuMy4yLjFcbiAgICAgICAgaWYgKHR5cGVvZiBzY2hlbWEubWF4SXRlbXMgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIktFWVdPUkRfVFlQRV9FWFBFQ1RFRFwiLCBbXCJtYXhJdGVtc1wiLCBcImludGVnZXJcIl0pO1xuICAgICAgICB9IGVsc2UgaWYgKHNjaGVtYS5tYXhJdGVtcyA8IDApIHtcbiAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIktFWVdPUkRfTVVTVF9CRVwiLCBbXCJtYXhJdGVtc1wiLCBcImdyZWF0ZXIgdGhhbiwgb3IgZXF1YWwgdG8gMFwiXSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIG1pbkl0ZW1zOiBmdW5jdGlvbiAocmVwb3J0LCBzY2hlbWEpIHtcbiAgICAgICAgLy8gaHR0cDovL2pzb24tc2NoZW1hLm9yZy9sYXRlc3QvanNvbi1zY2hlbWEtdmFsaWRhdGlvbi5odG1sI3JmYy5zZWN0aW9uLjUuMy4zLjFcbiAgICAgICAgaWYgKFV0aWxzLndoYXRJcyhzY2hlbWEubWluSXRlbXMpICE9PSBcImludGVnZXJcIikge1xuICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiS0VZV09SRF9UWVBFX0VYUEVDVEVEXCIsIFtcIm1pbkl0ZW1zXCIsIFwiaW50ZWdlclwiXSk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2NoZW1hLm1pbkl0ZW1zIDwgMCkge1xuICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiS0VZV09SRF9NVVNUX0JFXCIsIFtcIm1pbkl0ZW1zXCIsIFwiZ3JlYXRlciB0aGFuLCBvciBlcXVhbCB0byAwXCJdKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdW5pcXVlSXRlbXM6IGZ1bmN0aW9uIChyZXBvcnQsIHNjaGVtYSkge1xuICAgICAgICAvLyBodHRwOi8vanNvbi1zY2hlbWEub3JnL2xhdGVzdC9qc29uLXNjaGVtYS12YWxpZGF0aW9uLmh0bWwjcmZjLnNlY3Rpb24uNS4zLjQuMVxuICAgICAgICBpZiAodHlwZW9mIHNjaGVtYS51bmlxdWVJdGVtcyAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIktFWVdPUkRfVFlQRV9FWFBFQ1RFRFwiLCBbXCJ1bmlxdWVJdGVtc1wiLCBcImJvb2xlYW5cIl0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBtYXhQcm9wZXJ0aWVzOiBmdW5jdGlvbiAocmVwb3J0LCBzY2hlbWEpIHtcbiAgICAgICAgLy8gaHR0cDovL2pzb24tc2NoZW1hLm9yZy9sYXRlc3QvanNvbi1zY2hlbWEtdmFsaWRhdGlvbi5odG1sI3JmYy5zZWN0aW9uLjUuNC4xLjFcbiAgICAgICAgaWYgKFV0aWxzLndoYXRJcyhzY2hlbWEubWF4UHJvcGVydGllcykgIT09IFwiaW50ZWdlclwiKSB7XG4gICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJLRVlXT1JEX1RZUEVfRVhQRUNURURcIiwgW1wibWF4UHJvcGVydGllc1wiLCBcImludGVnZXJcIl0pO1xuICAgICAgICB9IGVsc2UgaWYgKHNjaGVtYS5tYXhQcm9wZXJ0aWVzIDwgMCkge1xuICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiS0VZV09SRF9NVVNUX0JFXCIsIFtcIm1heFByb3BlcnRpZXNcIiwgXCJncmVhdGVyIHRoYW4sIG9yIGVxdWFsIHRvIDBcIl0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBtaW5Qcm9wZXJ0aWVzOiBmdW5jdGlvbiAocmVwb3J0LCBzY2hlbWEpIHtcbiAgICAgICAgLy8gaHR0cDovL2pzb24tc2NoZW1hLm9yZy9sYXRlc3QvanNvbi1zY2hlbWEtdmFsaWRhdGlvbi5odG1sI3JmYy5zZWN0aW9uLjUuNC4yLjFcbiAgICAgICAgaWYgKFV0aWxzLndoYXRJcyhzY2hlbWEubWluUHJvcGVydGllcykgIT09IFwiaW50ZWdlclwiKSB7XG4gICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJLRVlXT1JEX1RZUEVfRVhQRUNURURcIiwgW1wibWluUHJvcGVydGllc1wiLCBcImludGVnZXJcIl0pO1xuICAgICAgICB9IGVsc2UgaWYgKHNjaGVtYS5taW5Qcm9wZXJ0aWVzIDwgMCkge1xuICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiS0VZV09SRF9NVVNUX0JFXCIsIFtcIm1pblByb3BlcnRpZXNcIiwgXCJncmVhdGVyIHRoYW4sIG9yIGVxdWFsIHRvIDBcIl0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZXF1aXJlZDogZnVuY3Rpb24gKHJlcG9ydCwgc2NoZW1hKSB7XG4gICAgICAgIC8vIGh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvbGF0ZXN0L2pzb24tc2NoZW1hLXZhbGlkYXRpb24uaHRtbCNyZmMuc2VjdGlvbi41LjQuMy4xXG4gICAgICAgIGlmIChVdGlscy53aGF0SXMoc2NoZW1hLnJlcXVpcmVkKSAhPT0gXCJhcnJheVwiKSB7XG4gICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJLRVlXT1JEX1RZUEVfRVhQRUNURURcIiwgW1wicmVxdWlyZWRcIiwgXCJhcnJheVwiXSk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2NoZW1hLnJlcXVpcmVkLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiS0VZV09SRF9NVVNUX0JFXCIsIFtcInJlcXVpcmVkXCIsIFwiYW4gYXJyYXkgd2l0aCBhdCBsZWFzdCBvbmUgZWxlbWVudFwiXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgaWR4ID0gc2NoZW1hLnJlcXVpcmVkLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlIChpZHgtLSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2NoZW1hLnJlcXVpcmVkW2lkeF0gIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiS0VZV09SRF9WQUxVRV9UWVBFXCIsIFtcInJlcXVpcmVkXCIsIFwic3RyaW5nXCJdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoVXRpbHMuaXNVbmlxdWVBcnJheShzY2hlbWEucmVxdWlyZWQpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIktFWVdPUkRfTVVTVF9CRVwiLCBbXCJyZXF1aXJlZFwiLCBcImFuIGFycmF5IHdpdGggdW5pcXVlIGl0ZW1zXCJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IGZ1bmN0aW9uIChyZXBvcnQsIHNjaGVtYSkge1xuICAgICAgICAvLyBodHRwOi8vanNvbi1zY2hlbWEub3JnL2xhdGVzdC9qc29uLXNjaGVtYS12YWxpZGF0aW9uLmh0bWwjcmZjLnNlY3Rpb24uNS40LjQuMVxuICAgICAgICB2YXIgdHlwZSA9IFV0aWxzLndoYXRJcyhzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMpO1xuICAgICAgICBpZiAodHlwZSAhPT0gXCJib29sZWFuXCIgJiYgdHlwZSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiS0VZV09SRF9UWVBFX0VYUEVDVEVEXCIsIFtcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCIsIFtcImJvb2xlYW5cIiwgXCJvYmplY3RcIl1dKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICByZXBvcnQucGF0aC5wdXNoKFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIik7XG4gICAgICAgICAgICBleHBvcnRzLnZhbGlkYXRlU2NoZW1hLmNhbGwodGhpcywgcmVwb3J0LCBzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMpO1xuICAgICAgICAgICAgcmVwb3J0LnBhdGgucG9wKCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHByb3BlcnRpZXM6IGZ1bmN0aW9uIChyZXBvcnQsIHNjaGVtYSkge1xuICAgICAgICAvLyBodHRwOi8vanNvbi1zY2hlbWEub3JnL2xhdGVzdC9qc29uLXNjaGVtYS12YWxpZGF0aW9uLmh0bWwjcmZjLnNlY3Rpb24uNS40LjQuMVxuICAgICAgICBpZiAoVXRpbHMud2hhdElzKHNjaGVtYS5wcm9wZXJ0aWVzKSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiS0VZV09SRF9UWVBFX0VYUEVDVEVEXCIsIFtcInByb3BlcnRpZXNcIiwgXCJvYmplY3RcIl0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhzY2hlbWEucHJvcGVydGllcyksXG4gICAgICAgICAgICBpZHggPSBrZXlzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGlkeC0tKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpZHhdLFxuICAgICAgICAgICAgICAgIHZhbCA9IHNjaGVtYS5wcm9wZXJ0aWVzW2tleV07XG4gICAgICAgICAgICByZXBvcnQucGF0aC5wdXNoKFwicHJvcGVydGllc1wiKTtcbiAgICAgICAgICAgIHJlcG9ydC5wYXRoLnB1c2goa2V5KTtcbiAgICAgICAgICAgIGV4cG9ydHMudmFsaWRhdGVTY2hlbWEuY2FsbCh0aGlzLCByZXBvcnQsIHZhbCk7XG4gICAgICAgICAgICByZXBvcnQucGF0aC5wb3AoKTtcbiAgICAgICAgICAgIHJlcG9ydC5wYXRoLnBvcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY3VzdG9tIC0gc3RyaWN0IG1vZGVcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5mb3JjZUFkZGl0aW9uYWwgPT09IHRydWUgJiYgc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIktFWVdPUkRfVU5ERUZJTkVEX1NUUklDVFwiLCBbXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiXSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY3VzdG9tZSAtIGFzc3VtZSBkZWZpbmVkIGZhbHNlIG1vZGVcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hc3N1bWVBZGRpdGlvbmFsICYmIHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjdXN0b20gLSBmb3JjZVByb3BlcnRpZXNcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5mb3JjZVByb3BlcnRpZXMgPT09IHRydWUgJiYga2V5cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIkNVU1RPTV9NT0RFX0ZPUkNFX1BST1BFUlRJRVNcIiwgW1wicHJvcGVydGllc1wiXSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHBhdHRlcm5Qcm9wZXJ0aWVzOiBmdW5jdGlvbiAocmVwb3J0LCBzY2hlbWEpIHtcbiAgICAgICAgLy8gaHR0cDovL2pzb24tc2NoZW1hLm9yZy9sYXRlc3QvanNvbi1zY2hlbWEtdmFsaWRhdGlvbi5odG1sI3JmYy5zZWN0aW9uLjUuNC40LjFcbiAgICAgICAgaWYgKFV0aWxzLndoYXRJcyhzY2hlbWEucGF0dGVyblByb3BlcnRpZXMpICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJLRVlXT1JEX1RZUEVfRVhQRUNURURcIiwgW1wicGF0dGVyblByb3BlcnRpZXNcIiwgXCJvYmplY3RcIl0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhzY2hlbWEucGF0dGVyblByb3BlcnRpZXMpLFxuICAgICAgICAgICAgaWR4ID0ga2V5cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChpZHgtLSkge1xuICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbaWR4XSxcbiAgICAgICAgICAgICAgICB2YWwgPSBzY2hlbWEucGF0dGVyblByb3BlcnRpZXNba2V5XTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgUmVnRXhwKGtleSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiS0VZV09SRF9QQVRURVJOXCIsIFtcInBhdHRlcm5Qcm9wZXJ0aWVzXCIsIGtleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVwb3J0LnBhdGgucHVzaChcInBhdHRlcm5Qcm9wZXJ0aWVzXCIpO1xuICAgICAgICAgICAgcmVwb3J0LnBhdGgucHVzaChrZXkudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBleHBvcnRzLnZhbGlkYXRlU2NoZW1hLmNhbGwodGhpcywgcmVwb3J0LCB2YWwpO1xuICAgICAgICAgICAgcmVwb3J0LnBhdGgucG9wKCk7XG4gICAgICAgICAgICByZXBvcnQucGF0aC5wb3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGN1c3RvbSAtIGZvcmNlUHJvcGVydGllc1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZvcmNlUHJvcGVydGllcyA9PT0gdHJ1ZSAmJiBrZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiQ1VTVE9NX01PREVfRk9SQ0VfUFJPUEVSVElFU1wiLCBbXCJwYXR0ZXJuUHJvcGVydGllc1wiXSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGRlcGVuZGVuY2llczogZnVuY3Rpb24gKHJlcG9ydCwgc2NoZW1hKSB7XG4gICAgICAgIC8vIGh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvbGF0ZXN0L2pzb24tc2NoZW1hLXZhbGlkYXRpb24uaHRtbCNyZmMuc2VjdGlvbi41LjQuNS4xXG4gICAgICAgIGlmIChVdGlscy53aGF0SXMoc2NoZW1hLmRlcGVuZGVuY2llcykgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIktFWVdPUkRfVFlQRV9FWFBFQ1RFRFwiLCBbXCJkZXBlbmRlbmNpZXNcIiwgXCJvYmplY3RcIl0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhzY2hlbWEuZGVwZW5kZW5jaWVzKSxcbiAgICAgICAgICAgICAgICBpZHggPSBrZXlzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlIChpZHgtLSkge1xuICAgICAgICAgICAgICAgIHZhciBzY2hlbWFLZXkgPSBrZXlzW2lkeF0sXG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYURlcGVuZGVuY3kgPSBzY2hlbWEuZGVwZW5kZW5jaWVzW3NjaGVtYUtleV0sXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBVdGlscy53aGF0SXMoc2NoZW1hRGVwZW5kZW5jeSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgICByZXBvcnQucGF0aC5wdXNoKFwiZGVwZW5kZW5jaWVzXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXBvcnQucGF0aC5wdXNoKHNjaGVtYUtleSk7XG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydHMudmFsaWRhdGVTY2hlbWEuY2FsbCh0aGlzLCByZXBvcnQsIHNjaGVtYURlcGVuZGVuY3kpO1xuICAgICAgICAgICAgICAgICAgICByZXBvcnQucGF0aC5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVwb3J0LnBhdGgucG9wKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBcImFycmF5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlkeDIgPSBzY2hlbWFEZXBlbmRlbmN5Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlkeDIgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIktFWVdPUkRfTVVTVF9CRVwiLCBbXCJkZXBlbmRlbmNpZXNcIiwgXCJub3QgZW1wdHkgYXJyYXlcIl0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChpZHgyLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2NoZW1hRGVwZW5kZW5jeVtpZHgyXSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIktFWVdPUkRfVkFMVUVfVFlQRVwiLCBbXCJkZXBlbmRlbnNpY2VzXCIsIFwic3RyaW5nXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoVXRpbHMuaXNVbmlxdWVBcnJheShzY2hlbWFEZXBlbmRlbmN5KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIktFWVdPUkRfTVVTVF9CRVwiLCBbXCJkZXBlbmRlbmNpZXNcIiwgXCJhbiBhcnJheSB3aXRoIHVuaXF1ZSBpdGVtc1wiXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJLRVlXT1JEX1ZBTFVFX1RZUEVcIiwgW1wiZGVwZW5kZW5jaWVzXCIsIFwib2JqZWN0IG9yIGFycmF5XCJdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGVudW06IGZ1bmN0aW9uIChyZXBvcnQsIHNjaGVtYSkge1xuICAgICAgICAvLyBodHRwOi8vanNvbi1zY2hlbWEub3JnL2xhdGVzdC9qc29uLXNjaGVtYS12YWxpZGF0aW9uLmh0bWwjcmZjLnNlY3Rpb24uNS41LjEuMVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEuZW51bSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJLRVlXT1JEX1RZUEVfRVhQRUNURURcIiwgW1wiZW51bVwiLCBcImFycmF5XCJdKTtcbiAgICAgICAgfSBlbHNlIGlmIChzY2hlbWEuZW51bS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIktFWVdPUkRfTVVTVF9CRVwiLCBbXCJlbnVtXCIsIFwiYW4gYXJyYXkgd2l0aCBhdCBsZWFzdCBvbmUgZWxlbWVudFwiXSk7XG4gICAgICAgIH0gZWxzZSBpZiAoVXRpbHMuaXNVbmlxdWVBcnJheShzY2hlbWEuZW51bSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJLRVlXT1JEX01VU1RfQkVcIiwgW1wiZW51bVwiLCBcImFuIGFycmF5IHdpdGggdW5pcXVlIGVsZW1lbnRzXCJdKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdHlwZTogZnVuY3Rpb24gKHJlcG9ydCwgc2NoZW1hKSB7XG4gICAgICAgIC8vIGh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvbGF0ZXN0L2pzb24tc2NoZW1hLXZhbGlkYXRpb24uaHRtbCNyZmMuc2VjdGlvbi41LjUuMi4xXG4gICAgICAgIHZhciBwcmltaXRpdmVUeXBlcyA9IFtcImFycmF5XCIsIFwiYm9vbGVhblwiLCBcImludGVnZXJcIiwgXCJudW1iZXJcIiwgXCJudWxsXCIsIFwib2JqZWN0XCIsIFwic3RyaW5nXCJdLFxuICAgICAgICAgICAgcHJpbWl0aXZlVHlwZVN0ciA9IHByaW1pdGl2ZVR5cGVzLmpvaW4oXCIsXCIpLFxuICAgICAgICAgICAgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkoc2NoZW1hLnR5cGUpO1xuXG4gICAgICAgIGlmIChpc0FycmF5KSB7XG4gICAgICAgICAgICB2YXIgaWR4ID0gc2NoZW1hLnR5cGUubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKGlkeC0tKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByaW1pdGl2ZVR5cGVzLmluZGV4T2Yoc2NoZW1hLnR5cGVbaWR4XSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIktFWVdPUkRfVFlQRV9FWFBFQ1RFRFwiLCBbXCJ0eXBlXCIsIHByaW1pdGl2ZVR5cGVTdHJdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoVXRpbHMuaXNVbmlxdWVBcnJheShzY2hlbWEudHlwZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiS0VZV09SRF9NVVNUX0JFXCIsIFtcInR5cGVcIiwgXCJhbiBvYmplY3Qgd2l0aCB1bmlxdWUgcHJvcGVydGllc1wiXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNjaGVtYS50eXBlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBpZiAocHJpbWl0aXZlVHlwZXMuaW5kZXhPZihzY2hlbWEudHlwZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiS0VZV09SRF9UWVBFX0VYUEVDVEVEXCIsIFtcInR5cGVcIiwgcHJpbWl0aXZlVHlwZVN0cl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiS0VZV09SRF9UWVBFX0VYUEVDVEVEXCIsIFtcInR5cGVcIiwgW1wic3RyaW5nXCIsIFwiYXJyYXlcIl1dKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubm9FbXB0eVN0cmluZ3MgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGlmIChzY2hlbWEudHlwZSA9PT0gXCJzdHJpbmdcIiB8fCBpc0FycmF5ICYmIHNjaGVtYS50eXBlLmluZGV4T2YoXCJzdHJpbmdcIikgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNjaGVtYS5taW5MZW5ndGggPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgICAgICBzY2hlbWEuZW51bSA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYS5mb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYS5taW5MZW5ndGggPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm5vRW1wdHlBcnJheXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGlmIChzY2hlbWEudHlwZSA9PT0gXCJhcnJheVwiIHx8IGlzQXJyYXkgJiYgc2NoZW1hLnR5cGUuaW5kZXhPZihcImFycmF5XCIpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIGlmIChzY2hlbWEubWluSXRlbXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBzY2hlbWEubWluSXRlbXMgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZvcmNlUHJvcGVydGllcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgaWYgKHNjaGVtYS50eXBlID09PSBcIm9iamVjdFwiIHx8IGlzQXJyYXkgJiYgc2NoZW1hLnR5cGUuaW5kZXhPZihcIm9iamVjdFwiKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2NoZW1hLnByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCAmJiBzY2hlbWEucGF0dGVyblByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJLRVlXT1JEX1VOREVGSU5FRF9TVFJJQ1RcIiwgW1wicHJvcGVydGllc1wiXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZm9yY2VJdGVtcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgaWYgKHNjaGVtYS50eXBlID09PSBcImFycmF5XCIgfHwgaXNBcnJheSAmJiBzY2hlbWEudHlwZS5pbmRleE9mKFwiYXJyYXlcIikgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNjaGVtYS5pdGVtcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIktFWVdPUkRfVU5ERUZJTkVEX1NUUklDVFwiLCBbXCJpdGVtc1wiXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZm9yY2VNaW5JdGVtcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgaWYgKHNjaGVtYS50eXBlID09PSBcImFycmF5XCIgfHwgaXNBcnJheSAmJiBzY2hlbWEudHlwZS5pbmRleE9mKFwiYXJyYXlcIikgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNjaGVtYS5taW5JdGVtcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIktFWVdPUkRfVU5ERUZJTkVEX1NUUklDVFwiLCBbXCJtaW5JdGVtc1wiXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZm9yY2VNYXhJdGVtcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgaWYgKHNjaGVtYS50eXBlID09PSBcImFycmF5XCIgfHwgaXNBcnJheSAmJiBzY2hlbWEudHlwZS5pbmRleE9mKFwiYXJyYXlcIikgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNjaGVtYS5tYXhJdGVtcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIktFWVdPUkRfVU5ERUZJTkVEX1NUUklDVFwiLCBbXCJtYXhJdGVtc1wiXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZm9yY2VNaW5MZW5ndGggPT09IHRydWUpIHtcbiAgICAgICAgICAgIGlmIChzY2hlbWEudHlwZSA9PT0gXCJzdHJpbmdcIiB8fCBpc0FycmF5ICYmIHNjaGVtYS50eXBlLmluZGV4T2YoXCJzdHJpbmdcIikgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNjaGVtYS5taW5MZW5ndGggPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgICAgICBzY2hlbWEuZm9ybWF0ID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hLmVudW0gPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgICAgICBzY2hlbWEucGF0dGVybiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIktFWVdPUkRfVU5ERUZJTkVEX1NUUklDVFwiLCBbXCJtaW5MZW5ndGhcIl0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZvcmNlTWF4TGVuZ3RoID09PSB0cnVlKSB7XG4gICAgICAgICAgICBpZiAoc2NoZW1hLnR5cGUgPT09IFwic3RyaW5nXCIgfHwgaXNBcnJheSAmJiBzY2hlbWEudHlwZS5pbmRleE9mKFwic3RyaW5nXCIpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIGlmIChzY2hlbWEubWF4TGVuZ3RoID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hLmZvcm1hdCA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYS5lbnVtID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hLnBhdHRlcm4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJLRVlXT1JEX1VOREVGSU5FRF9TVFJJQ1RcIiwgW1wibWF4TGVuZ3RoXCJdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFsbE9mOiBmdW5jdGlvbiAocmVwb3J0LCBzY2hlbWEpIHtcbiAgICAgICAgLy8gaHR0cDovL2pzb24tc2NoZW1hLm9yZy9sYXRlc3QvanNvbi1zY2hlbWEtdmFsaWRhdGlvbi5odG1sI3JmYy5zZWN0aW9uLjUuNS4zLjFcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hLmFsbE9mKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIktFWVdPUkRfVFlQRV9FWFBFQ1RFRFwiLCBbXCJhbGxPZlwiLCBcImFycmF5XCJdKTtcbiAgICAgICAgfSBlbHNlIGlmIChzY2hlbWEuYWxsT2YubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJLRVlXT1JEX01VU1RfQkVcIiwgW1wiYWxsT2ZcIiwgXCJhbiBhcnJheSB3aXRoIGF0IGxlYXN0IG9uZSBlbGVtZW50XCJdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBpZHggPSBzY2hlbWEuYWxsT2YubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKGlkeC0tKSB7XG4gICAgICAgICAgICAgICAgcmVwb3J0LnBhdGgucHVzaChcImFsbE9mXCIpO1xuICAgICAgICAgICAgICAgIHJlcG9ydC5wYXRoLnB1c2goaWR4LnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIGV4cG9ydHMudmFsaWRhdGVTY2hlbWEuY2FsbCh0aGlzLCByZXBvcnQsIHNjaGVtYS5hbGxPZltpZHhdKTtcbiAgICAgICAgICAgICAgICByZXBvcnQucGF0aC5wb3AoKTtcbiAgICAgICAgICAgICAgICByZXBvcnQucGF0aC5wb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgYW55T2Y6IGZ1bmN0aW9uIChyZXBvcnQsIHNjaGVtYSkge1xuICAgICAgICAvLyBodHRwOi8vanNvbi1zY2hlbWEub3JnL2xhdGVzdC9qc29uLXNjaGVtYS12YWxpZGF0aW9uLmh0bWwjcmZjLnNlY3Rpb24uNS41LjQuMVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEuYW55T2YpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiS0VZV09SRF9UWVBFX0VYUEVDVEVEXCIsIFtcImFueU9mXCIsIFwiYXJyYXlcIl0pO1xuICAgICAgICB9IGVsc2UgaWYgKHNjaGVtYS5hbnlPZi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIktFWVdPUkRfTVVTVF9CRVwiLCBbXCJhbnlPZlwiLCBcImFuIGFycmF5IHdpdGggYXQgbGVhc3Qgb25lIGVsZW1lbnRcIl0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGlkeCA9IHNjaGVtYS5hbnlPZi5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoaWR4LS0pIHtcbiAgICAgICAgICAgICAgICByZXBvcnQucGF0aC5wdXNoKFwiYW55T2ZcIik7XG4gICAgICAgICAgICAgICAgcmVwb3J0LnBhdGgucHVzaChpZHgudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgZXhwb3J0cy52YWxpZGF0ZVNjaGVtYS5jYWxsKHRoaXMsIHJlcG9ydCwgc2NoZW1hLmFueU9mW2lkeF0pO1xuICAgICAgICAgICAgICAgIHJlcG9ydC5wYXRoLnBvcCgpO1xuICAgICAgICAgICAgICAgIHJlcG9ydC5wYXRoLnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBvbmVPZjogZnVuY3Rpb24gKHJlcG9ydCwgc2NoZW1hKSB7XG4gICAgICAgIC8vIGh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvbGF0ZXN0L2pzb24tc2NoZW1hLXZhbGlkYXRpb24uaHRtbCNyZmMuc2VjdGlvbi41LjUuNS4xXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYS5vbmVPZikgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJLRVlXT1JEX1RZUEVfRVhQRUNURURcIiwgW1wib25lT2ZcIiwgXCJhcnJheVwiXSk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2NoZW1hLm9uZU9mLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiS0VZV09SRF9NVVNUX0JFXCIsIFtcIm9uZU9mXCIsIFwiYW4gYXJyYXkgd2l0aCBhdCBsZWFzdCBvbmUgZWxlbWVudFwiXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgaWR4ID0gc2NoZW1hLm9uZU9mLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlIChpZHgtLSkge1xuICAgICAgICAgICAgICAgIHJlcG9ydC5wYXRoLnB1c2goXCJvbmVPZlwiKTtcbiAgICAgICAgICAgICAgICByZXBvcnQucGF0aC5wdXNoKGlkeC50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICBleHBvcnRzLnZhbGlkYXRlU2NoZW1hLmNhbGwodGhpcywgcmVwb3J0LCBzY2hlbWEub25lT2ZbaWR4XSk7XG4gICAgICAgICAgICAgICAgcmVwb3J0LnBhdGgucG9wKCk7XG4gICAgICAgICAgICAgICAgcmVwb3J0LnBhdGgucG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIG5vdDogZnVuY3Rpb24gKHJlcG9ydCwgc2NoZW1hKSB7XG4gICAgICAgIC8vIGh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvbGF0ZXN0L2pzb24tc2NoZW1hLXZhbGlkYXRpb24uaHRtbCNyZmMuc2VjdGlvbi41LjUuNi4xXG4gICAgICAgIGlmIChVdGlscy53aGF0SXMoc2NoZW1hLm5vdCkgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIktFWVdPUkRfVFlQRV9FWFBFQ1RFRFwiLCBbXCJub3RcIiwgXCJvYmplY3RcIl0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVwb3J0LnBhdGgucHVzaChcIm5vdFwiKTtcbiAgICAgICAgICAgIGV4cG9ydHMudmFsaWRhdGVTY2hlbWEuY2FsbCh0aGlzLCByZXBvcnQsIHNjaGVtYS5ub3QpO1xuICAgICAgICAgICAgcmVwb3J0LnBhdGgucG9wKCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGRlZmluaXRpb25zOiBmdW5jdGlvbiAocmVwb3J0LCBzY2hlbWEpIHtcbiAgICAgICAgLy8gaHR0cDovL2pzb24tc2NoZW1hLm9yZy9sYXRlc3QvanNvbi1zY2hlbWEtdmFsaWRhdGlvbi5odG1sI3JmYy5zZWN0aW9uLjUuNS43LjFcbiAgICAgICAgaWYgKFV0aWxzLndoYXRJcyhzY2hlbWEuZGVmaW5pdGlvbnMpICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJLRVlXT1JEX1RZUEVfRVhQRUNURURcIiwgW1wiZGVmaW5pdGlvbnNcIiwgXCJvYmplY3RcIl0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhzY2hlbWEuZGVmaW5pdGlvbnMpLFxuICAgICAgICAgICAgICAgIGlkeCA9IGtleXMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKGlkeC0tKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbaWR4XSxcbiAgICAgICAgICAgICAgICAgICAgdmFsID0gc2NoZW1hLmRlZmluaXRpb25zW2tleV07XG4gICAgICAgICAgICAgICAgcmVwb3J0LnBhdGgucHVzaChcImRlZmluaXRpb25zXCIpO1xuICAgICAgICAgICAgICAgIHJlcG9ydC5wYXRoLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICBleHBvcnRzLnZhbGlkYXRlU2NoZW1hLmNhbGwodGhpcywgcmVwb3J0LCB2YWwpO1xuICAgICAgICAgICAgICAgIHJlcG9ydC5wYXRoLnBvcCgpO1xuICAgICAgICAgICAgICAgIHJlcG9ydC5wYXRoLnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBmb3JtYXQ6IGZ1bmN0aW9uIChyZXBvcnQsIHNjaGVtYSkge1xuICAgICAgICBpZiAodHlwZW9mIHNjaGVtYS5mb3JtYXQgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIktFWVdPUkRfVFlQRV9FWFBFQ1RFRFwiLCBbXCJmb3JtYXRcIiwgXCJzdHJpbmdcIl0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKEZvcm1hdFZhbGlkYXRvcnNbc2NoZW1hLmZvcm1hdF0gPT09IHVuZGVmaW5lZCAmJiB0aGlzLm9wdGlvbnMuaWdub3JlVW5rbm93bkZvcm1hdHMgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJVTktOT1dOX0ZPUk1BVFwiLCBbc2NoZW1hLmZvcm1hdF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBpZDogZnVuY3Rpb24gKHJlcG9ydCwgc2NoZW1hKSB7XG4gICAgICAgIC8vIGh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvbGF0ZXN0L2pzb24tc2NoZW1hLWNvcmUuaHRtbCNyZmMuc2VjdGlvbi43LjJcbiAgICAgICAgaWYgKHR5cGVvZiBzY2hlbWEuaWQgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIktFWVdPUkRfVFlQRV9FWFBFQ1RFRFwiLCBbXCJpZFwiLCBcInN0cmluZ1wiXSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHRpdGxlOiBmdW5jdGlvbiAocmVwb3J0LCBzY2hlbWEpIHtcbiAgICAgICAgLy8gaHR0cDovL2pzb24tc2NoZW1hLm9yZy9sYXRlc3QvanNvbi1zY2hlbWEtdmFsaWRhdGlvbi5odG1sI3JmYy5zZWN0aW9uLjYuMVxuICAgICAgICBpZiAodHlwZW9mIHNjaGVtYS50aXRsZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiS0VZV09SRF9UWVBFX0VYUEVDVEVEXCIsIFtcInRpdGxlXCIsIFwic3RyaW5nXCJdKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZGVzY3JpcHRpb246IGZ1bmN0aW9uIChyZXBvcnQsIHNjaGVtYSkge1xuICAgICAgICAvLyBodHRwOi8vanNvbi1zY2hlbWEub3JnL2xhdGVzdC9qc29uLXNjaGVtYS12YWxpZGF0aW9uLmh0bWwjcmZjLnNlY3Rpb24uNi4xXG4gICAgICAgIGlmICh0eXBlb2Ygc2NoZW1hLmRlc2NyaXB0aW9uICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJLRVlXT1JEX1RZUEVfRVhQRUNURURcIiwgW1wiZGVzY3JpcHRpb25cIiwgXCJzdHJpbmdcIl0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBcImRlZmF1bHRcIjogZnVuY3Rpb24gKC8qIHJlcG9ydCwgc2NoZW1hICovKSB7XG4gICAgICAgIC8vIGh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvbGF0ZXN0L2pzb24tc2NoZW1hLXZhbGlkYXRpb24uaHRtbCNyZmMuc2VjdGlvbi42LjJcbiAgICAgICAgLy8gVGhlcmUgYXJlIG5vIHJlc3RyaWN0aW9ucyBwbGFjZWQgb24gdGhlIHZhbHVlIG9mIHRoaXMga2V5d29yZC5cbiAgICB9XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge1JlcG9ydH0gcmVwb3J0XG4gKiBAcGFyYW0geypbXX0gYXJyXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbnZhciB2YWxpZGF0ZUFycmF5T2ZTY2hlbWFzID0gZnVuY3Rpb24gKHJlcG9ydCwgYXJyKSB7XG4gICAgdmFyIGlkeCA9IGFyci5sZW5ndGg7XG4gICAgd2hpbGUgKGlkeC0tKSB7XG4gICAgICAgIGV4cG9ydHMudmFsaWRhdGVTY2hlbWEuY2FsbCh0aGlzLCByZXBvcnQsIGFycltpZHhdKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcG9ydC5pc1ZhbGlkKCk7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge1JlcG9ydH0gcmVwb3J0XG4gKiBAcGFyYW0geyp9IHNjaGVtYVxuICovXG5leHBvcnRzLnZhbGlkYXRlU2NoZW1hID0gZnVuY3Rpb24gKHJlcG9ydCwgc2NoZW1hKSB7XG5cbiAgICByZXBvcnQuY29tbW9uRXJyb3JNZXNzYWdlID0gXCJTQ0hFTUFfVkFMSURBVElPTl9GQUlMRURcIjtcblxuICAgIC8vIGlmIHNjaGVtYSBpcyBhbiBhcnJheSwgYXNzdW1lIGl0J3MgYW4gYXJyYXkgb2Ygc2NoZW1hc1xuICAgIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlQXJyYXlPZlNjaGVtYXMuY2FsbCh0aGlzLCByZXBvcnQsIHNjaGVtYSk7XG4gICAgfVxuXG4gICAgLy8gZG8gbm90IHJldmFsaWRhdGUgc2NoZW1hIHRoYXQgaGFzIGFscmVhZHkgYmVlbiB2YWxpZGF0ZWQgb25jZVxuICAgIGlmIChzY2hlbWEuX18kdmFsaWRhdGVkKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIGlmICRzY2hlbWEgaXMgcHJlc2VudCwgdGhpcyBzY2hlbWEgc2hvdWxkIHZhbGlkYXRlIGFnYWluc3QgdGhhdCAkc2NoZW1hXG4gICAgdmFyIGhhc1BhcmVudFNjaGVtYSA9IHNjaGVtYS4kc2NoZW1hICYmIHNjaGVtYS5pZCAhPT0gc2NoZW1hLiRzY2hlbWE7XG4gICAgaWYgKGhhc1BhcmVudFNjaGVtYSkge1xuICAgICAgICBpZiAoc2NoZW1hLl9fJHNjaGVtYVJlc29sdmVkICYmIHNjaGVtYS5fXyRzY2hlbWFSZXNvbHZlZCAhPT0gc2NoZW1hKSB7XG4gICAgICAgICAgICB2YXIgc3ViUmVwb3J0ID0gbmV3IFJlcG9ydChyZXBvcnQpO1xuICAgICAgICAgICAgdmFyIHZhbGlkID0gSnNvblZhbGlkYXRpb24udmFsaWRhdGUuY2FsbCh0aGlzLCBzdWJSZXBvcnQsIHNjaGVtYS5fXyRzY2hlbWFSZXNvbHZlZCwgc2NoZW1hKTtcbiAgICAgICAgICAgIGlmICh2YWxpZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJQQVJFTlRfU0NIRU1BX1ZBTElEQVRJT05fRkFJTEVEXCIsIG51bGwsIHN1YlJlcG9ydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmlnbm9yZVVucmVzb2x2YWJsZVJlZmVyZW5jZXMgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXBvcnQuYWRkRXJyb3IoXCJSRUZfVU5SRVNPTFZFRFwiLCBbc2NoZW1hLiRzY2hlbWFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMubm9UeXBlbGVzcyA9PT0gdHJ1ZSkge1xuICAgICAgICAvLyBpc3N1ZSAjMzYgLSBpbmhlcml0IHR5cGUgdG8gYW55T2YsIG9uZU9mLCBhbGxPZiBpZiBub1R5cGVsZXNzIGlzIGRlZmluZWRcbiAgICAgICAgaWYgKHNjaGVtYS50eXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBzY2hlbWFzID0gW107XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEuYW55T2YpKSB7IHNjaGVtYXMgPSBzY2hlbWFzLmNvbmNhdChzY2hlbWEuYW55T2YpOyB9XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEub25lT2YpKSB7IHNjaGVtYXMgPSBzY2hlbWFzLmNvbmNhdChzY2hlbWEub25lT2YpOyB9XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEuYWxsT2YpKSB7IHNjaGVtYXMgPSBzY2hlbWFzLmNvbmNhdChzY2hlbWEuYWxsT2YpOyB9XG4gICAgICAgICAgICBzY2hlbWFzLmZvckVhY2goZnVuY3Rpb24gKHNjaCkge1xuICAgICAgICAgICAgICAgIGlmICghc2NoLnR5cGUpIHsgc2NoLnR5cGUgPSBzY2hlbWEudHlwZTsgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZW5kIGlzc3VlICMzNlxuICAgICAgICBpZiAoc2NoZW1hLmVudW0gPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgc2NoZW1hLnR5cGUgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgc2NoZW1hLmFueU9mID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIHNjaGVtYS5vbmVPZiA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBzY2hlbWEubm90ID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIHNjaGVtYS4kcmVmID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlcG9ydC5hZGRFcnJvcihcIktFWVdPUkRfVU5ERUZJTkVEX1NUUklDVFwiLCBbXCJ0eXBlXCJdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoc2NoZW1hKSxcbiAgICAgICAgaWR4ID0ga2V5cy5sZW5ndGg7XG4gICAgd2hpbGUgKGlkeC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzW2lkeF07XG4gICAgICAgIGlmIChrZXkuaW5kZXhPZihcIl9fXCIpID09PSAwKSB7IGNvbnRpbnVlOyB9XG4gICAgICAgIGlmIChTY2hlbWFWYWxpZGF0b3JzW2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgU2NoZW1hVmFsaWRhdG9yc1trZXldLmNhbGwodGhpcywgcmVwb3J0LCBzY2hlbWEpO1xuICAgICAgICB9IGVsc2UgaWYgKCFoYXNQYXJlbnRTY2hlbWEpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubm9FeHRyYUtleXdvcmRzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmVwb3J0LmFkZEVycm9yKFwiS0VZV09SRF9VTkVYUEVDVEVEXCIsIFtrZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMucGVkYW50aWNDaGVjayA9PT0gdHJ1ZSkge1xuICAgICAgICBpZiAoc2NoZW1hLmVudW0pIHtcbiAgICAgICAgICAgIC8vIGJyZWFrIHJlY3Vyc2lvblxuICAgICAgICAgICAgdmFyIHRtcFNjaGVtYSA9IFV0aWxzLmNsb25lKHNjaGVtYSk7XG4gICAgICAgICAgICBkZWxldGUgdG1wU2NoZW1hLmVudW07XG4gICAgICAgICAgICBkZWxldGUgdG1wU2NoZW1hLmRlZmF1bHQ7XG5cbiAgICAgICAgICAgIHJlcG9ydC5wYXRoLnB1c2goXCJlbnVtXCIpO1xuICAgICAgICAgICAgaWR4ID0gc2NoZW1hLmVudW0ubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKGlkeC0tKSB7XG4gICAgICAgICAgICAgICAgcmVwb3J0LnBhdGgucHVzaChpZHgudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgSnNvblZhbGlkYXRpb24udmFsaWRhdGUuY2FsbCh0aGlzLCByZXBvcnQsIHRtcFNjaGVtYSwgc2NoZW1hLmVudW1baWR4XSk7XG4gICAgICAgICAgICAgICAgcmVwb3J0LnBhdGgucG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXBvcnQucGF0aC5wb3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzY2hlbWEuZGVmYXVsdCkge1xuICAgICAgICAgICAgcmVwb3J0LnBhdGgucHVzaChcImRlZmF1bHRcIik7XG4gICAgICAgICAgICBKc29uVmFsaWRhdGlvbi52YWxpZGF0ZS5jYWxsKHRoaXMsIHJlcG9ydCwgc2NoZW1hLCBzY2hlbWEuZGVmYXVsdCk7XG4gICAgICAgICAgICByZXBvcnQucGF0aC5wb3AoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBpc1ZhbGlkID0gcmVwb3J0LmlzVmFsaWQoKTtcbiAgICBpZiAoaXNWYWxpZCkge1xuICAgICAgICBzY2hlbWEuX18kdmFsaWRhdGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGlzVmFsaWQ7XG59O1xuIl0sIm5hbWVzIjpbIkZvcm1hdFZhbGlkYXRvcnMiLCJyZXF1aXJlIiwiSnNvblZhbGlkYXRpb24iLCJSZXBvcnQiLCJVdGlscyIsIlNjaGVtYVZhbGlkYXRvcnMiLCIkcmVmIiwicmVwb3J0Iiwic2NoZW1hIiwiYWRkRXJyb3IiLCIkc2NoZW1hIiwibXVsdGlwbGVPZiIsIm1heGltdW0iLCJleGNsdXNpdmVNYXhpbXVtIiwidW5kZWZpbmVkIiwibWluaW11bSIsImV4Y2x1c2l2ZU1pbmltdW0iLCJtYXhMZW5ndGgiLCJ3aGF0SXMiLCJtaW5MZW5ndGgiLCJwYXR0ZXJuIiwiUmVnRXhwIiwiZSIsImFkZGl0aW9uYWxJdGVtcyIsInR5cGUiLCJwYXRoIiwicHVzaCIsImV4cG9ydHMiLCJ2YWxpZGF0ZVNjaGVtYSIsImNhbGwiLCJwb3AiLCJpdGVtcyIsImlkeCIsImxlbmd0aCIsInRvU3RyaW5nIiwib3B0aW9ucyIsImZvcmNlQWRkaXRpb25hbCIsIkFycmF5IiwiaXNBcnJheSIsImFzc3VtZUFkZGl0aW9uYWwiLCJtYXhJdGVtcyIsIm1pbkl0ZW1zIiwidW5pcXVlSXRlbXMiLCJtYXhQcm9wZXJ0aWVzIiwibWluUHJvcGVydGllcyIsInJlcXVpcmVkIiwiaXNVbmlxdWVBcnJheSIsImFkZGl0aW9uYWxQcm9wZXJ0aWVzIiwicHJvcGVydGllcyIsImtleXMiLCJPYmplY3QiLCJrZXkiLCJ2YWwiLCJmb3JjZVByb3BlcnRpZXMiLCJwYXR0ZXJuUHJvcGVydGllcyIsImRlcGVuZGVuY2llcyIsInNjaGVtYUtleSIsInNjaGVtYURlcGVuZGVuY3kiLCJpZHgyIiwiZW51bSIsInByaW1pdGl2ZVR5cGVzIiwicHJpbWl0aXZlVHlwZVN0ciIsImpvaW4iLCJpbmRleE9mIiwibm9FbXB0eVN0cmluZ3MiLCJmb3JtYXQiLCJub0VtcHR5QXJyYXlzIiwiZm9yY2VJdGVtcyIsImZvcmNlTWluSXRlbXMiLCJmb3JjZU1heEl0ZW1zIiwiZm9yY2VNaW5MZW5ndGgiLCJmb3JjZU1heExlbmd0aCIsImFsbE9mIiwiYW55T2YiLCJvbmVPZiIsIm5vdCIsImRlZmluaXRpb25zIiwiaWdub3JlVW5rbm93bkZvcm1hdHMiLCJpZCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJ2YWxpZGF0ZUFycmF5T2ZTY2hlbWFzIiwiYXJyIiwiaXNWYWxpZCIsImNvbW1vbkVycm9yTWVzc2FnZSIsIl9fJHZhbGlkYXRlZCIsImhhc1BhcmVudFNjaGVtYSIsIl9fJHNjaGVtYVJlc29sdmVkIiwic3ViUmVwb3J0IiwidmFsaWQiLCJ2YWxpZGF0ZSIsImlnbm9yZVVucmVzb2x2YWJsZVJlZmVyZW5jZXMiLCJub1R5cGVsZXNzIiwic2NoZW1hcyIsImNvbmNhdCIsImZvckVhY2giLCJzY2giLCJub0V4dHJhS2V5d29yZHMiLCJwZWRhbnRpY0NoZWNrIiwidG1wU2NoZW1hIiwiY2xvbmUiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/z-schema/src/SchemaValidation.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/z-schema/src/Utils.js":
/*!********************************************!*\
  !*** ./node_modules/z-schema/src/Utils.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nexports.jsonSymbol = Symbol.for(\"z-schema/json\");\nexports.schemaSymbol = Symbol.for(\"z-schema/schema\");\n/**\n * @param {object} obj\n *\n * @returns {string[]}\n */ var sortedKeys = exports.sortedKeys = function(obj) {\n    return Object.keys(obj).sort();\n};\n/**\n *\n * @param {string} uri\n *\n * @returns {boolean}\n */ exports.isAbsoluteUri = function(uri) {\n    return /^https?:\\/\\//.test(uri);\n};\n/**\n *\n * @param {string} uri\n *\n * @returns {boolean}\n */ exports.isRelativeUri = function(uri) {\n    // relative URIs that end with a hash sign, issue #56\n    return /.+#/.test(uri);\n};\nexports.whatIs = function(what) {\n    var to = typeof what;\n    if (to === \"object\") {\n        if (what === null) {\n            return \"null\";\n        }\n        if (Array.isArray(what)) {\n            return \"array\";\n        }\n        return \"object\"; // typeof what === 'object' && what === Object(what) && !Array.isArray(what);\n    }\n    if (to === \"number\") {\n        if (Number.isFinite(what)) {\n            if (what % 1 === 0) {\n                return \"integer\";\n            } else {\n                return \"number\";\n            }\n        }\n        if (Number.isNaN(what)) {\n            return \"not-a-number\";\n        }\n        return \"unknown-number\";\n    }\n    return to; // undefined, boolean, string, function\n};\n/**\n *\n * @param {*} json1\n * @param {*} json2\n * @param {*} [options]\n *\n * @returns {boolean}\n */ exports.areEqual = function areEqual(json1, json2, options) {\n    options = options || {};\n    var caseInsensitiveComparison = options.caseInsensitiveComparison || false;\n    // http://json-schema.org/latest/json-schema-core.html#rfc.section.3.6\n    // Two JSON values are said to be equal if and only if:\n    // both are nulls; or\n    // both are booleans, and have the same value; or\n    // both are strings, and have the same value; or\n    // both are numbers, and have the same mathematical value; or\n    if (json1 === json2) {\n        return true;\n    }\n    if (caseInsensitiveComparison === true && typeof json1 === \"string\" && typeof json2 === \"string\" && json1.toUpperCase() === json2.toUpperCase()) {\n        return true;\n    }\n    var i, len;\n    // both are arrays, and:\n    if (Array.isArray(json1) && Array.isArray(json2)) {\n        // have the same number of items; and\n        if (json1.length !== json2.length) {\n            return false;\n        }\n        // items at the same index are equal according to this definition; or\n        len = json1.length;\n        for(i = 0; i < len; i++){\n            if (!areEqual(json1[i], json2[i], {\n                caseInsensitiveComparison: caseInsensitiveComparison\n            })) {\n                return false;\n            }\n        }\n        return true;\n    }\n    // both are objects, and:\n    if (exports.whatIs(json1) === \"object\" && exports.whatIs(json2) === \"object\") {\n        // have the same set of property names; and\n        var keys1 = sortedKeys(json1);\n        var keys2 = sortedKeys(json2);\n        if (!areEqual(keys1, keys2, {\n            caseInsensitiveComparison: caseInsensitiveComparison\n        })) {\n            return false;\n        }\n        // values for a same property name are equal according to this definition.\n        len = keys1.length;\n        for(i = 0; i < len; i++){\n            if (!areEqual(json1[keys1[i]], json2[keys1[i]], {\n                caseInsensitiveComparison: caseInsensitiveComparison\n            })) {\n                return false;\n            }\n        }\n        return true;\n    }\n    return false;\n};\n/**\n *\n * @param {*[]} arr\n * @param {number[]} [indexes]\n *\n * @returns {boolean}\n */ exports.isUniqueArray = function(arr, indexes) {\n    var i, j, l = arr.length;\n    for(i = 0; i < l; i++){\n        for(j = i + 1; j < l; j++){\n            if (exports.areEqual(arr[i], arr[j])) {\n                if (indexes) {\n                    indexes.push(i, j);\n                }\n                return false;\n            }\n        }\n    }\n    return true;\n};\n/**\n *\n * @param {*} bigSet\n * @param {*} subSet\n *\n * @returns {*[]}\n */ exports.difference = function(bigSet, subSet) {\n    var arr = [], idx = bigSet.length;\n    while(idx--){\n        if (subSet.indexOf(bigSet[idx]) === -1) {\n            arr.push(bigSet[idx]);\n        }\n    }\n    return arr;\n};\n// NOT a deep version of clone\nexports.clone = function(src) {\n    if (typeof src === \"undefined\") {\n        return void 0;\n    }\n    if (typeof src !== \"object\" || src === null) {\n        return src;\n    }\n    var res, idx;\n    if (Array.isArray(src)) {\n        res = [];\n        idx = src.length;\n        while(idx--){\n            res[idx] = src[idx];\n        }\n    } else {\n        res = {};\n        var keys = Object.keys(src);\n        idx = keys.length;\n        while(idx--){\n            var key = keys[idx];\n            res[key] = src[key];\n        }\n    }\n    return res;\n};\nexports.cloneDeep = function(src) {\n    var vidx = 0, visited = new Map(), cloned = [];\n    function cloneDeep(src) {\n        if (typeof src !== \"object\" || src === null) {\n            return src;\n        }\n        var res, idx, cidx;\n        cidx = visited.get(src);\n        if (cidx !== undefined) {\n            return cloned[cidx];\n        }\n        visited.set(src, vidx++);\n        if (Array.isArray(src)) {\n            res = [];\n            cloned.push(res);\n            idx = src.length;\n            while(idx--){\n                res[idx] = cloneDeep(src[idx]);\n            }\n        } else {\n            res = {};\n            cloned.push(res);\n            var keys = Object.keys(src);\n            idx = keys.length;\n            while(idx--){\n                var key = keys[idx];\n                res[key] = cloneDeep(src[key]);\n            }\n        }\n        return res;\n    }\n    return cloneDeep(src);\n};\n/*\n  following function comes from punycode.js library\n  see: https://github.com/bestiejs/punycode.js\n*/ /*jshint -W016*/ /**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */ exports.ucs2decode = function(string) {\n    var output = [], counter = 0, length = string.length, value, extra;\n    while(counter < length){\n        value = string.charCodeAt(counter++);\n        if (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n            // high surrogate, and there is a next character\n            extra = string.charCodeAt(counter++);\n            if ((extra & 0xFC00) == 0xDC00) {\n                output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n            } else {\n                // unmatched surrogate; only append this code unit, in case the next\n                // code unit is the high surrogate of a surrogate pair\n                output.push(value);\n                counter--;\n            }\n        } else {\n            output.push(value);\n        }\n    }\n    return output;\n}; /*jshint +W016*/ \n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvei1zY2hlbWEvc3JjL1V0aWxzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBRWJBLGtCQUFrQixHQUFHRSxPQUFPQyxHQUFHLENBQUM7QUFFaENILG9CQUFvQixHQUFHRSxPQUFPQyxHQUFHLENBQUM7QUFFbEM7Ozs7Q0FJQyxHQUNELElBQUlFLGFBQWFMLGtCQUFrQixHQUFHLFNBQVVNLEdBQUc7SUFDL0MsT0FBT0MsT0FBT0MsSUFBSSxDQUFDRixLQUFLRyxJQUFJO0FBQ2hDO0FBRUE7Ozs7O0NBS0MsR0FDRFQscUJBQXFCLEdBQUcsU0FBVVcsR0FBRztJQUNqQyxPQUFPLGVBQWVDLElBQUksQ0FBQ0Q7QUFDL0I7QUFFQTs7Ozs7Q0FLQyxHQUNEWCxxQkFBcUIsR0FBRyxTQUFVVyxHQUFHO0lBQ2pDLHFEQUFxRDtJQUNyRCxPQUFPLE1BQU1DLElBQUksQ0FBQ0Q7QUFDdEI7QUFFQVgsY0FBYyxHQUFHLFNBQVVlLElBQUk7SUFFM0IsSUFBSUMsS0FBSyxPQUFPRDtJQUVoQixJQUFJQyxPQUFPLFVBQVU7UUFDakIsSUFBSUQsU0FBUyxNQUFNO1lBQ2YsT0FBTztRQUNYO1FBQ0EsSUFBSUUsTUFBTUMsT0FBTyxDQUFDSCxPQUFPO1lBQ3JCLE9BQU87UUFDWDtRQUNBLE9BQU8sVUFBVSw2RUFBNkU7SUFDbEc7SUFFQSxJQUFJQyxPQUFPLFVBQVU7UUFDakIsSUFBSUcsT0FBT0MsUUFBUSxDQUFDTCxPQUFPO1lBQ3ZCLElBQUlBLE9BQU8sTUFBTSxHQUFHO2dCQUNoQixPQUFPO1lBQ1gsT0FBTztnQkFDSCxPQUFPO1lBQ1g7UUFDSjtRQUNBLElBQUlJLE9BQU9FLEtBQUssQ0FBQ04sT0FBTztZQUNwQixPQUFPO1FBQ1g7UUFDQSxPQUFPO0lBQ1g7SUFFQSxPQUFPQyxJQUFJLHVDQUF1QztBQUV0RDtBQUVBOzs7Ozs7O0NBT0MsR0FDRGhCLGdCQUFnQixHQUFHLFNBQVNzQixTQUFTQyxLQUFLLEVBQUVDLEtBQUssRUFBRUMsT0FBTztJ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QUNqQztRQUNKLE9BQU87WUFDSEksTUFBTSxDQUFDO1lBQ1BNLE9BQU9kLElBQUksQ0FBQ1E7WUFDWixJQUFJdEMsT0FBT0QsT0FBT0MsSUFBSSxDQUFDcUM7WUFDdkJILE1BQU1sQyxLQUFLc0IsTUFBTTtZQUNqQixNQUFPWSxNQUFPO2dCQUNWLElBQUlLLE1BQU12QyxJQUFJLENBQUNrQyxJQUFJO2dCQUNuQkksR0FBRyxDQUFDQyxJQUFJLEdBQUdDLFVBQVVILEdBQUcsQ0FBQ0UsSUFBSTtZQUNqQztRQUNKO1FBQ0EsT0FBT0Q7SUFDWDtJQUNBLE9BQU9FLFVBQVVIO0FBQ3JCO0FBRUE7OztBQUdBLEdBQ0EsY0FBYyxHQUNkOzs7Ozs7Ozs7Ozs7Q0FZQyxHQUNEN0Msa0JBQWtCLEdBQUcsU0FBVTBELE1BQU07SUFDakMsSUFBSUMsU0FBUyxFQUFFLEVBQ1hDLFVBQVUsR0FDVjlCLFNBQVM0QixPQUFPNUIsTUFBTSxFQUN0QitCLE9BQ0FDO0lBQ0osTUFBT0YsVUFBVTlCLE9BQVE7UUFDckIrQixRQUFRSCxPQUFPSyxVQUFVLENBQUNIO1FBQzFCLElBQUlDLFNBQVMsVUFBVUEsU0FBUyxVQUFVRCxVQUFVOUIsUUFBUTtZQUN4RCxnREFBZ0Q7WUFDaERnQyxRQUFRSixPQUFPSyxVQUFVLENBQUNIO1lBQzFCLElBQUksQ0FBQ0UsUUFBUSxNQUFLLEtBQU0sUUFBUTtnQkFDNUJILE9BQU9yQixJQUFJLENBQUMsQ0FBQyxDQUFDdUIsUUFBUSxLQUFJLEtBQU0sRUFBQyxJQUFNQyxDQUFBQSxRQUFRLEtBQUksSUFBSztZQUM1RCxPQUFPO2dCQUNILG9FQUFvRTtnQkFDcEUsc0RBQXNEO2dCQUN0REgsT0FBT3JCLElBQUksQ0FBQ3VCO2dCQUNaRDtZQUNKO1FBQ0osT0FBTztZQUNIRCxPQUFPckIsSUFBSSxDQUFDdUI7UUFDaEI7SUFDSjtJQUNBLE9BQU9GO0FBQ1gsR0FDQSxjQUFjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmFudGVzLXB1YmxpYy1kYXRhLWRhc2hib2FyZC8uL25vZGVfbW9kdWxlcy96LXNjaGVtYS9zcmMvVXRpbHMuanM/Mzg5ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5qc29uU3ltYm9sID0gU3ltYm9sLmZvcihcInotc2NoZW1hL2pzb25cIik7XG5cbmV4cG9ydHMuc2NoZW1hU3ltYm9sID0gU3ltYm9sLmZvcihcInotc2NoZW1hL3NjaGVtYVwiKTtcblxuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gb2JqXG4gKlxuICogQHJldHVybnMge3N0cmluZ1tdfVxuICovXG52YXIgc29ydGVkS2V5cyA9IGV4cG9ydHMuc29ydGVkS2V5cyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5zb3J0KCk7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJpXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydHMuaXNBYnNvbHV0ZVVyaSA9IGZ1bmN0aW9uICh1cmkpIHtcbiAgICByZXR1cm4gL15odHRwcz86XFwvXFwvLy50ZXN0KHVyaSk7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJpXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydHMuaXNSZWxhdGl2ZVVyaSA9IGZ1bmN0aW9uICh1cmkpIHtcbiAgICAvLyByZWxhdGl2ZSBVUklzIHRoYXQgZW5kIHdpdGggYSBoYXNoIHNpZ24sIGlzc3VlICM1NlxuICAgIHJldHVybiAvLisjLy50ZXN0KHVyaSk7XG59O1xuXG5leHBvcnRzLndoYXRJcyA9IGZ1bmN0aW9uICh3aGF0KSB7XG5cbiAgICB2YXIgdG8gPSB0eXBlb2Ygd2hhdDtcblxuICAgIGlmICh0byA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBpZiAod2hhdCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHdoYXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJhcnJheVwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcIm9iamVjdFwiOyAvLyB0eXBlb2Ygd2hhdCA9PT0gJ29iamVjdCcgJiYgd2hhdCA9PT0gT2JqZWN0KHdoYXQpICYmICFBcnJheS5pc0FycmF5KHdoYXQpO1xuICAgIH1cblxuICAgIGlmICh0byA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICBpZiAoTnVtYmVyLmlzRmluaXRlKHdoYXQpKSB7XG4gICAgICAgICAgICBpZiAod2hhdCAlIDEgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJpbnRlZ2VyXCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIm51bWJlclwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChOdW1iZXIuaXNOYU4od2hhdCkpIHtcbiAgICAgICAgICAgIHJldHVybiBcIm5vdC1hLW51bWJlclwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcInVua25vd24tbnVtYmVyXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRvOyAvLyB1bmRlZmluZWQsIGJvb2xlYW4sIHN0cmluZywgZnVuY3Rpb25cblxufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHsqfSBqc29uMVxuICogQHBhcmFtIHsqfSBqc29uMlxuICogQHBhcmFtIHsqfSBbb3B0aW9uc11cbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0cy5hcmVFcXVhbCA9IGZ1bmN0aW9uIGFyZUVxdWFsKGpzb24xLCBqc29uMiwgb3B0aW9ucykge1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdmFyIGNhc2VJbnNlbnNpdGl2ZUNvbXBhcmlzb24gPSBvcHRpb25zLmNhc2VJbnNlbnNpdGl2ZUNvbXBhcmlzb24gfHwgZmFsc2U7XG5cbiAgICAvLyBodHRwOi8vanNvbi1zY2hlbWEub3JnL2xhdGVzdC9qc29uLXNjaGVtYS1jb3JlLmh0bWwjcmZjLnNlY3Rpb24uMy42XG5cbiAgICAvLyBUd28gSlNPTiB2YWx1ZXMgYXJlIHNhaWQgdG8gYmUgZXF1YWwgaWYgYW5kIG9ubHkgaWY6XG4gICAgLy8gYm90aCBhcmUgbnVsbHM7IG9yXG4gICAgLy8gYm90aCBhcmUgYm9vbGVhbnMsIGFuZCBoYXZlIHRoZSBzYW1lIHZhbHVlOyBvclxuICAgIC8vIGJvdGggYXJlIHN0cmluZ3MsIGFuZCBoYXZlIHRoZSBzYW1lIHZhbHVlOyBvclxuICAgIC8vIGJvdGggYXJlIG51bWJlcnMsIGFuZCBoYXZlIHRoZSBzYW1lIG1hdGhlbWF0aWNhbCB2YWx1ZTsgb3JcbiAgICBpZiAoanNvbjEgPT09IGpzb24yKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBjYXNlSW5zZW5zaXRpdmVDb21wYXJpc29uID09PSB0cnVlICYmXG4gICAgICB0eXBlb2YganNvbjEgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIGpzb24yID09PSBcInN0cmluZ1wiICYmXG4gICAgICBqc29uMS50b1VwcGVyQ2FzZSgpID09PSBqc29uMi50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciBpLCBsZW47XG5cbiAgICAvLyBib3RoIGFyZSBhcnJheXMsIGFuZDpcbiAgICBpZiAoQXJyYXkuaXNBcnJheShqc29uMSkgJiYgQXJyYXkuaXNBcnJheShqc29uMikpIHtcbiAgICAgICAgLy8gaGF2ZSB0aGUgc2FtZSBudW1iZXIgb2YgaXRlbXM7IGFuZFxuICAgICAgICBpZiAoanNvbjEubGVuZ3RoICE9PSBqc29uMi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpdGVtcyBhdCB0aGUgc2FtZSBpbmRleCBhcmUgZXF1YWwgYWNjb3JkaW5nIHRvIHRoaXMgZGVmaW5pdGlvbjsgb3JcbiAgICAgICAgbGVuID0ganNvbjEubGVuZ3RoO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghYXJlRXF1YWwoanNvbjFbaV0sIGpzb24yW2ldLCB7IGNhc2VJbnNlbnNpdGl2ZUNvbXBhcmlzb246IGNhc2VJbnNlbnNpdGl2ZUNvbXBhcmlzb24gfSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gYm90aCBhcmUgb2JqZWN0cywgYW5kOlxuICAgIGlmIChleHBvcnRzLndoYXRJcyhqc29uMSkgPT09IFwib2JqZWN0XCIgJiYgZXhwb3J0cy53aGF0SXMoanNvbjIpID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIC8vIGhhdmUgdGhlIHNhbWUgc2V0IG9mIHByb3BlcnR5IG5hbWVzOyBhbmRcbiAgICAgICAgdmFyIGtleXMxID0gc29ydGVkS2V5cyhqc29uMSk7XG4gICAgICAgIHZhciBrZXlzMiA9IHNvcnRlZEtleXMoanNvbjIpO1xuICAgICAgICBpZiAoIWFyZUVxdWFsKGtleXMxLCBrZXlzMiwgeyBjYXNlSW5zZW5zaXRpdmVDb21wYXJpc29uOiBjYXNlSW5zZW5zaXRpdmVDb21wYXJpc29uIH0pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmFsdWVzIGZvciBhIHNhbWUgcHJvcGVydHkgbmFtZSBhcmUgZXF1YWwgYWNjb3JkaW5nIHRvIHRoaXMgZGVmaW5pdGlvbi5cbiAgICAgICAgbGVuID0ga2V5czEubGVuZ3RoO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghYXJlRXF1YWwoanNvbjFba2V5czFbaV1dLCBqc29uMltrZXlzMVtpXV0sIHsgY2FzZUluc2Vuc2l0aXZlQ29tcGFyaXNvbjogY2FzZUluc2Vuc2l0aXZlQ29tcGFyaXNvbiB9KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0geypbXX0gYXJyXG4gKiBAcGFyYW0ge251bWJlcltdfSBbaW5kZXhlc11cbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0cy5pc1VuaXF1ZUFycmF5ID0gZnVuY3Rpb24gKGFyciwgaW5kZXhlcykge1xuICAgIHZhciBpLCBqLCBsID0gYXJyLmxlbmd0aDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGZvciAoaiA9IGkgKyAxOyBqIDwgbDsgaisrKSB7XG4gICAgICAgICAgICBpZiAoZXhwb3J0cy5hcmVFcXVhbChhcnJbaV0sIGFycltqXSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXhlcykgeyBpbmRleGVzLnB1c2goaSwgaik7IH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0geyp9IGJpZ1NldFxuICogQHBhcmFtIHsqfSBzdWJTZXRcbiAqXG4gKiBAcmV0dXJucyB7KltdfVxuICovXG5leHBvcnRzLmRpZmZlcmVuY2UgPSBmdW5jdGlvbiAoYmlnU2V0LCBzdWJTZXQpIHtcbiAgICB2YXIgYXJyID0gW10sXG4gICAgICAgIGlkeCA9IGJpZ1NldC5sZW5ndGg7XG4gICAgd2hpbGUgKGlkeC0tKSB7XG4gICAgICAgIGlmIChzdWJTZXQuaW5kZXhPZihiaWdTZXRbaWR4XSkgPT09IC0xKSB7XG4gICAgICAgICAgICBhcnIucHVzaChiaWdTZXRbaWR4XSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbn07XG5cbi8vIE5PVCBhIGRlZXAgdmVyc2lvbiBvZiBjbG9uZVxuZXhwb3J0cy5jbG9uZSA9IGZ1bmN0aW9uIChzcmMpIHtcbiAgICBpZiAodHlwZW9mIHNyYyA9PT0gXCJ1bmRlZmluZWRcIikgeyByZXR1cm4gdm9pZCAwOyB9XG4gICAgaWYgKHR5cGVvZiBzcmMgIT09IFwib2JqZWN0XCIgfHwgc3JjID09PSBudWxsKSB7IHJldHVybiBzcmM7IH1cbiAgICB2YXIgcmVzLCBpZHg7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc3JjKSkge1xuICAgICAgICByZXMgPSBbXTtcbiAgICAgICAgaWR4ID0gc3JjLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGlkeC0tKSB7XG4gICAgICAgICAgICByZXNbaWR4XSA9IHNyY1tpZHhdO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzID0ge307XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoc3JjKTtcbiAgICAgICAgaWR4ID0ga2V5cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChpZHgtLSkge1xuICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbaWR4XTtcbiAgICAgICAgICAgIHJlc1trZXldID0gc3JjW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn07XG5cbmV4cG9ydHMuY2xvbmVEZWVwID0gZnVuY3Rpb24gKHNyYykge1xuICAgIHZhciB2aWR4ID0gMCwgdmlzaXRlZCA9IG5ldyBNYXAoKSwgY2xvbmVkID0gW107XG4gICAgZnVuY3Rpb24gY2xvbmVEZWVwKHNyYykge1xuICAgICAgICBpZiAodHlwZW9mIHNyYyAhPT0gXCJvYmplY3RcIiB8fCBzcmMgPT09IG51bGwpIHsgcmV0dXJuIHNyYzsgfVxuICAgICAgICB2YXIgcmVzLCBpZHgsIGNpZHg7XG5cbiAgICAgICAgY2lkeCA9IHZpc2l0ZWQuZ2V0KHNyYyk7XG4gICAgICAgIGlmIChjaWR4ICE9PSB1bmRlZmluZWQpIHsgcmV0dXJuIGNsb25lZFtjaWR4XTsgfVxuXG4gICAgICAgIHZpc2l0ZWQuc2V0KHNyYywgdmlkeCsrKTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc3JjKSkge1xuICAgICAgICAgICAgcmVzID0gW107XG4gICAgICAgICAgICBjbG9uZWQucHVzaChyZXMpO1xuICAgICAgICAgICAgaWR4ID0gc3JjLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlIChpZHgtLSkge1xuICAgICAgICAgICAgICAgIHJlc1tpZHhdID0gY2xvbmVEZWVwKHNyY1tpZHhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlcyA9IHt9O1xuICAgICAgICAgICAgY2xvbmVkLnB1c2gocmVzKTtcbiAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoc3JjKTtcbiAgICAgICAgICAgIGlkeCA9IGtleXMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKGlkeC0tKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbaWR4XTtcbiAgICAgICAgICAgICAgICByZXNba2V5XSA9IGNsb25lRGVlcChzcmNba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgcmV0dXJuIGNsb25lRGVlcChzcmMpO1xufTtcblxuLypcbiAgZm9sbG93aW5nIGZ1bmN0aW9uIGNvbWVzIGZyb20gcHVueWNvZGUuanMgbGlicmFyeVxuICBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9iZXN0aWVqcy9wdW55Y29kZS5qc1xuKi9cbi8qanNoaW50IC1XMDE2Ki9cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBjb250YWluaW5nIHRoZSBudW1lcmljIGNvZGUgcG9pbnRzIG9mIGVhY2ggVW5pY29kZVxuICogY2hhcmFjdGVyIGluIHRoZSBzdHJpbmcuIFdoaWxlIEphdmFTY3JpcHQgdXNlcyBVQ1MtMiBpbnRlcm5hbGx5LFxuICogdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnZlcnQgYSBwYWlyIG9mIHN1cnJvZ2F0ZSBoYWx2ZXMgKGVhY2ggb2Ygd2hpY2hcbiAqIFVDUy0yIGV4cG9zZXMgYXMgc2VwYXJhdGUgY2hhcmFjdGVycykgaW50byBhIHNpbmdsZSBjb2RlIHBvaW50LFxuICogbWF0Y2hpbmcgVVRGLTE2LlxuICogQHNlZSBgcHVueWNvZGUudWNzMi5lbmNvZGVgXG4gKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz5cbiAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyXG4gKiBAbmFtZSBkZWNvZGVcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgVGhlIFVuaWNvZGUgaW5wdXQgc3RyaW5nIChVQ1MtMikuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFRoZSBuZXcgYXJyYXkgb2YgY29kZSBwb2ludHMuXG4gKi9cbmV4cG9ydHMudWNzMmRlY29kZSA9IGZ1bmN0aW9uIChzdHJpbmcpIHtcbiAgICB2YXIgb3V0cHV0ID0gW10sXG4gICAgICAgIGNvdW50ZXIgPSAwLFxuICAgICAgICBsZW5ndGggPSBzdHJpbmcubGVuZ3RoLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgZXh0cmE7XG4gICAgd2hpbGUgKGNvdW50ZXIgPCBsZW5ndGgpIHtcbiAgICAgICAgdmFsdWUgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuICAgICAgICBpZiAodmFsdWUgPj0gMHhEODAwICYmIHZhbHVlIDw9IDB4REJGRiAmJiBjb3VudGVyIDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBoaWdoIHN1cnJvZ2F0ZSwgYW5kIHRoZXJlIGlzIGEgbmV4dCBjaGFyYWN0ZXJcbiAgICAgICAgICAgIGV4dHJhID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTtcbiAgICAgICAgICAgIGlmICgoZXh0cmEgJiAweEZDMDApID09IDB4REMwMCkgeyAvLyBsb3cgc3Vycm9nYXRlXG4gICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goKCh2YWx1ZSAmIDB4M0ZGKSA8PCAxMCkgKyAoZXh0cmEgJiAweDNGRikgKyAweDEwMDAwKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gdW5tYXRjaGVkIHN1cnJvZ2F0ZTsgb25seSBhcHBlbmQgdGhpcyBjb2RlIHVuaXQsIGluIGNhc2UgdGhlIG5leHRcbiAgICAgICAgICAgICAgICAvLyBjb2RlIHVuaXQgaXMgdGhlIGhpZ2ggc3Vycm9nYXRlIG9mIGEgc3Vycm9nYXRlIHBhaXJcbiAgICAgICAgICAgICAgICBvdXRwdXQucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgY291bnRlci0tO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0cHV0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQ7XG59O1xuLypqc2hpbnQgK1cwMTYqL1xuIl0sIm5hbWVzIjpbImV4cG9ydHMiLCJqc29uU3ltYm9sIiwiU3ltYm9sIiwiZm9yIiwic2NoZW1hU3ltYm9sIiwic29ydGVkS2V5cyIsIm9iaiIsIk9iamVjdCIsImtleXMiLCJzb3J0IiwiaXNBYnNvbHV0ZVVyaSIsInVyaSIsInRlc3QiLCJpc1JlbGF0aXZlVXJpIiwid2hhdElzIiwid2hhdCIsInRvIiwiQXJyYXkiLCJpc0FycmF5IiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJpc05hTiIsImFyZUVxdWFsIiwianNvbjEiLCJqc29uMiIsIm9wdGlvbnMiLCJjYXNlSW5zZW5zaXRpdmVDb21wYXJpc29uIiwidG9VcHBlckNhc2UiLCJpIiwibGVuIiwibGVuZ3RoIiwia2V5czEiLCJrZXlzMiIsImlzVW5pcXVlQXJyYXkiLCJhcnIiLCJpbmRleGVzIiwiaiIsImwiLCJwdXNoIiwiZGlmZmVyZW5jZSIsImJpZ1NldCIsInN1YlNldCIsImlkeCIsImluZGV4T2YiLCJjbG9uZSIsInNyYyIsInJlcyIsImtleSIsImNsb25lRGVlcCIsInZpZHgiLCJ2aXNpdGVkIiwiTWFwIiwiY2xvbmVkIiwiY2lkeCIsImdldCIsInVuZGVmaW5lZCIsInNldCIsInVjczJkZWNvZGUiLCJzdHJpbmciLCJvdXRwdXQiLCJjb3VudGVyIiwidmFsdWUiLCJleHRyYSIsImNoYXJDb2RlQXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/z-schema/src/Utils.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/z-schema/src/ZSchema.js":
/*!**********************************************!*\
  !*** ./node_modules/z-schema/src/ZSchema.js ***!
  \**********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n__webpack_require__(/*! ./Polyfills */ \"(rsc)/./node_modules/z-schema/src/Polyfills.js\");\nvar get = __webpack_require__(/*! lodash.get */ \"(rsc)/./node_modules/lodash.get/index.js\");\nvar Report = __webpack_require__(/*! ./Report */ \"(rsc)/./node_modules/z-schema/src/Report.js\");\nvar FormatValidators = __webpack_require__(/*! ./FormatValidators */ \"(rsc)/./node_modules/z-schema/src/FormatValidators.js\");\nvar JsonValidation = __webpack_require__(/*! ./JsonValidation */ \"(rsc)/./node_modules/z-schema/src/JsonValidation.js\");\nvar SchemaCache = __webpack_require__(/*! ./SchemaCache */ \"(rsc)/./node_modules/z-schema/src/SchemaCache.js\");\nvar SchemaCompilation = __webpack_require__(/*! ./SchemaCompilation */ \"(rsc)/./node_modules/z-schema/src/SchemaCompilation.js\");\nvar SchemaValidation = __webpack_require__(/*! ./SchemaValidation */ \"(rsc)/./node_modules/z-schema/src/SchemaValidation.js\");\nvar Utils = __webpack_require__(/*! ./Utils */ \"(rsc)/./node_modules/z-schema/src/Utils.js\");\nvar Draft4Schema = __webpack_require__(/*! ./schemas/schema.json */ \"(rsc)/./node_modules/z-schema/src/schemas/schema.json\");\nvar Draft4HyperSchema = __webpack_require__(/*! ./schemas/hyper-schema.json */ \"(rsc)/./node_modules/z-schema/src/schemas/hyper-schema.json\");\n/**\n * default options\n */ var defaultOptions = {\n    // default timeout for all async tasks\n    asyncTimeout: 2000,\n    // force additionalProperties and additionalItems to be defined on \"object\" and \"array\" types\n    forceAdditional: false,\n    // assume additionalProperties and additionalItems are defined as \"false\" where appropriate\n    assumeAdditional: false,\n    // do case insensitive comparison for enums\n    enumCaseInsensitiveComparison: false,\n    // force items to be defined on \"array\" types\n    forceItems: false,\n    // force minItems to be defined on \"array\" types\n    forceMinItems: false,\n    // force maxItems to be defined on \"array\" types\n    forceMaxItems: false,\n    // force minLength to be defined on \"string\" types\n    forceMinLength: false,\n    // force maxLength to be defined on \"string\" types\n    forceMaxLength: false,\n    // force properties or patternProperties to be defined on \"object\" types\n    forceProperties: false,\n    // ignore references that cannot be resolved (remote schemas) // TODO: make sure this is only for remote schemas, not local ones\n    ignoreUnresolvableReferences: false,\n    // disallow usage of keywords that this validator can't handle\n    noExtraKeywords: false,\n    // disallow usage of schema's without \"type\" defined\n    noTypeless: false,\n    // disallow zero length strings in validated objects\n    noEmptyStrings: false,\n    // disallow zero length arrays in validated objects\n    noEmptyArrays: false,\n    // forces \"uri\" format to be in fully rfc3986 compliant\n    strictUris: false,\n    // turn on some of the above\n    strictMode: false,\n    // report error paths as an array of path segments to get to the offending node\n    reportPathAsArray: false,\n    // stop validation as soon as an error is found\n    breakOnFirstError: false,\n    // check if schema follows best practices and common sense\n    pedanticCheck: false,\n    // ignore unknown formats (do not report them as an error)\n    ignoreUnknownFormats: false,\n    // function to be called on every schema\n    customValidator: null\n};\nfunction normalizeOptions(options) {\n    var normalized;\n    // options\n    if (typeof options === \"object\") {\n        var keys = Object.keys(options), idx = keys.length, key;\n        // check that the options are correctly configured\n        while(idx--){\n            key = keys[idx];\n            if (defaultOptions[key] === undefined) {\n                throw new Error(\"Unexpected option passed to constructor: \" + key);\n            }\n        }\n        // copy the default options into passed options\n        keys = Object.keys(defaultOptions);\n        idx = keys.length;\n        while(idx--){\n            key = keys[idx];\n            if (options[key] === undefined) {\n                options[key] = Utils.clone(defaultOptions[key]);\n            }\n        }\n        normalized = options;\n    } else {\n        normalized = Utils.clone(defaultOptions);\n    }\n    if (normalized.strictMode === true) {\n        normalized.forceAdditional = true;\n        normalized.forceItems = true;\n        normalized.forceMaxLength = true;\n        normalized.forceProperties = true;\n        normalized.noExtraKeywords = true;\n        normalized.noTypeless = true;\n        normalized.noEmptyStrings = true;\n        normalized.noEmptyArrays = true;\n    }\n    return normalized;\n}\n/**\n * @class\n *\n * @param {*} [options]\n */ function ZSchema(options) {\n    this.cache = {};\n    this.referenceCache = [];\n    this.validateOptions = {};\n    this.options = normalizeOptions(options);\n    // Disable strict validation for the built-in schemas\n    var metaschemaOptions = normalizeOptions({});\n    this.setRemoteReference(\"http://json-schema.org/draft-04/schema\", Draft4Schema, metaschemaOptions);\n    this.setRemoteReference(\"http://json-schema.org/draft-04/hyper-schema\", Draft4HyperSchema, metaschemaOptions);\n}\n/**\n * instance methods\n *\n * @param {*} schema\n *\n * @returns {boolean}\n */ ZSchema.prototype.compileSchema = function(schema) {\n    var report = new Report(this.options);\n    schema = SchemaCache.getSchema.call(this, report, schema);\n    SchemaCompilation.compileSchema.call(this, report, schema);\n    this.lastReport = report;\n    return report.isValid();\n};\n/**\n *\n * @param {*} schema\n *\n * @returns {boolean}\n */ ZSchema.prototype.validateSchema = function(schema) {\n    if (Array.isArray(schema) && schema.length === 0) {\n        throw new Error(\".validateSchema was called with an empty array\");\n    }\n    var report = new Report(this.options);\n    schema = SchemaCache.getSchema.call(this, report, schema);\n    var compiled = SchemaCompilation.compileSchema.call(this, report, schema);\n    if (compiled) {\n        SchemaValidation.validateSchema.call(this, report, schema);\n    }\n    this.lastReport = report;\n    return report.isValid();\n};\n/**\n *\n * @param {*} json\n * @param {*} schema\n * @param {*} [options]\n * @param {function(*, *)} [callback]\n *\n * @returns {boolean}\n */ ZSchema.prototype.validate = function(json, schema, options, callback) {\n    if (Utils.whatIs(options) === \"function\") {\n        callback = options;\n        options = {};\n    }\n    if (!options) {\n        options = {};\n    }\n    this.validateOptions = options;\n    var whatIs = Utils.whatIs(schema);\n    if (whatIs !== \"string\" && whatIs !== \"object\") {\n        var e = new Error(\"Invalid .validate call - schema must be a string or object but \" + whatIs + \" was passed!\");\n        if (callback) {\n            process.nextTick(function() {\n                callback(e, false);\n            });\n            return;\n        }\n        throw e;\n    }\n    var foundError = false;\n    var report = new Report(this.options);\n    report.json = json;\n    if (typeof schema === \"string\") {\n        var schemaName = schema;\n        schema = SchemaCache.getSchema.call(this, report, schemaName);\n        if (!schema) {\n            throw new Error(\"Schema with id '\" + schemaName + \"' wasn't found in the validator cache!\");\n        }\n    } else {\n        schema = SchemaCache.getSchema.call(this, report, schema);\n    }\n    var compiled = false;\n    if (!foundError) {\n        compiled = SchemaCompilation.compileSchema.call(this, report, schema);\n    }\n    if (!compiled) {\n        this.lastReport = report;\n        foundError = true;\n    }\n    var validated = false;\n    if (!foundError) {\n        validated = SchemaValidation.validateSchema.call(this, report, schema);\n    }\n    if (!validated) {\n        this.lastReport = report;\n        foundError = true;\n    }\n    if (options.schemaPath) {\n        report.rootSchema = schema;\n        schema = get(schema, options.schemaPath);\n        if (!schema) {\n            throw new Error(\"Schema path '\" + options.schemaPath + \"' wasn't found in the schema!\");\n        }\n    }\n    if (!foundError) {\n        JsonValidation.validate.call(this, report, schema, json);\n    }\n    if (callback) {\n        report.processAsyncTasks(this.options.asyncTimeout, callback);\n        return;\n    } else if (report.asyncTasks.length > 0) {\n        throw new Error(\"This validation has async tasks and cannot be done in sync mode, please provide callback argument.\");\n    }\n    // assign lastReport so errors are retrievable in sync mode\n    this.lastReport = report;\n    return report.isValid();\n};\nZSchema.prototype.getLastError = function() {\n    if (this.lastReport.errors.length === 0) {\n        return null;\n    }\n    var e = new Error();\n    e.name = \"z-schema validation error\";\n    e.message = this.lastReport.commonErrorMessage;\n    e.details = this.lastReport.errors;\n    return e;\n};\nZSchema.prototype.getLastErrors = function() {\n    return this.lastReport && this.lastReport.errors.length > 0 ? this.lastReport.errors : null;\n};\nZSchema.prototype.getMissingReferences = function(arr) {\n    arr = arr || this.lastReport.errors;\n    var res = [], idx = arr.length;\n    while(idx--){\n        var error = arr[idx];\n        if (error.code === \"UNRESOLVABLE_REFERENCE\") {\n            var reference = error.params[0];\n            if (res.indexOf(reference) === -1) {\n                res.push(reference);\n            }\n        }\n        if (error.inner) {\n            res = res.concat(this.getMissingReferences(error.inner));\n        }\n    }\n    return res;\n};\nZSchema.prototype.getMissingRemoteReferences = function() {\n    var missingReferences = this.getMissingReferences(), missingRemoteReferences = [], idx = missingReferences.length;\n    while(idx--){\n        var remoteReference = SchemaCache.getRemotePath(missingReferences[idx]);\n        if (remoteReference && missingRemoteReferences.indexOf(remoteReference) === -1) {\n            missingRemoteReferences.push(remoteReference);\n        }\n    }\n    return missingRemoteReferences;\n};\nZSchema.prototype.setRemoteReference = function(uri, schema, validationOptions) {\n    if (typeof schema === \"string\") {\n        schema = JSON.parse(schema);\n    } else {\n        schema = Utils.cloneDeep(schema);\n    }\n    if (validationOptions) {\n        schema.__$validationOptions = normalizeOptions(validationOptions);\n    }\n    SchemaCache.cacheSchemaByUri.call(this, uri, schema);\n};\nZSchema.prototype.getResolvedSchema = function(schema) {\n    var report = new Report(this.options);\n    schema = SchemaCache.getSchema.call(this, report, schema);\n    // clone before making any modifications\n    schema = Utils.cloneDeep(schema);\n    var visited = [];\n    // clean-up the schema and resolve references\n    var cleanup = function(schema) {\n        var key, typeOf = Utils.whatIs(schema);\n        if (typeOf !== \"object\" && typeOf !== \"array\") {\n            return;\n        }\n        if (schema.___$visited) {\n            return;\n        }\n        schema.___$visited = true;\n        visited.push(schema);\n        if (schema.$ref && schema.__$refResolved) {\n            var from = schema.__$refResolved;\n            var to = schema;\n            delete schema.$ref;\n            delete schema.__$refResolved;\n            for(key in from){\n                if (from.hasOwnProperty(key)) {\n                    to[key] = from[key];\n                }\n            }\n        }\n        for(key in schema){\n            if (schema.hasOwnProperty(key)) {\n                if (key.indexOf(\"__$\") === 0) {\n                    delete schema[key];\n                } else {\n                    cleanup(schema[key]);\n                }\n            }\n        }\n    };\n    cleanup(schema);\n    visited.forEach(function(s) {\n        delete s.___$visited;\n    });\n    this.lastReport = report;\n    if (report.isValid()) {\n        return schema;\n    } else {\n        throw this.getLastError();\n    }\n};\n/**\n *\n * @param {*} schemaReader\n *\n * @returns {void}\n */ ZSchema.prototype.setSchemaReader = function(schemaReader) {\n    return ZSchema.setSchemaReader(schemaReader);\n};\nZSchema.prototype.getSchemaReader = function() {\n    return ZSchema.schemaReader;\n};\nZSchema.schemaReader = undefined;\n/*\n    static methods\n*/ ZSchema.setSchemaReader = function(schemaReader) {\n    ZSchema.schemaReader = schemaReader;\n};\nZSchema.registerFormat = function(formatName, validatorFunction) {\n    FormatValidators[formatName] = validatorFunction;\n};\nZSchema.unregisterFormat = function(formatName) {\n    delete FormatValidators[formatName];\n};\nZSchema.getRegisteredFormats = function() {\n    return Object.keys(FormatValidators);\n};\nZSchema.getDefaultOptions = function() {\n    return Utils.cloneDeep(defaultOptions);\n};\nZSchema.schemaSymbol = Utils.schemaSymbol;\nZSchema.jsonSymbol = Utils.jsonSymbol;\nmodule.exports = ZSchema;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvei1zY2hlbWEvc3JjL1pTY2hlbWEuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFFYkEsbUJBQU9BLENBQUMsbUVBQWE7QUFDckIsSUFBSUMsTUFBb0JELG1CQUFPQSxDQUFDLDREQUFZO0FBQzVDLElBQUlFLFNBQW9CRixtQkFBT0EsQ0FBQyw2REFBVTtBQUMxQyxJQUFJRyxtQkFBb0JILG1CQUFPQSxDQUFDLGlGQUFvQjtBQUNwRCxJQUFJSSxpQkFBb0JKLG1CQUFPQSxDQUFDLDZFQUFrQjtBQUNsRCxJQUFJSyxjQUFvQkwsbUJBQU9BLENBQUMsdUVBQWU7QUFDL0MsSUFBSU0sb0JBQW9CTixtQkFBT0EsQ0FBQyxtRkFBcUI7QUFDckQsSUFBSU8sbUJBQW9CUCxtQkFBT0EsQ0FBQyxpRkFBb0I7QUFDcEQsSUFBSVEsUUFBb0JSLG1CQUFPQSxDQUFDLDJEQUFTO0FBQ3pDLElBQUlTLGVBQW9CVCxtQkFBT0EsQ0FBQyxvRkFBdUI7QUFDdkQsSUFBSVUsb0JBQW9CVixtQkFBT0EsQ0FBQyxnR0FBNkI7QUFFN0Q7O0NBRUMsR0FDRCxJQUFJVyxpQkFBaUI7SUFDakIsc0NBQXNDO0lBQ3RDQyxjQUFjO0lBQ2QsNkZBQTZGO0lBQzdGQyxpQkFBaUI7SUFDakIsMkZBQTJGO0lBQzNGQyxrQkFBa0I7SUFDbEIsMkNBQTJDO0lBQzNDQywrQkFBK0I7SUFDL0IsNkNBQTZDO0lBQzdDQyxZQUFZO0lBQ1osZ0RBQWdEO0lBQ2hEQyxlQUFlO0lBQ2YsZ0RBQWdEO0lBQ2hEQyxlQUFlO0lBQ2Ysa0RBQWtEO0lBQ2xEQyxnQkFBZ0I7SUFDaEIsa0RBQWtEO0lBQ2xEQyxnQkFBZ0I7SUFDaEIsd0VBQXdFO0lBQ3hFQyxpQkFBaUI7SUFDakIsZ0lBQWdJO0lBQ2hJQyw4QkFBOEI7SUFDOUIsOERBQThEO0lBQzlEQyxpQkFBaUI7SUFDakIsb0RBQW9EO0lBQ3BEQyxZQUFZO0lBQ1osb0RBQW9EO0lBQ3BEQyxnQkFBZ0I7SUFDaEIsbURBQW1EO0lBQ25E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U0FBUyxDQUFDb0UsZUFBZSxHQUFHLFNBQVVDLFlBQVk7SUFDdEQsT0FBTzNFLFFBQVEwRSxlQUFlLENBQUNDO0FBQ25DO0FBRUEzRSxRQUFRTSxTQUFTLENBQUNzRSxlQUFlLEdBQUc7SUFDaEMsT0FBTzVFLFFBQVEyRSxZQUFZO0FBQy9CO0FBRUEzRSxRQUFRMkUsWUFBWSxHQUFHOUU7QUFDdkI7O0FBRUEsR0FDQUcsUUFBUTBFLGVBQWUsR0FBRyxTQUFVQyxZQUFZO0lBQzVDM0UsUUFBUTJFLFlBQVksR0FBR0E7QUFDM0I7QUFDQTNFLFFBQVE2RSxjQUFjLEdBQUcsU0FBVUMsVUFBVSxFQUFFQyxpQkFBaUI7SUFDNUR6SCxnQkFBZ0IsQ0FBQ3dILFdBQVcsR0FBR0M7QUFDbkM7QUFDQS9FLFFBQVFnRixnQkFBZ0IsR0FBRyxTQUFVRixVQUFVO0lBQzNDLE9BQU94SCxnQkFBZ0IsQ0FBQ3dILFdBQVc7QUFDdkM7QUFDQTlFLFFBQVFpRixvQkFBb0IsR0FBRztJQUMzQixPQUFPeEYsT0FBT0QsSUFBSSxDQUFDbEM7QUFDdkI7QUFDQTBDLFFBQVFrRixpQkFBaUIsR0FBRztJQUN4QixPQUFPdkgsTUFBTWdHLFNBQVMsQ0FBQzdGO0FBQzNCO0FBRUFrQyxRQUFRbUYsWUFBWSxHQUFHeEgsTUFBTXdILFlBQVk7QUFFekNuRixRQUFRb0YsVUFBVSxHQUFHekgsTUFBTXlILFVBQVU7QUFFckNDLE9BQU9DLE9BQU8sR0FBR3RGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmFudGVzLXB1YmxpYy1kYXRhLWRhc2hib2FyZC8uL25vZGVfbW9kdWxlcy96LXNjaGVtYS9zcmMvWlNjaGVtYS5qcz8yMGYzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5yZXF1aXJlKFwiLi9Qb2x5ZmlsbHNcIik7XG52YXIgZ2V0ICAgICAgICAgICAgICAgPSByZXF1aXJlKFwibG9kYXNoLmdldFwiKTtcbnZhciBSZXBvcnQgICAgICAgICAgICA9IHJlcXVpcmUoXCIuL1JlcG9ydFwiKTtcbnZhciBGb3JtYXRWYWxpZGF0b3JzICA9IHJlcXVpcmUoXCIuL0Zvcm1hdFZhbGlkYXRvcnNcIik7XG52YXIgSnNvblZhbGlkYXRpb24gICAgPSByZXF1aXJlKFwiLi9Kc29uVmFsaWRhdGlvblwiKTtcbnZhciBTY2hlbWFDYWNoZSAgICAgICA9IHJlcXVpcmUoXCIuL1NjaGVtYUNhY2hlXCIpO1xudmFyIFNjaGVtYUNvbXBpbGF0aW9uID0gcmVxdWlyZShcIi4vU2NoZW1hQ29tcGlsYXRpb25cIik7XG52YXIgU2NoZW1hVmFsaWRhdGlvbiAgPSByZXF1aXJlKFwiLi9TY2hlbWFWYWxpZGF0aW9uXCIpO1xudmFyIFV0aWxzICAgICAgICAgICAgID0gcmVxdWlyZShcIi4vVXRpbHNcIik7XG52YXIgRHJhZnQ0U2NoZW1hICAgICAgPSByZXF1aXJlKFwiLi9zY2hlbWFzL3NjaGVtYS5qc29uXCIpO1xudmFyIERyYWZ0NEh5cGVyU2NoZW1hID0gcmVxdWlyZShcIi4vc2NoZW1hcy9oeXBlci1zY2hlbWEuanNvblwiKTtcblxuLyoqXG4gKiBkZWZhdWx0IG9wdGlvbnNcbiAqL1xudmFyIGRlZmF1bHRPcHRpb25zID0ge1xuICAgIC8vIGRlZmF1bHQgdGltZW91dCBmb3IgYWxsIGFzeW5jIHRhc2tzXG4gICAgYXN5bmNUaW1lb3V0OiAyMDAwLFxuICAgIC8vIGZvcmNlIGFkZGl0aW9uYWxQcm9wZXJ0aWVzIGFuZCBhZGRpdGlvbmFsSXRlbXMgdG8gYmUgZGVmaW5lZCBvbiBcIm9iamVjdFwiIGFuZCBcImFycmF5XCIgdHlwZXNcbiAgICBmb3JjZUFkZGl0aW9uYWw6IGZhbHNlLFxuICAgIC8vIGFzc3VtZSBhZGRpdGlvbmFsUHJvcGVydGllcyBhbmQgYWRkaXRpb25hbEl0ZW1zIGFyZSBkZWZpbmVkIGFzIFwiZmFsc2VcIiB3aGVyZSBhcHByb3ByaWF0ZVxuICAgIGFzc3VtZUFkZGl0aW9uYWw6IGZhbHNlLFxuICAgIC8vIGRvIGNhc2UgaW5zZW5zaXRpdmUgY29tcGFyaXNvbiBmb3IgZW51bXNcbiAgICBlbnVtQ2FzZUluc2Vuc2l0aXZlQ29tcGFyaXNvbjogZmFsc2UsXG4gICAgLy8gZm9yY2UgaXRlbXMgdG8gYmUgZGVmaW5lZCBvbiBcImFycmF5XCIgdHlwZXNcbiAgICBmb3JjZUl0ZW1zOiBmYWxzZSxcbiAgICAvLyBmb3JjZSBtaW5JdGVtcyB0byBiZSBkZWZpbmVkIG9uIFwiYXJyYXlcIiB0eXBlc1xuICAgIGZvcmNlTWluSXRlbXM6IGZhbHNlLFxuICAgIC8vIGZvcmNlIG1heEl0ZW1zIHRvIGJlIGRlZmluZWQgb24gXCJhcnJheVwiIHR5cGVzXG4gICAgZm9yY2VNYXhJdGVtczogZmFsc2UsXG4gICAgLy8gZm9yY2UgbWluTGVuZ3RoIHRvIGJlIGRlZmluZWQgb24gXCJzdHJpbmdcIiB0eXBlc1xuICAgIGZvcmNlTWluTGVuZ3RoOiBmYWxzZSxcbiAgICAvLyBmb3JjZSBtYXhMZW5ndGggdG8gYmUgZGVmaW5lZCBvbiBcInN0cmluZ1wiIHR5cGVzXG4gICAgZm9yY2VNYXhMZW5ndGg6IGZhbHNlLFxuICAgIC8vIGZvcmNlIHByb3BlcnRpZXMgb3IgcGF0dGVyblByb3BlcnRpZXMgdG8gYmUgZGVmaW5lZCBvbiBcIm9iamVjdFwiIHR5cGVzXG4gICAgZm9yY2VQcm9wZXJ0aWVzOiBmYWxzZSxcbiAgICAvLyBpZ25vcmUgcmVmZXJlbmNlcyB0aGF0IGNhbm5vdCBiZSByZXNvbHZlZCAocmVtb3RlIHNjaGVtYXMpIC8vIFRPRE86IG1ha2Ugc3VyZSB0aGlzIGlzIG9ubHkgZm9yIHJlbW90ZSBzY2hlbWFzLCBub3QgbG9jYWwgb25lc1xuICAgIGlnbm9yZVVucmVzb2x2YWJsZVJlZmVyZW5jZXM6IGZhbHNlLFxuICAgIC8vIGRpc2FsbG93IHVzYWdlIG9mIGtleXdvcmRzIHRoYXQgdGhpcyB2YWxpZGF0b3IgY2FuJ3QgaGFuZGxlXG4gICAgbm9FeHRyYUtleXdvcmRzOiBmYWxzZSxcbiAgICAvLyBkaXNhbGxvdyB1c2FnZSBvZiBzY2hlbWEncyB3aXRob3V0IFwidHlwZVwiIGRlZmluZWRcbiAgICBub1R5cGVsZXNzOiBmYWxzZSxcbiAgICAvLyBkaXNhbGxvdyB6ZXJvIGxlbmd0aCBzdHJpbmdzIGluIHZhbGlkYXRlZCBvYmplY3RzXG4gICAgbm9FbXB0eVN0cmluZ3M6IGZhbHNlLFxuICAgIC8vIGRpc2FsbG93IHplcm8gbGVuZ3RoIGFycmF5cyBpbiB2YWxpZGF0ZWQgb2JqZWN0c1xuICAgIG5vRW1wdHlBcnJheXM6IGZhbHNlLFxuICAgIC8vIGZvcmNlcyBcInVyaVwiIGZvcm1hdCB0byBiZSBpbiBmdWxseSByZmMzOTg2IGNvbXBsaWFudFxuICAgIHN0cmljdFVyaXM6IGZhbHNlLFxuICAgIC8vIHR1cm4gb24gc29tZSBvZiB0aGUgYWJvdmVcbiAgICBzdHJpY3RNb2RlOiBmYWxzZSxcbiAgICAvLyByZXBvcnQgZXJyb3IgcGF0aHMgYXMgYW4gYXJyYXkgb2YgcGF0aCBzZWdtZW50cyB0byBnZXQgdG8gdGhlIG9mZmVuZGluZyBub2RlXG4gICAgcmVwb3J0UGF0aEFzQXJyYXk6IGZhbHNlLFxuICAgIC8vIHN0b3AgdmFsaWRhdGlvbiBhcyBzb29uIGFzIGFuIGVycm9yIGlzIGZvdW5kXG4gICAgYnJlYWtPbkZpcnN0RXJyb3I6IGZhbHNlLFxuICAgIC8vIGNoZWNrIGlmIHNjaGVtYSBmb2xsb3dzIGJlc3QgcHJhY3RpY2VzIGFuZCBjb21tb24gc2Vuc2VcbiAgICBwZWRhbnRpY0NoZWNrOiBmYWxzZSxcbiAgICAvLyBpZ25vcmUgdW5rbm93biBmb3JtYXRzIChkbyBub3QgcmVwb3J0IHRoZW0gYXMgYW4gZXJyb3IpXG4gICAgaWdub3JlVW5rbm93bkZvcm1hdHM6IGZhbHNlLFxuICAgIC8vIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbiBldmVyeSBzY2hlbWFcbiAgICBjdXN0b21WYWxpZGF0b3I6IG51bGxcbn07XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZU9wdGlvbnMob3B0aW9ucykge1xuICAgIHZhciBub3JtYWxpemVkO1xuXG4gICAgLy8gb3B0aW9uc1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9wdGlvbnMpLFxuICAgICAgICAgICAgaWR4ID0ga2V5cy5sZW5ndGgsXG4gICAgICAgICAgICBrZXk7XG5cbiAgICAgICAgLy8gY2hlY2sgdGhhdCB0aGUgb3B0aW9ucyBhcmUgY29ycmVjdGx5IGNvbmZpZ3VyZWRcbiAgICAgICAgd2hpbGUgKGlkeC0tKSB7XG4gICAgICAgICAgICBrZXkgPSBrZXlzW2lkeF07XG4gICAgICAgICAgICBpZiAoZGVmYXVsdE9wdGlvbnNba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCBvcHRpb24gcGFzc2VkIHRvIGNvbnN0cnVjdG9yOiBcIiArIGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb3B5IHRoZSBkZWZhdWx0IG9wdGlvbnMgaW50byBwYXNzZWQgb3B0aW9uc1xuICAgICAgICBrZXlzID0gT2JqZWN0LmtleXMoZGVmYXVsdE9wdGlvbnMpO1xuICAgICAgICBpZHggPSBrZXlzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGlkeC0tKSB7XG4gICAgICAgICAgICBrZXkgPSBrZXlzW2lkeF07XG4gICAgICAgICAgICBpZiAob3B0aW9uc1trZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zW2tleV0gPSBVdGlscy5jbG9uZShkZWZhdWx0T3B0aW9uc1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG5vcm1hbGl6ZWQgPSBvcHRpb25zO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG5vcm1hbGl6ZWQgPSBVdGlscy5jbG9uZShkZWZhdWx0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgaWYgKG5vcm1hbGl6ZWQuc3RyaWN0TW9kZSA9PT0gdHJ1ZSkge1xuICAgICAgICBub3JtYWxpemVkLmZvcmNlQWRkaXRpb25hbCAgPSB0cnVlO1xuICAgICAgICBub3JtYWxpemVkLmZvcmNlSXRlbXMgICAgICAgPSB0cnVlO1xuICAgICAgICBub3JtYWxpemVkLmZvcmNlTWF4TGVuZ3RoICAgPSB0cnVlO1xuICAgICAgICBub3JtYWxpemVkLmZvcmNlUHJvcGVydGllcyAgPSB0cnVlO1xuICAgICAgICBub3JtYWxpemVkLm5vRXh0cmFLZXl3b3JkcyAgPSB0cnVlO1xuICAgICAgICBub3JtYWxpemVkLm5vVHlwZWxlc3MgICAgICAgPSB0cnVlO1xuICAgICAgICBub3JtYWxpemVkLm5vRW1wdHlTdHJpbmdzICAgPSB0cnVlO1xuICAgICAgICBub3JtYWxpemVkLm5vRW1wdHlBcnJheXMgICAgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBub3JtYWxpemVkO1xufVxuXG4vKipcbiAqIEBjbGFzc1xuICpcbiAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdXG4gKi9cbmZ1bmN0aW9uIFpTY2hlbWEob3B0aW9ucykge1xuICAgIHRoaXMuY2FjaGUgPSB7fTtcbiAgICB0aGlzLnJlZmVyZW5jZUNhY2hlID0gW107XG4gICAgdGhpcy52YWxpZGF0ZU9wdGlvbnMgPSB7fTtcblxuICAgIHRoaXMub3B0aW9ucyA9IG5vcm1hbGl6ZU9wdGlvbnMob3B0aW9ucyk7XG5cbiAgICAvLyBEaXNhYmxlIHN0cmljdCB2YWxpZGF0aW9uIGZvciB0aGUgYnVpbHQtaW4gc2NoZW1hc1xuICAgIHZhciBtZXRhc2NoZW1hT3B0aW9ucyA9IG5vcm1hbGl6ZU9wdGlvbnMoeyB9KTtcblxuICAgIHRoaXMuc2V0UmVtb3RlUmVmZXJlbmNlKFwiaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNC9zY2hlbWFcIiwgRHJhZnQ0U2NoZW1hLCBtZXRhc2NoZW1hT3B0aW9ucyk7XG4gICAgdGhpcy5zZXRSZW1vdGVSZWZlcmVuY2UoXCJodHRwOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LTA0L2h5cGVyLXNjaGVtYVwiLCBEcmFmdDRIeXBlclNjaGVtYSwgbWV0YXNjaGVtYU9wdGlvbnMpO1xufVxuXG4vKipcbiAqIGluc3RhbmNlIG1ldGhvZHNcbiAqXG4gKiBAcGFyYW0geyp9IHNjaGVtYVxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5aU2NoZW1hLnByb3RvdHlwZS5jb21waWxlU2NoZW1hID0gZnVuY3Rpb24gKHNjaGVtYSkge1xuICAgIHZhciByZXBvcnQgPSBuZXcgUmVwb3J0KHRoaXMub3B0aW9ucyk7XG5cbiAgICBzY2hlbWEgPSBTY2hlbWFDYWNoZS5nZXRTY2hlbWEuY2FsbCh0aGlzLCByZXBvcnQsIHNjaGVtYSk7XG5cbiAgICBTY2hlbWFDb21waWxhdGlvbi5jb21waWxlU2NoZW1hLmNhbGwodGhpcywgcmVwb3J0LCBzY2hlbWEpO1xuXG4gICAgdGhpcy5sYXN0UmVwb3J0ID0gcmVwb3J0O1xuICAgIHJldHVybiByZXBvcnQuaXNWYWxpZCgpO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHsqfSBzY2hlbWFcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuWlNjaGVtYS5wcm90b3R5cGUudmFsaWRhdGVTY2hlbWEgPSBmdW5jdGlvbiAoc2NoZW1hKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hKSAmJiBzY2hlbWEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIi52YWxpZGF0ZVNjaGVtYSB3YXMgY2FsbGVkIHdpdGggYW4gZW1wdHkgYXJyYXlcIik7XG4gICAgfVxuXG4gICAgdmFyIHJlcG9ydCA9IG5ldyBSZXBvcnQodGhpcy5vcHRpb25zKTtcblxuICAgIHNjaGVtYSA9IFNjaGVtYUNhY2hlLmdldFNjaGVtYS5jYWxsKHRoaXMsIHJlcG9ydCwgc2NoZW1hKTtcblxuICAgIHZhciBjb21waWxlZCA9IFNjaGVtYUNvbXBpbGF0aW9uLmNvbXBpbGVTY2hlbWEuY2FsbCh0aGlzLCByZXBvcnQsIHNjaGVtYSk7XG4gICAgaWYgKGNvbXBpbGVkKSB7IFNjaGVtYVZhbGlkYXRpb24udmFsaWRhdGVTY2hlbWEuY2FsbCh0aGlzLCByZXBvcnQsIHNjaGVtYSk7IH1cblxuICAgIHRoaXMubGFzdFJlcG9ydCA9IHJlcG9ydDtcbiAgICByZXR1cm4gcmVwb3J0LmlzVmFsaWQoKTtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7Kn0ganNvblxuICogQHBhcmFtIHsqfSBzY2hlbWFcbiAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCosICopfSBbY2FsbGJhY2tdXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cblpTY2hlbWEucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24gKGpzb24sIHNjaGVtYSwgb3B0aW9ucywgY2FsbGJhY2spIHtcblxuICAgIGlmIChVdGlscy53aGF0SXMob3B0aW9ucykgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBjYWxsYmFjayA9IG9wdGlvbnM7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zKSB7IG9wdGlvbnMgPSB7fTsgfVxuXG4gICAgdGhpcy52YWxpZGF0ZU9wdGlvbnMgPSBvcHRpb25zO1xuXG4gICAgdmFyIHdoYXRJcyA9IFV0aWxzLndoYXRJcyhzY2hlbWEpO1xuICAgIGlmICh3aGF0SXMgIT09IFwic3RyaW5nXCIgJiYgd2hhdElzICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHZhciBlID0gbmV3IEVycm9yKFwiSW52YWxpZCAudmFsaWRhdGUgY2FsbCAtIHNjaGVtYSBtdXN0IGJlIGEgc3RyaW5nIG9yIG9iamVjdCBidXQgXCIgKyB3aGF0SXMgKyBcIiB3YXMgcGFzc2VkIVwiKTtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlLCBmYWxzZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlO1xuICAgIH1cblxuICAgIHZhciBmb3VuZEVycm9yID0gZmFsc2U7XG4gICAgdmFyIHJlcG9ydCA9IG5ldyBSZXBvcnQodGhpcy5vcHRpb25zKTtcbiAgICByZXBvcnQuanNvbiA9IGpzb247XG5cbiAgICBpZiAodHlwZW9mIHNjaGVtYSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICB2YXIgc2NoZW1hTmFtZSA9IHNjaGVtYTtcbiAgICAgICAgc2NoZW1hID0gU2NoZW1hQ2FjaGUuZ2V0U2NoZW1hLmNhbGwodGhpcywgcmVwb3J0LCBzY2hlbWFOYW1lKTtcbiAgICAgICAgaWYgKCFzY2hlbWEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNjaGVtYSB3aXRoIGlkICdcIiArIHNjaGVtYU5hbWUgKyBcIicgd2Fzbid0IGZvdW5kIGluIHRoZSB2YWxpZGF0b3IgY2FjaGUhXCIpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc2NoZW1hID0gU2NoZW1hQ2FjaGUuZ2V0U2NoZW1hLmNhbGwodGhpcywgcmVwb3J0LCBzY2hlbWEpO1xuICAgIH1cblxuICAgIHZhciBjb21waWxlZCA9IGZhbHNlO1xuICAgIGlmICghZm91bmRFcnJvcikge1xuICAgICAgICBjb21waWxlZCA9IFNjaGVtYUNvbXBpbGF0aW9uLmNvbXBpbGVTY2hlbWEuY2FsbCh0aGlzLCByZXBvcnQsIHNjaGVtYSk7XG4gICAgfVxuICAgIGlmICghY29tcGlsZWQpIHtcbiAgICAgICAgdGhpcy5sYXN0UmVwb3J0ID0gcmVwb3J0O1xuICAgICAgICBmb3VuZEVycm9yID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgdmFsaWRhdGVkID0gZmFsc2U7XG4gICAgaWYgKCFmb3VuZEVycm9yKSB7XG4gICAgICAgIHZhbGlkYXRlZCA9IFNjaGVtYVZhbGlkYXRpb24udmFsaWRhdGVTY2hlbWEuY2FsbCh0aGlzLCByZXBvcnQsIHNjaGVtYSk7XG4gICAgfVxuICAgIGlmICghdmFsaWRhdGVkKSB7XG4gICAgICAgIHRoaXMubGFzdFJlcG9ydCA9IHJlcG9ydDtcbiAgICAgICAgZm91bmRFcnJvciA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuc2NoZW1hUGF0aCkge1xuICAgICAgICByZXBvcnQucm9vdFNjaGVtYSA9IHNjaGVtYTtcbiAgICAgICAgc2NoZW1hID0gZ2V0KHNjaGVtYSwgb3B0aW9ucy5zY2hlbWFQYXRoKTtcbiAgICAgICAgaWYgKCFzY2hlbWEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNjaGVtYSBwYXRoICdcIiArIG9wdGlvbnMuc2NoZW1hUGF0aCArIFwiJyB3YXNuJ3QgZm91bmQgaW4gdGhlIHNjaGVtYSFcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWZvdW5kRXJyb3IpIHtcbiAgICAgICAgSnNvblZhbGlkYXRpb24udmFsaWRhdGUuY2FsbCh0aGlzLCByZXBvcnQsIHNjaGVtYSwganNvbik7XG4gICAgfVxuXG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIHJlcG9ydC5wcm9jZXNzQXN5bmNUYXNrcyh0aGlzLm9wdGlvbnMuYXN5bmNUaW1lb3V0LCBjYWxsYmFjayk7XG4gICAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKHJlcG9ydC5hc3luY1Rhc2tzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyB2YWxpZGF0aW9uIGhhcyBhc3luYyB0YXNrcyBhbmQgY2Fubm90IGJlIGRvbmUgaW4gc3luYyBtb2RlLCBwbGVhc2UgcHJvdmlkZSBjYWxsYmFjayBhcmd1bWVudC5cIik7XG4gICAgfVxuXG4gICAgLy8gYXNzaWduIGxhc3RSZXBvcnQgc28gZXJyb3JzIGFyZSByZXRyaWV2YWJsZSBpbiBzeW5jIG1vZGVcbiAgICB0aGlzLmxhc3RSZXBvcnQgPSByZXBvcnQ7XG4gICAgcmV0dXJuIHJlcG9ydC5pc1ZhbGlkKCk7XG59O1xuWlNjaGVtYS5wcm90b3R5cGUuZ2V0TGFzdEVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmxhc3RSZXBvcnQuZXJyb3JzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIGUgPSBuZXcgRXJyb3IoKTtcbiAgICBlLm5hbWUgPSBcInotc2NoZW1hIHZhbGlkYXRpb24gZXJyb3JcIjtcbiAgICBlLm1lc3NhZ2UgPSB0aGlzLmxhc3RSZXBvcnQuY29tbW9uRXJyb3JNZXNzYWdlO1xuICAgIGUuZGV0YWlscyA9IHRoaXMubGFzdFJlcG9ydC5lcnJvcnM7XG4gICAgcmV0dXJuIGU7XG59O1xuWlNjaGVtYS5wcm90b3R5cGUuZ2V0TGFzdEVycm9ycyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5sYXN0UmVwb3J0ICYmIHRoaXMubGFzdFJlcG9ydC5lcnJvcnMubGVuZ3RoID4gMCA/IHRoaXMubGFzdFJlcG9ydC5lcnJvcnMgOiBudWxsO1xufTtcblpTY2hlbWEucHJvdG90eXBlLmdldE1pc3NpbmdSZWZlcmVuY2VzID0gZnVuY3Rpb24gKGFycikge1xuICAgIGFyciA9IGFyciB8fCB0aGlzLmxhc3RSZXBvcnQuZXJyb3JzO1xuICAgIHZhciByZXMgPSBbXSxcbiAgICAgICAgaWR4ID0gYXJyLmxlbmd0aDtcbiAgICB3aGlsZSAoaWR4LS0pIHtcbiAgICAgICAgdmFyIGVycm9yID0gYXJyW2lkeF07XG4gICAgICAgIGlmIChlcnJvci5jb2RlID09PSBcIlVOUkVTT0xWQUJMRV9SRUZFUkVOQ0VcIikge1xuICAgICAgICAgICAgdmFyIHJlZmVyZW5jZSA9IGVycm9yLnBhcmFtc1swXTtcbiAgICAgICAgICAgIGlmIChyZXMuaW5kZXhPZihyZWZlcmVuY2UpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHJlcy5wdXNoKHJlZmVyZW5jZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9yLmlubmVyKSB7XG4gICAgICAgICAgICByZXMgPSByZXMuY29uY2F0KHRoaXMuZ2V0TWlzc2luZ1JlZmVyZW5jZXMoZXJyb3IuaW5uZXIpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufTtcblpTY2hlbWEucHJvdG90eXBlLmdldE1pc3NpbmdSZW1vdGVSZWZlcmVuY2VzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBtaXNzaW5nUmVmZXJlbmNlcyA9IHRoaXMuZ2V0TWlzc2luZ1JlZmVyZW5jZXMoKSxcbiAgICAgICAgbWlzc2luZ1JlbW90ZVJlZmVyZW5jZXMgPSBbXSxcbiAgICAgICAgaWR4ID0gbWlzc2luZ1JlZmVyZW5jZXMubGVuZ3RoO1xuICAgIHdoaWxlIChpZHgtLSkge1xuICAgICAgICB2YXIgcmVtb3RlUmVmZXJlbmNlID0gU2NoZW1hQ2FjaGUuZ2V0UmVtb3RlUGF0aChtaXNzaW5nUmVmZXJlbmNlc1tpZHhdKTtcbiAgICAgICAgaWYgKHJlbW90ZVJlZmVyZW5jZSAmJiBtaXNzaW5nUmVtb3RlUmVmZXJlbmNlcy5pbmRleE9mKHJlbW90ZVJlZmVyZW5jZSkgPT09IC0xKSB7XG4gICAgICAgICAgICBtaXNzaW5nUmVtb3RlUmVmZXJlbmNlcy5wdXNoKHJlbW90ZVJlZmVyZW5jZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1pc3NpbmdSZW1vdGVSZWZlcmVuY2VzO1xufTtcblpTY2hlbWEucHJvdG90eXBlLnNldFJlbW90ZVJlZmVyZW5jZSA9IGZ1bmN0aW9uICh1cmksIHNjaGVtYSwgdmFsaWRhdGlvbk9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIHNjaGVtYSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBzY2hlbWEgPSBKU09OLnBhcnNlKHNjaGVtYSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc2NoZW1hID0gVXRpbHMuY2xvbmVEZWVwKHNjaGVtYSk7XG4gICAgfVxuXG4gICAgaWYgKHZhbGlkYXRpb25PcHRpb25zKSB7XG4gICAgICAgIHNjaGVtYS5fXyR2YWxpZGF0aW9uT3B0aW9ucyA9IG5vcm1hbGl6ZU9wdGlvbnModmFsaWRhdGlvbk9wdGlvbnMpO1xuICAgIH1cblxuICAgIFNjaGVtYUNhY2hlLmNhY2hlU2NoZW1hQnlVcmkuY2FsbCh0aGlzLCB1cmksIHNjaGVtYSk7XG59O1xuWlNjaGVtYS5wcm90b3R5cGUuZ2V0UmVzb2x2ZWRTY2hlbWEgPSBmdW5jdGlvbiAoc2NoZW1hKSB7XG4gICAgdmFyIHJlcG9ydCA9IG5ldyBSZXBvcnQodGhpcy5vcHRpb25zKTtcbiAgICBzY2hlbWEgPSBTY2hlbWFDYWNoZS5nZXRTY2hlbWEuY2FsbCh0aGlzLCByZXBvcnQsIHNjaGVtYSk7XG5cbiAgICAvLyBjbG9uZSBiZWZvcmUgbWFraW5nIGFueSBtb2RpZmljYXRpb25zXG4gICAgc2NoZW1hID0gVXRpbHMuY2xvbmVEZWVwKHNjaGVtYSk7XG5cbiAgICB2YXIgdmlzaXRlZCA9IFtdO1xuXG4gICAgLy8gY2xlYW4tdXAgdGhlIHNjaGVtYSBhbmQgcmVzb2x2ZSByZWZlcmVuY2VzXG4gICAgdmFyIGNsZWFudXAgPSBmdW5jdGlvbiAoc2NoZW1hKSB7XG4gICAgICAgIHZhciBrZXksXG4gICAgICAgICAgICB0eXBlT2YgPSBVdGlscy53aGF0SXMoc2NoZW1hKTtcbiAgICAgICAgaWYgKHR5cGVPZiAhPT0gXCJvYmplY3RcIiAmJiB0eXBlT2YgIT09IFwiYXJyYXlcIikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNjaGVtYS5fX18kdmlzaXRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NoZW1hLl9fXyR2aXNpdGVkID0gdHJ1ZTtcbiAgICAgICAgdmlzaXRlZC5wdXNoKHNjaGVtYSk7XG5cbiAgICAgICAgaWYgKHNjaGVtYS4kcmVmICYmIHNjaGVtYS5fXyRyZWZSZXNvbHZlZCkge1xuICAgICAgICAgICAgdmFyIGZyb20gPSBzY2hlbWEuX18kcmVmUmVzb2x2ZWQ7XG4gICAgICAgICAgICB2YXIgdG8gPSBzY2hlbWE7XG4gICAgICAgICAgICBkZWxldGUgc2NoZW1hLiRyZWY7XG4gICAgICAgICAgICBkZWxldGUgc2NoZW1hLl9fJHJlZlJlc29sdmVkO1xuICAgICAgICAgICAgZm9yIChrZXkgaW4gZnJvbSkge1xuICAgICAgICAgICAgICAgIGlmIChmcm9tLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9ba2V5XSA9IGZyb21ba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChrZXkgaW4gc2NoZW1hKSB7XG4gICAgICAgICAgICBpZiAoc2NoZW1hLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5LmluZGV4T2YoXCJfXyRcIikgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNjaGVtYVtrZXldO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFudXAoc2NoZW1hW2tleV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjbGVhbnVwKHNjaGVtYSk7XG4gICAgdmlzaXRlZC5mb3JFYWNoKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgIGRlbGV0ZSBzLl9fXyR2aXNpdGVkO1xuICAgIH0pO1xuXG4gICAgdGhpcy5sYXN0UmVwb3J0ID0gcmVwb3J0O1xuICAgIGlmIChyZXBvcnQuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBzY2hlbWE7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgdGhpcy5nZXRMYXN0RXJyb3IoKTtcbiAgICB9XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0geyp9IHNjaGVtYVJlYWRlclxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5aU2NoZW1hLnByb3RvdHlwZS5zZXRTY2hlbWFSZWFkZXIgPSBmdW5jdGlvbiAoc2NoZW1hUmVhZGVyKSB7XG4gICAgcmV0dXJuIFpTY2hlbWEuc2V0U2NoZW1hUmVhZGVyKHNjaGVtYVJlYWRlcik7XG59O1xuXG5aU2NoZW1hLnByb3RvdHlwZS5nZXRTY2hlbWFSZWFkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFpTY2hlbWEuc2NoZW1hUmVhZGVyO1xufTtcblxuWlNjaGVtYS5zY2hlbWFSZWFkZXIgPSB1bmRlZmluZWQ7XG4vKlxuICAgIHN0YXRpYyBtZXRob2RzXG4qL1xuWlNjaGVtYS5zZXRTY2hlbWFSZWFkZXIgPSBmdW5jdGlvbiAoc2NoZW1hUmVhZGVyKSB7XG4gICAgWlNjaGVtYS5zY2hlbWFSZWFkZXIgPSBzY2hlbWFSZWFkZXI7XG59O1xuWlNjaGVtYS5yZWdpc3RlckZvcm1hdCA9IGZ1bmN0aW9uIChmb3JtYXROYW1lLCB2YWxpZGF0b3JGdW5jdGlvbikge1xuICAgIEZvcm1hdFZhbGlkYXRvcnNbZm9ybWF0TmFtZV0gPSB2YWxpZGF0b3JGdW5jdGlvbjtcbn07XG5aU2NoZW1hLnVucmVnaXN0ZXJGb3JtYXQgPSBmdW5jdGlvbiAoZm9ybWF0TmFtZSkge1xuICAgIGRlbGV0ZSBGb3JtYXRWYWxpZGF0b3JzW2Zvcm1hdE5hbWVdO1xufTtcblpTY2hlbWEuZ2V0UmVnaXN0ZXJlZEZvcm1hdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKEZvcm1hdFZhbGlkYXRvcnMpO1xufTtcblpTY2hlbWEuZ2V0RGVmYXVsdE9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFV0aWxzLmNsb25lRGVlcChkZWZhdWx0T3B0aW9ucyk7XG59O1xuXG5aU2NoZW1hLnNjaGVtYVN5bWJvbCA9IFV0aWxzLnNjaGVtYVN5bWJvbDtcblxuWlNjaGVtYS5qc29uU3ltYm9sID0gVXRpbHMuanNvblN5bWJvbDtcblxubW9kdWxlLmV4cG9ydHMgPSBaU2NoZW1hO1xuIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJnZXQiLCJSZXBvcnQiLCJGb3JtYXRWYWxpZGF0b3JzIiwiSnNvblZhbGlkYXRpb24iLCJTY2hlbWFDYWNoZSIsIlNjaGVtYUNvbXBpbGF0aW9uIiwiU2NoZW1hVmFsaWRhdGlvbiIsIlV0aWxzIiwiRHJhZnQ0U2NoZW1hIiwiRHJhZnQ0SHlwZXJTY2hlbWEiLCJkZWZhdWx0T3B0aW9ucyIsImFzeW5jVGltZW91dCIsImZvcmNlQWRkaXRpb25hbCIsImFzc3VtZUFkZGl0aW9uYWwiLCJlbnVtQ2FzZUluc2Vuc2l0aXZlQ29tcGFyaXNvbiIsImZvcmNlSXRlbXMiLCJmb3JjZU1pbkl0ZW1zIiwiZm9yY2VNYXhJdGVtcyIsImZvcmNlTWluTGVuZ3RoIiwiZm9yY2VNYXhMZW5ndGgiLCJmb3JjZVByb3BlcnRpZXMiLCJpZ25vcmVVbnJlc29sdmFibGVSZWZlcmVuY2VzIiwibm9FeHRyYUtleXdvcmRzIiwibm9UeXBlbGVzcyIsIm5vRW1wdHlTdHJpbmdzIiwibm9FbXB0eUFycmF5cyIsInN0cmljdFVyaXMiLCJzdHJpY3RNb2RlIiwicmVwb3J0UGF0aEFzQXJyYXkiLCJicmVha09uRmlyc3RFcnJvciIsInBlZGFudGljQ2hlY2siLCJpZ25vcmVVbmtub3duRm9ybWF0cyIsImN1c3RvbVZhbGlkYXRvciIsIm5vcm1hbGl6ZU9wdGlvbnMiLCJvcHRpb25zIiwibm9ybWFsaXplZCIsImtleXMiLCJPYmplY3QiLCJpZHgiLCJsZW5ndGgiLCJrZXkiLCJ1bmRlZmluZWQiLCJFcnJvciIsImNsb25lIiwiWlNjaGVtYSIsImNhY2hlIiwicmVmZXJlbmNlQ2FjaGUiLCJ2YWxpZGF0ZU9wdGlvbnMiLCJtZXRhc2NoZW1hT3B0aW9ucyIsInNldFJlbW90ZVJlZmVyZW5jZSIsInByb3RvdHlwZSIsImNvbXBpbGVTY2hlbWEiLCJzY2hlbWEiLCJyZXBvcnQiLCJnZXRTY2hlbWEiLCJjYWxsIiwibGFzdFJlcG9ydCIsImlzVmFsaWQiLCJ2YWxpZGF0ZVNjaGVtYSIsIkFycmF5IiwiaXNBcnJheSIsImNvbXBpbGVkIiwidmFsaWRhdGUiLCJqc29uIiwiY2FsbGJhY2siLCJ3aGF0SXMiLCJlIiwicHJvY2VzcyIsIm5leHRUaWNrIiwiZm91bmRFcnJvciIsInNjaGVtYU5hbWUiLCJ2YWxpZGF0ZWQiLCJzY2hlbWFQYXRoIiwicm9vdFNjaGVtYSIsInByb2Nlc3NBc3luY1Rhc2tzIiwiYXN5bmNUYXNrcyIsImdldExhc3RFcnJvciIsImVycm9ycyIsIm5hbWUiLCJtZXNzYWdlIiwiY29tbW9uRXJyb3JNZXNzYWdlIiwiZGV0YWlscyIsImdldExhc3RFcnJvcnMiLCJnZXRNaXNzaW5nUmVmZXJlbmNlcyIsImFyciIsInJlcyIsImVycm9yIiwiY29kZSIsInJlZmVyZW5jZSIsInBhcmFtcyIsImluZGV4T2YiLCJwdXNoIiwiaW5uZXIiLCJjb25jYXQiLCJnZXRNaXNzaW5nUmVtb3RlUmVmZXJlbmNlcyIsIm1pc3NpbmdSZWZlcmVuY2VzIiwibWlzc2luZ1JlbW90ZVJlZmVyZW5jZXMiLCJyZW1vdGVSZWZlcmVuY2UiLCJnZXRSZW1vdGVQYXRoIiwidXJpIiwidmFsaWRhdGlvbk9wdGlvbnMiLCJKU09OIiwicGFyc2UiLCJjbG9uZURlZXAiLCJfXyR2YWxpZGF0aW9uT3B0aW9ucyIsImNhY2hlU2NoZW1hQnlVcmkiLCJnZXRSZXNvbHZlZFNjaGVtYSIsInZpc2l0ZWQiLCJjbGVhbnVwIiwidHlwZU9mIiwiX19fJHZpc2l0ZWQiLCIkcmVmIiwiX18kcmVmUmVzb2x2ZWQiLCJmcm9tIiwidG8iLCJoYXNPd25Qcm9wZXJ0eSIsImZvckVhY2giLCJzIiwic2V0U2NoZW1hUmVhZGVyIiwic2NoZW1hUmVhZGVyIiwiZ2V0U2NoZW1hUmVhZGVyIiwicmVnaXN0ZXJGb3JtYXQiLCJmb3JtYXROYW1lIiwidmFsaWRhdG9yRnVuY3Rpb24iLCJ1bnJlZ2lzdGVyRm9ybWF0IiwiZ2V0UmVnaXN0ZXJlZEZvcm1hdHMiLCJnZXREZWZhdWx0T3B0aW9ucyIsInNjaGVtYVN5bWJvbCIsImpzb25TeW1ib2wiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/z-schema/src/ZSchema.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/z-schema/src/schemas/hyper-schema.json":
/*!*************************************************************!*\
  !*** ./node_modules/z-schema/src/schemas/hyper-schema.json ***!
  \*************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"$schema":"http://json-schema.org/draft-04/hyper-schema#","id":"http://json-schema.org/draft-04/hyper-schema#","title":"JSON Hyper-Schema","allOf":[{"$ref":"http://json-schema.org/draft-04/schema#"}],"properties":{"additionalItems":{"anyOf":[{"type":"boolean"},{"$ref":"#"}]},"additionalProperties":{"anyOf":[{"type":"boolean"},{"$ref":"#"}]},"dependencies":{"additionalProperties":{"anyOf":[{"$ref":"#"},{"type":"array"}]}},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}]},"definitions":{"additionalProperties":{"$ref":"#"}},"patternProperties":{"additionalProperties":{"$ref":"#"}},"properties":{"additionalProperties":{"$ref":"#"}},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"},"links":{"type":"array","items":{"$ref":"#/definitions/linkDescription"}},"fragmentResolution":{"type":"string"},"media":{"type":"object","properties":{"type":{"description":"A media type, as described in RFC 2046","type":"string"},"binaryEncoding":{"description":"A content encoding scheme, as described in RFC 2045","type":"string"}}},"pathStart":{"description":"Instances\' URIs must start with this value for this schema to apply to them","type":"string","format":"uri"}},"definitions":{"schemaArray":{"type":"array","items":{"$ref":"#"}},"linkDescription":{"title":"Link Description Object","type":"object","required":["href","rel"],"properties":{"href":{"description":"a URI template, as defined by RFC 6570, with the addition of the $, ( and ) characters for pre-processing","type":"string"},"rel":{"description":"relation to the target resource of the link","type":"string"},"title":{"description":"a title for the link","type":"string"},"targetSchema":{"description":"JSON Schema describing the link target","$ref":"#"},"mediaType":{"description":"media type (as defined by RFC 2046) describing the link target","type":"string"},"method":{"description":"method for requesting the target of the link (e.g. for HTTP this might be \\"GET\\" or \\"DELETE\\")","type":"string"},"encType":{"description":"The media type in which to submit data along with the request","type":"string","default":"application/json"},"schema":{"description":"Schema describing the data to submit along with the request","$ref":"#"}}}}}');

/***/ }),

/***/ "(rsc)/./node_modules/z-schema/src/schemas/schema.json":
/*!*******************************************************!*\
  !*** ./node_modules/z-schema/src/schemas/schema.json ***!
  \*******************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"id":"http://json-schema.org/draft-04/schema#","$schema":"http://json-schema.org/draft-04/schema#","description":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"positiveInteger":{"type":"integer","minimum":0},"positiveIntegerDefault0":{"allOf":[{"$ref":"#/definitions/positiveInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"minItems":1,"uniqueItems":true}},"type":"object","properties":{"id":{"type":"string","format":"uri"},"$schema":{"type":"string","format":"uri"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"multipleOf":{"type":"number","minimum":0,"exclusiveMinimum":true},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"boolean","default":false},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"boolean","default":false},"maxLength":{"$ref":"#/definitions/positiveInteger"},"minLength":{"$ref":"#/definitions/positiveIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/positiveInteger"},"minItems":{"$ref":"#/definitions/positiveIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxProperties":{"$ref":"#/definitions/positiveInteger"},"minProperties":{"$ref":"#/definitions/positiveIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"dependencies":{"exclusiveMaximum":["maximum"],"exclusiveMinimum":["minimum"]},"default":{}}');

/***/ })

};
;